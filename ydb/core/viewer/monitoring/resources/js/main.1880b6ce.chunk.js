(this["webpackJsonpydb-embedded-ui"]=this["webpackJsonpydb-embedded-ui"]||[]).push([[2],{442:function(e,t,a){},467:function(e){e.exports=JSON.parse('{"switch_settings":"Settings","label_more":"More"}')},468:function(e){e.exports=JSON.parse('{"switch_settings":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438","label_more":"\u0415\u0449\u0451"}')},469:function(e){e.exports=JSON.parse('{"heading_settings":"Settings","placeholder_search":"Search settings","not-found":"No results found"}')},470:function(e){e.exports=JSON.parse('{"heading_settings":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438","placeholder_search":"\u041d\u0430\u0439\u0442\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438","not-found":"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}')},485:function(e,t,a){},604:function(e,t,a){},612:function(e,t,a){},613:function(e,t,a){},614:function(e,t,a){},616:function(e,t,a){},619:function(e,t,a){},620:function(e,t,a){},621:function(e,t,a){},622:function(e,t,a){},623:function(e,t,a){},624:function(e,t,a){},625:function(e,t,a){},626:function(e,t,a){},627:function(e,t,a){},719:function(e,t,a){},720:function(e,t,a){},721:function(e,t,a){},723:function(e,t,a){},724:function(e,t,a){},725:function(e,t,a){},727:function(e,t,a){},730:function(e,t,a){},731:function(e,t,a){},732:function(e,t,a){},733:function(e,t,a){},734:function(e,t,a){},735:function(e,t,a){},736:function(e,t,a){},737:function(e,t,a){},740:function(e,t,a){},754:function(e,t,a){},755:function(e,t,a){},756:function(e,t,a){},801:function(e,t,a){},809:function(e,t,a){},810:function(e,t,a){},811:function(e,t,a){},812:function(e,t,a){},813:function(e,t,a){},814:function(e,t,a){},840:function(e,t){},841:function(e,t){},842:function(e,t){},843:function(e,t,a){},844:function(e,t,a){},845:function(e,t,a){},846:function(e,t,a){},847:function(e,t,a){},848:function(e,t,a){},849:function(e,t,a){},901:function(e,t,a){},902:function(e,t,a){},903:function(e,t,a){},904:function(e,t,a){},905:function(e,t,a){},906:function(e,t,a){},907:function(e,t,a){},909:function(e,t,a){},910:function(e,t,a){},911:function(e,t,a){},912:function(e,t,a){},913:function(e,t,a){},914:function(e,t,a){},915:function(e,t,a){},917:function(e,t,a){},918:function(e,t,a){},919:function(e,t,a){},920:function(e,t,a){},924:function(e,t,a){},925:function(e,t,a){},926:function(e,t,a){},927:function(e,t,a){},928:function(e,t,a){},929:function(e,t,a){},930:function(e,t,a){},931:function(e,t,a){},932:function(e,t,a){},933:function(e,t,a){},934:function(e,t,a){},935:function(e,t,a){},936:function(e,t,a){},937:function(e,t,a){},940:function(e,t,a){},941:function(e,t,a){},942:function(e,t,a){},943:function(e,t,a){},944:function(e,t,a){},945:function(e,t,a){},946:function(e,t,a){},947:function(e,t,a){},948:function(e,t,a){},950:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a.n(n),i=a(106),o=a.n(i),s=(a(485),a(0)),c=a(1),l=a(5),d=a(6),u=a(41),h=a(286),p=new h.a,j=a(70),v=a(26),b=a.n(v),f=a(986),m=a(14),O=a(107),g=a.n(O),C=a(444),x=a(445),y=a.n(x),N=a(235),w=a(446),S=a(225),k=a(289),T=a(40),L=a.n(T),E=a(348),I=a(347),M=a(220),P=a(204),D=a(29),R=a(46),H=1e4,A=1e6,F=1e12,V={TABLET_VOLATILE_STATE_UNKNOWN:"unknown",TABLET_VOLATILE_STATE_STOPPED:"stopped",TABLET_VOLATILE_STATE_BOOTING:"booting",TABLET_VOLATILE_STATE_STARTING:"starting",TABLET_VOLATILE_STATE_RUNNING:"running",TABLET_VOLATILE_STATE_BLOCKED:"blocked"},_={Red:["Created","ResolveStateStorage","Candidate","BlockBlobStorage","WriteZeroEntry","Restored","Discover","Lock","Dead"],Orange:["RebuildGraph"],Yellow:["ResolveMaster","ResolveLeader"],Green:["Deleted","Active"]},U=["Active","Deleted","Created","ResolveStateStorage","Candidate","BlockBlobStorage","WriteZeroEntry","Restored","Discover","Lock","Dead","RebuildGraph","ResolveLeader"],z="TxAllocator",Z={OldTxProxy:"P",TxProxy:"P",BSController:"BS",Dummy:"DY",RTMRPartition:"RP",PersQueueReadBalancer:"PB",Cms:"CM",BlockStorePartition:"BP",BlockStoreVolume:"BV",Console:"CN",TenantSlotBroker:"TB"},B=function(e){if(e){var t=e.match(/[A-Z]/g).join("");return Z[e]||t}},Q=["1 min","5 min","15 min"],q={0:"HDD",1:"SSD"},G={green:5,yellow:4,orange:3,red:2,blue:1,grey:1},W="All",K="With problems",Y="theme",J="saved_queries",X="queries_history",$=Object(D.a)({},Y,"light"),ee="default-is-tenant-summary-collapsed",te="default-is-tenant-common-info-collapsed",ae={displayIndices:!1,stickyHead:R.a.MOVING,syncHeadOnResize:!0,dynamicRender:!0,highlightRows:!0},ne=a(448),re=a(18),ie=a(154),oe=a(13),se=a.n(oe),ce=new(a(981).a);var le=function(e){var t=e.name,a=e.title,n=e.type,r=e.content;return ce.createToast({name:null!==t&&void 0!==t?t:"Request succeeded",title:null!==a&&void 0!==a?a:"Request succeeded",type:null!==n&&void 0!==n?n:"success",content:r,isClosable:!0,allowAutoHiding:"success"===n})},de=be("authentication","SET_UNAUTHENTICATED"),ue=be("authentication","SET_AUTHENTICATED"),he=be("authentication","FETCH_USER"),pe={isAuthenticated:!0,user:"",error:""},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de.SUCCESS:return Object(m.a)(Object(m.a)({},e),{},{isAuthenticated:!1,user:"",error:""});case ue.SUCCESS:return Object(m.a)(Object(m.a)({},e),{},{isAuthenticated:!0,error:""});case ue.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{error:t.error});case he.SUCCESS:return Object(m.a)(Object(m.a)({},e),{},{user:t.data});default:return Object(m.a)({},e)}},ve=function(e){return e};function be(e,t){return{REQUEST:"".concat(e,"/").concat(t,"_REQUEST"),SUCCESS:"".concat(e,"/").concat(t,"_SUCCESS"),FAILURE:"".concat(e,"/").concat(t,"_FAILURE")}}function fe(e){var t=e.actions,a=e.request,n=e.dataHandler,r=void 0===n?ve:n,i=function(){var e=Object(ie.a)(se.a.mark((function e(n,i){var o,s;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:t.REQUEST}),e.prev=1,e.next=4,a;case 4:return o=e.sent,s=r(o,i),n({type:t.SUCCESS,data:s}),e.abrupt("return",s);case 10:e.prev=10,e.t0=e.catch(1),e.t0&&401===e.t0.status?n({type:de.SUCCESS}):e.t0&&e.t0.status&&e.t0.statusText&&le({name:"Request failure",title:"Request failure",type:"error",content:"".concat(e.t0.status," ").concat(e.t0.statusText)}),n({type:t.FAILURE,error:e.t0});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}();return i}var me=a(178),Oe=a(17),ge=a(196),Ce=a.n(ge);a(585);Ce.a.locale("ru"),Ce.a.localeData().delimiters.decimal=".";var xe=function(e){return Ce()(e).format("0 ib").replace("i","")},ye=function(e){return"".concat(Math.floor(e/1e9)," GB")},Ne=function(e){return Object.values(e).join("-")},we=function(e){return"".concat(e.NodeId,"-").concat(e.PDiskId)},Se=function(e,t){return[Math.floor(e),Math.floor(t)+" IOPS"]},ke=function(e,t){return[Math.floor(e/F),"".concat(Math.floor(t/F)," TB")]},Te=function(e,t){return[Math.floor(e/1e9),"".concat(Math.floor(t/1e9)," GB")]},Le=function(e,t){return[(e/A).toFixed(2),(t/A).toFixed(1)+" MB/s"]},Ee=function(e){return Ce()(e).format()},Ie=function(e){return Ce()(e/1e6).format("0.00")},Me=function(e){return function(e){var t=Math.floor(e/86400),a=e%86400;return[t&&"".concat(t,"d"),Ce()(a).format("00:00:00")].filter(Boolean).join(" ")}((new Date-Number(e))/1e3)},Pe=function(e){var t=e.name.split("|");return t.length>1?t[1]:e.name},De=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.join("|")},Re=function(e){return e.map((function(e){var t=Object(Oe.a)(e,2),a=t[0],n=t[1];return n&&"".concat(a,": ").concat(Array.isArray(n)?n.join(", "):n)})).filter(Boolean).join("\n")},He=function(e){switch(e.type){case"MultiLookup":case"Lookup":return Re([["lookup by",e.lookup_by],["columns",e.columns]]);case"FullScan":case"Scan":return Re([["scan by",e.scan_by],["limit",e.limit],["columns",e.columns]]);case"Upsert":case"MultiUpsert":case"Erase":case"MultiErase":return Re([["key",e.key],["columns",e.columns]]);default:return""}},Ae=function(e){return L.a.map(e,(function(e){var t={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var n=typeof e[a];"object"===n||"boolean"===n||Array.isArray(e[a])?t[a]=JSON.stringify(e[a]):t[a]=e[a]}return t}))},Fe="All",Ve="Degraded",_e="Out of space",Ue="Groups",ze="Nodes",Ze=be("storage","FETCH_STORAGE"),Be="storage/SET_INITIAL",Qe="storage/SET_FILTER",qe="storage/SET_VISIBLE_GROUPS",Ge="storage/SET_STORAGE_TYPE",We={loading:!0,wasLoaded:!1,filter:"",visible:Ve,type:Ue};var Ke=function(e){return e.storage.type},Ye=function(e){var t;return L.a.reduce(null===(t=e.nodesList)||void 0===t?void 0:t.data,(function(e,t){return e[t.NodeId]=t.Host,e}),{})},Je={Green:1,Yellow:100,Orange:1e4,Red:1e6},Xe=Object(me.a)([function(e){var t;return null===(t=e.storage.data)||void 0===t?void 0:t.StoragePools}],(function(e){return L.a.reduce(e,(function(e,t){var a=L.a.reduce(t.Groups,(function(e,a){var n=L.a.filter(a.VDisks,(function(e){return!e.Replicated||"Normal"!==e.PDisk.State||"OK"!==e.VDiskState})).length,r=L.a.reduce(a.VDisks,(function(e,t){return t.DiskSpace&&(e+=Je[t.DiskSpace]),e}),0),i=L.a.reduce(a.VDisks,(function(e,t){return e+(Number(t.AllocatedSize)||0)}),0),o=L.a.reduce(a.VDisks,(function(e,t){var a;return e+(Number(t.AvailableSize)||Number(null===(a=t.PDisk)||void 0===a?void 0:a.AvailableSize)||0)+(Number(t.AllocatedSize)||0)}),0),s=L.a.reduce(a.VDisks,(function(e,t){return e+(Number(t.ReadThroughput)||0)}),0),c=L.a.reduce(a.VDisks,(function(e,t){return e+(Number(t.WriteThroughput)||0)}),0);return[].concat(Object(re.a)(e),[Object(m.a)(Object(m.a)({},a),{},{Read:s,Write:c,PoolName:t.Name,Used:i,Limit:o,Missing:n,UsedSpaceFlag:r})])}),[]);return[].concat(Object(re.a)(e),Object(re.a)(a))}),[])})),$e=Object(me.a)([function(e){var t;return null===(t=e.storage.data)||void 0===t?void 0:t.Nodes}],(function(e){return L.a.map(e,(function(e){var t,a=null!==(t=e.SystemState)&&void 0!==t?t:{},n=L.a.filter(e.PDisks,(function(e){return"Normal"!==e.State})).length;return{NodeId:e.NodeId,FQDN:a.Host,uptime:Me(a.StartTime),StartTime:a.StartTime,PDisks:e.PDisks,Missing:n}}))})),et=Object(me.a)([Ke,Xe,$e],(function(e,t,a){return e===Ue?t:a})),tt=Object(me.a)([function(e){return e.storage.visible},et],(function(e,t){return e===Fe?t:e===Ve?L.a.filter(t,(function(e){return e.Missing>0})):L.a.filter(t,(function(e){return e.UsedSpaceFlag>100}))})),at=Object(me.a)([function(e){return e.storage.filter},Ke,tt],(function(e,t,a){var n=e.trim().toLowerCase();return n?L.a.filter(a,(function(e){var a;return t===Ue?e.PoolName.toLowerCase().includes(n)||(null===(a=e.GroupID)||void 0===a?void 0:a.toString().includes(n)):e.NodeId.toString().includes(n)||e.FQDN.toLowerCase().includes(n)})):a})),nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case Ze.SUCCESS:return Object(m.a)(Object(m.a)({},e),{},{data:t.data,loading:!1,wasLoaded:!0,error:void 0});case Ze.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1});case Be:return Object(m.a)({},We);case Qe:return Object(m.a)(Object(m.a)({},e),{},{filter:t.data});case qe:return Object(m.a)(Object(m.a)({},e),{},{visible:t.data});case Ge:return Object(m.a)(Object(m.a)({},e),{},{type:t.data,wasLoaded:!1});default:return e}},rt={withCredentials:!window.custom_backend},it=(window.web_version?window.systemSettings:{}).settingsApi,ot=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"getPath",value:function(e){return"".concat(Er).concat(e)}},{key:"getClusterInfo",value:function(){return this.get(this.getPath("/viewer/json/cluster"),{tablets:!0})}},{key:"getNodes",value:function(e){return this.get(this.getPath("/viewer/json/compute?enums=true"),{path:e})}},{key:"getNodeInfo",value:function(e){return this.get(this.getPath("/viewer/json/sysinfo?enums=true"),{node_id:e})}},{key:"getTenants",value:function(){return this.get(this.getPath("/viewer/json/tenantinfo"),{tablets:1,storage:1,nodes:1})}},{key:"getTenantInfo",value:function(e){var t=e.path;return this.get(this.getPath("/viewer/json/tenantinfo"),{path:t,tablets:!0,storage:!0})}},{key:"getStorageInfo",value:function(e){var t=e.tenant,a=e.filter,n=e.nodeId,r=e.type;return this.get(this.getPath("/viewer/json/".concat(r===ze?"nodes":"storage","?enums=true")),{tenant:t,node_id:n,with:a})}},{key:"getPdiskInfo",value:function(e,t){return this.get(this.getPath("/viewer/json/pdiskinfo?enums=true"),{filter:"(NodeId=".concat(e).concat(t?";PDiskId=".concat(t):"",")")})}},{key:"getVdiskInfo",value:function(e){var t=e.vdiskId,a=e.pdiskId,n=e.nodeId;return this.get(this.getPath("/viewer/json/vdiskinfo?enums=true"),{filter:"(VDiskId=".concat(null!==t&&void 0!==t?t:"",";PDiskId=").concat(null!==a&&void 0!==a?a:"",";NodeId=").concat(null!==n&&void 0!==n?n:"",")")})}},{key:"getGroupInfo",value:function(e){return this.get(this.getPath("/viewer/json/storage?enums=true"),{group_id:e})}},{key:"getHostInfo",value:function(){return this.get(this.getPath("/viewer/json/sysinfo?node_id=.&enums=true"))}},{key:"getTabletsInfo",value:function(e){var t=e.nodes,a=void 0===t?[]:t,n=e.path,r=a.length>0&&"(NodeId=[".concat(a.join(","),"])");return this.get(this.getPath("/viewer/json/tabletinfo"),{filter:r,path:n,enums:!0})}},{key:"getSchema",value:function(e){var t=e.path;return this.get(this.getPath("/viewer/json/describe"),{path:t,enums:!0,backup:!1,private:!1,partition_config:!1,partition_stats:!1,partitioning_info:!1},{concurrentId:"getSchema|".concat(t)})}},{key:"getDescribe",value:function(e){var t=e.path;return this.get(this.getPath("/viewer/json/describe"),{path:t,enums:!0})}},{key:"getSchemaAcl",value:function(e){var t=e.path;return this.get(this.getPath("/viewer/json/metainfo"),{path:t},{concurrentId:"getSchemaAcl|".concat(t)})}},{key:"getHeatmapData",value:function(e){var t=e.path;return this.get(this.getPath("/viewer/json/describe"),{path:t,enums:!0,backup:!1,private:!1,children:!1,partition_config:!1,partition_stats:!0})}},{key:"getNetwork",value:function(e){return this.get(this.getPath("/viewer/json/netinfo"),{enums:!0,path:e})}},{key:"getPoolInfo",value:function(e){return this.get(this.getPath("/viewer/json/storage"),{pool:e,enums:!0})}},{key:"getTablet",value:function(e){var t=e.id;return this.get(this.getPath("/viewer/json/tabletinfo?filter=(TabletId=".concat(t,")")),{enums:!0})}},{key:"getTabletHistory",value:function(e){var t=e.id;return this.get(this.getPath("/viewer/json/tabletinfo?filter=(TabletId=".concat(t,")")),{enums:!0,merge:!1})}},{key:"getNodesList",value:function(){return this.get(this.getPath("/viewer/json/nodelist"),{enums:!0})}},{key:"getTenantsList",value:function(){return this.get(this.getPath("/viewer/json/tenants"),{enums:!0,state:0})}},{key:"sendQuery",value:function(e,t,a,n){return this.post(this.getPath("/viewer/json/query"),{query:e,database:t,action:a,stats:n})}},{key:"getExplainQuery",value:function(e,t){return this.post(this.getPath("/viewer/json/query"),{query:e,database:t,action:"explain"})}},{key:"getExplainQueryAst",value:function(e,t){return this.post(this.getPath("/viewer/json/query"),{query:e,database:t,action:"explain-ast"})}},{key:"getHotKeys",value:function(e,t){return this.get(this.getPath("/viewer/json/hotkeys"),{path:e,enable_sampling:t})}},{key:"getHealthcheckInfo",value:function(e){return this.get(this.getPath("/viewer/json/healthcheck"),{tenant:e})}},{key:"killTablet",value:function(e){return this.get(this.getPath("/tablets?KillTabletID=".concat(e)))}},{key:"stopTablet",value:function(e,t){return this.get(this.getPath("/tablets/app?TabletID=".concat(t,"&page=StopTablet&tablet=").concat(e)))}},{key:"resumeTablet",value:function(e,t){return this.get(this.getPath("/tablets/app?TabletID=".concat(t,"&page=ResumeTablet&tablet=").concat(e)))}},{key:"getTabletDescribe",value:function(e){return this.get(this.getPath("/viewer/json/describe"),{schemeshard_id:e.SchemeShard,path_id:e.PathId})}},{key:"postSetting",value:function(e,t){return this.request({method:"PATCH",url:it,data:Object(D.a)({},e,t)})}},{key:"authenticate",value:function(e,t){return this.post(this.getPath("/login"),{user:e,password:t})}},{key:"logout",value:function(){return this.post(this.getPath("/logout"),{})}},{key:"whoami",value:function(){return this.get(this.getPath("/viewer/json/whoami"))}}]),a}(ne.a),st=new ot({config:rt});function ct(e){if(e)try{return JSON.parse(e)}catch(t){return console.log(t),e}}function lt(e,t){try{var a;return null!==(a=localStorage.getItem(e))&&void 0!==a?a:t}catch(n){console.log(n)}}window.api=st;var dt=["B","KB","MB","GB","TB","PB","EB"],ut=1e3;function ht(e){return"".concat(function(e){if(isNaN(e))return"";var t=e/Math.pow(ut,2);return t<10?t.toFixed(2)+dt[2]:t<100?t.toFixed(1)+dt[2]:t.toFixed()+dt[2]}(e)).concat(e?"ps":"")}function pt(e,t){if(isNaN(e))return"N/A";var a=e/1e9;return t?a.toFixed()+dt[3]:a<10?a.toFixed(2)+dt[3]:a<100?a.toFixed(1)+dt[3]:a.toFixed()+dt[3]}var jt="settings/CHANGE_PROBLEM_FILTER",vt="settings/SET_VALUE",bt=window.userSettings||{},ft=window.systemSettings||{},mt=window.web_version?bt.theme||"light":lt(Y,"light"),Ot=window.web_version?bt.saved_queries:lt(J,"[]"),gt={problemFilter:W,userSettings:Object(m.a)(Object(m.a)(Object(m.a)({},$),bt),{},Object(D.a)({theme:mt},J,Ot)),systemSettings:ft},Ct=function(e,t){return function(a,n){a({type:vt,data:{name:e,value:t}}),n().singleClusterMode?localStorage.setItem(e,t):window.api.postSetting(e,t)}},xt=function(e,t){return e.settings.userSettings[t]},yt=function(e){return{type:jt,data:e}},Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jt:return Object(m.a)(Object(m.a)({},e),{},{problemFilter:t.data});case vt:var a=Object(m.a)(Object(m.a)({},e.userSettings),{},Object(D.a)({},t.data.name,t.data.value));return Object(m.a)(Object(m.a)({},e),{},{userSettings:a});default:return e}},wt=be("heatmap","FETCH_TABLETS"),St="heatmap/SET_HEATMAP_OPTIONS",kt={loading:!1,wasLoaded:!1,currentMetric:void 0,sort:!1,heatmap:!1};var Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wt.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case wt.SUCCESS:return Object(m.a)(Object(m.a)(Object(m.a)({},e),t.data),{},{loading:!1,wasLoaded:!0,error:void 0});case wt.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1,wasLoaded:!1});case St:return Object(m.a)(Object(m.a)({},e),t.data);default:return e}},Lt=["search"],Et={global:{problemFilter:{stateKey:"settings.problemFilter",initialState:gt.problemFilter}},"/tenant":{sort:{stateKey:"heatmap.sort",initialState:kt.sort,type:"bool"},heatmap:{stateKey:"heatmap.heatmap",initialState:kt.heatmap,type:"bool"},currentMetric:{stateKey:"heatmap.currentMetric",initialState:kt.currentMetric},schema:{stateKey:"schema.currentSchemaPath"},stateFilter:{stateKey:"tablets.stateFilter",type:"array"},typeFilter:{stateKey:"tablets.typeFilter",type:"array"}}};function It(e,t){return L.a.merge({},e,t.query)}var Mt="";function Pt(e,t,a){var n=Object(E.stateToParams)(e,t,a),r=n.location;if(r.search!==Mt){return Mt=r.search,/\?\w+/.test(a.search)&&(r=function(e,t){var a=e.search,n=Object(S.a)(e,Lt),r=g.a.parse(t.search.slice(1)),i=Object(P.getMatchingDeclaredPath)(Et,e),o=i&&Et[i];L.a.each(L.a.keys(o),(function(e){delete r[e]})),L.a.each(L.a.keys(Et.global||{}),(function(e){delete r[e]}));var s=g.a.stringify(r,{encoder:encodeURIComponent}),c=a.startsWith("?")?"&":"?";return Object(m.a)({search:"".concat(a).concat(c).concat(s)},n)}(r,a)),Object(m.a)(Object(m.a)({},n),{},{location:r})}return{location:a,shouldPush:!1}}function Dt(e,t,a){return function(n,r){var i=function(a,n){var r=n.type,i=n.payload;return!i||M.LOCATION_POP!==r&&M.LOCATION_PUSH!==r?a:(i.query=Object(I.parseQuery)(e,i),t(a,i))}(a(n,r),r);return i!==n?i:n}}var Rt=a(122),Ht=be("nodes","FETCH_NODES");function At(e){return fe({request:window.api.getNodes(e),actions:Ht})}var Ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,wasLoaded:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ht.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loading:!0,requestTime:(new Date).getTime()});case Ht.SUCCESS:var a=(new Date).getTime()-e.requestTime;return Object(m.a)(Object(m.a)({},e),{},{data:t.data,loading:!1,wasLoaded:!0,timeoutForRequest:a>H?a:H,error:void 0});case Ht.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1});case"CLEAR_NODES":return Object(m.a)(Object(m.a)({},e),{},{loading:!0,data:void 0,wasLoaded:!1,requestTime:(new Date).getTime(),error:void 0});default:return e}},Vt=be("cluster","FETCH_CLUSTER"),_t={loading:!0,wasLoaded:!1};function Ut(e){return fe({request:window.api.getClusterInfo(e),actions:Vt})}var zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vt.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case Vt.SUCCESS:var a,n,r,i=t.data,o=i.cluster?i.cluster.cluster:i,s=(null===(a=i.cluster)||void 0===a?void 0:a.title)||i.Name;return Object(m.a)(Object(m.a)({},e),{},{data:Object(m.a)(Object(m.a)({},o),{},{balancer:null===(n=i.cluster)||void 0===n?void 0:n.balancer,solomon:null===(r=i.cluster)||void 0===r?void 0:r.solomon,Name:s}),loading:!1,wasLoaded:!0,error:void 0});case Vt.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1});default:return e}},Zt=be("tenant","FETCH_TENANT"),Bt=function(e){var t=e.path;return fe({request:Promise.all([window.api.getTenantInfo({path:t}),window.api.getNodes(t)]),actions:Zt,dataHandler:function(e){var t,a=Object(Oe.a)(e,2),n=a[0],r=a[1];return{tenant:n.TenantInfo[0],tenantNodes:L.a.map(null===r||void 0===r||null===(t=r.Tenants[0])||void 0===t?void 0:t.Nodes,(function(e){if(e.Host&&e.Endpoints){var t,a=null===(t=L.a.find(e.Endpoints,{Name:"http-mon"}))||void 0===t?void 0:t.Address;return{id:e.NodeId,backend:"".concat(e.Host).concat(a||"")}}})).filter(Boolean)}}})},Qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,tenant:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zt.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case Zt.SUCCESS:var a=t.data,n=a.tenant,r=a.tenantNodes;return Object(m.a)(Object(m.a)({},e),{},{tenant:n,tenantNodes:r,loading:!1,error:void 0});case Zt.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{data:t.error,loading:!1});case"CLEAR_TENANT":return Object(m.a)(Object(m.a)({},e),{},{tenant:{},loading:!0});default:return e}},qt=be("NODE","FETCH_NODE"),Gt=function(e){return fe({request:window.api.getNodeInfo(e),actions:qt})},Wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:{},loading:!0,wasLoaded:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qt.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case qt.SUCCESS:return Object(m.a)(Object(m.a)({},e),{},{data:t.data,loading:!1,wasLoaded:!0,error:void 0});case qt.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1});default:return e}},Kt=be("PDISK","FETCH_PDISK"),Yt={loading:!0,wasLoaded:!1,data:void 0},Jt=function(){return{type:"CLEAR_STORE"}},Xt=function(e,t){return fe({request:window.api.getPdiskInfo(e,t),actions:Kt})},$t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Kt.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case Kt.SUCCESS:return Object(m.a)(Object(m.a)({},e),{},{data:t.data,loading:!1,wasLoaded:!0,error:void 0});case Kt.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1});case"CLEAR_STORE":return Yt;default:return e}},ea=be("VDISK","FETCH_VDISK"),ta={loading:!0,wasLoaded:!1,data:void 0},aa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ea.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case ea.SUCCESS:return Object(m.a)(Object(m.a)({},e),{},{data:t.data,loading:!1,wasLoaded:!0,error:void 0});case ea.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1});case"CLEAR_STORE":return ta;default:return e}},na=be("GROUP","FETCH_GROUP"),ra={loading:!0,wasLoaded:!1,data:void 0},ia=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case na.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case na.SUCCESS:return Object(m.a)(Object(m.a)({},e),{},{data:t.data,loading:!1,wasLoaded:!0,error:void 0});case na.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1});case"CLEAR_STORE":return ra;default:return e}},oa="UPDATE_REF",sa="HIDE_TOOLTIP",ca=a(175),la=a.n(ca),da=a(2),ua=b()("pool-tooltip"),ha=function(e){var t=e.data,a=(100*t.Usage).toFixed(2);return t&&Object(da.jsx)("div",{className:ua(),children:Object(da.jsx)("table",{children:Object(da.jsxs)("tbody",{children:[Object(da.jsxs)("tr",{children:[Object(da.jsx)("td",{className:ua("label"),children:"Pool"}),Object(da.jsx)("td",{children:t.Name})]}),Object(da.jsxs)("tr",{children:[Object(da.jsx)("td",{className:ua("label"),children:"Usage"}),Object(da.jsxs)("td",{children:[a," %"]})]}),Object(da.jsxs)("tr",{children:[Object(da.jsx)("td",{className:ua("label"),children:"Threads"}),Object(da.jsx)("td",{children:t.Threads})]})]})})})},pa=b()("tablet-tooltip"),ja=function(e){var t=e.data,a=e.additionalData;return t&&Object(da.jsx)("div",{className:pa(),children:Object(da.jsx)("table",{children:Object(da.jsxs)("tbody",{children:[Object(da.jsxs)("tr",{children:[Object(da.jsx)("td",{className:pa("label"),children:"Tablet"}),Object(da.jsx)("td",{className:pa("value"),children:t.TabletId})]}),Object(da.jsxs)("tr",{children:[Object(da.jsx)("td",{className:pa("label"),children:"NodeID"}),Object(da.jsx)("td",{className:pa("value"),children:t.NodeId})]}),Object(da.jsxs)("tr",{children:[Object(da.jsx)("td",{className:pa("label"),children:"State"}),Object(da.jsx)("td",{className:pa("value"),children:t.State})]}),Object(da.jsxs)("tr",{children:[Object(da.jsx)("td",{className:pa("label"),children:"Type"}),Object(da.jsx)("td",{className:pa("value"),children:t.Type})]}),Object(da.jsxs)("tr",{children:[Object(da.jsx)("td",{className:pa("label"),children:"Uptime"}),Object(da.jsx)("td",{className:pa("value"),children:Me(t.ChangeTime)})]}),Object(da.jsxs)("tr",{children:[Object(da.jsx)("td",{className:pa("label"),children:"Generation"}),Object(da.jsx)("td",{className:pa("value"),children:t.Generation})]}),a&&Object(da.jsxs)("tr",{children:[Object(da.jsx)("td",{className:pa("label"),children:a.name}),Object(da.jsx)("td",{className:pa("value"),children:a.value})]})]})})})},va=b()("node-tootltip"),ba=function(e){var t=e.data;return t&&Object(da.jsx)("div",{className:va(),children:Object(da.jsx)("table",{children:Object(da.jsxs)("tbody",{children:[Object(da.jsxs)("tr",{children:[Object(da.jsx)("td",{className:va("label"),children:"ID"}),Object(da.jsx)("td",{className:va("value"),children:t.nodeId||"?"})]}),Object(da.jsxs)("tr",{children:[Object(da.jsx)("td",{className:va("label"),children:"Rack"}),Object(da.jsx)("td",{className:va("value"),children:t.rack||"?"})]}),t.connected&&t.capacity&&Object(da.jsxs)("tr",{children:[Object(da.jsx)("td",{className:va("label"),children:"Net"}),Object(da.jsx)("td",{className:va("value"),children:"".concat(t.connected," / ").concat(t.capacity)})]})]})})})},fa=b()("tabletsOverall-tooltip"),ma=function(e){var t=e.data;return t&&Object(da.jsx)("div",{className:fa(),children:Object(da.jsx)("table",{children:Object(da.jsx)("tbody",{children:t.map((function(e,t){return Object(da.jsxs)("tr",{children:[Object(da.jsxs)("td",{className:fa("label"),children:[e.color,":"]}),Object(da.jsx)("td",{className:fa("value"),children:"".concat(e.value,"/").concat(e.total," (").concat(e.percents.toFixed(2),"%)")})]},t)}))})})})},Oa=b()("histogram-tooltip"),ga=function(e){var t=e.data;return t&&Object(da.jsx)("div",{className:Oa(),children:Object(da.jsx)("table",{children:Object(da.jsxs)("tbody",{children:[Object(da.jsxs)("tr",{children:[Object(da.jsx)("td",{className:Oa("label"),children:"Count"}),Object(da.jsx)("td",{className:Oa("value"),children:t.count||"?"})]}),Object(da.jsxs)("tr",{children:[Object(da.jsx)("td",{className:Oa("label"),children:"From"}),Object(da.jsx)("td",{className:Oa("value"),children:t.leftBound||"?"})]}),Object(da.jsxs)("tr",{children:[Object(da.jsx)("td",{className:Oa("label"),children:"To"}),Object(da.jsx)("td",{className:Oa("value"),children:t.rightBound||"?"})]})]})})})},Ca=b()("cell-tooltip"),xa=b()("json-tooltip"),ya={pool:function(e){return Object(da.jsx)(ha,{data:e})},tablet:function(e,t){return Object(da.jsx)(ja,{data:e,additionalData:t})},node:function(e){return Object(da.jsx)(ba,{data:e})},tabletsOverall:function(e){return Object(da.jsx)(ma,{data:e})},histogram:function(e){return Object(da.jsx)(ga,{data:e})},cell:function(e){return Object(da.jsx)("div",{className:Ca(),children:e})},json:function(e){return Object(da.jsx)("div",{className:xa(),children:Object(da.jsx)(la.a,{data:e,search:!1,isExpanded:function(){return!0},className:xa("inspector")})})}},Na={toolTipVisible:!1,currentHoveredRef:void 0,data:void 0,templateType:"pool",template:ya.pool},wa=function(){return{type:sa}},Sa=function(e,t,a,n,r){return{type:oa,node:e,data:t,templateType:a,additionalData:n,positions:r}},ka=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Na,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case sa:return Object(m.a)(Object(m.a)({},e),{},{currentHoveredRef:void 0,toolTipVisible:!1});case oa:return"cell"===t.templateType&&L.a.isEqual(t.node,e.currentHoveredRef)?Object(m.a)(Object(m.a)({},e),{},{currentHoveredRef:void 0,toolTipVisible:!1}):Object(m.a)(Object(m.a)({},e),{},{toolTipVisible:!0,currentHoveredRef:t.node,positions:t.positions,data:t.data,additionalData:t.additionalData,type:t.templateType,template:ya[t.templateType]});default:return e}},Ta=be("tablets","FETCH_TABLETS"),La={loading:!0,wasLoaded:!1,stateFilter:[],typeFilter:[]};var Ea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:La,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ta.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loading:!0,requestTime:(new Date).getTime()});case Ta.SUCCESS:var a=(new Date).getTime()-e.requestTime;return Object(m.a)(Object(m.a)({},e),{},{data:t.data,loading:!1,timeoutForRequest:a>H?a:H,error:void 0,wasLoaded:!0});case Ta.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1});case"CLEAR_WAS_LOADING_TABLETS":return Object(m.a)(Object(m.a)({},e),{},{wasLoaded:!1,loading:!0});case"SET_STATE_FILTER":return Object(m.a)(Object(m.a)({},e),{},{stateFilter:t.data});case"SET_TYPE_FILTER":return Object(m.a)(Object(m.a)({},e),{},{typeFilter:t.data});default:return e}},Ia=be("schema","FETCH_SCHEMA"),Ma="schema/SET_SCHEMA",Pa="schema/SET_SHOW_PREVIEW",Da="schema/ENABLE_AUTOREFRESH",Ra="schema/DISABLE_AUTOREFRESH",Ha={loading:!0,wasLoaded:!1,data:{},currentSchemaPath:void 0,autorefresh:!1,showPreview:!1};function Aa(e){var t=e.path;return fe({request:window.api.getSchema({path:t}),actions:Ia})}function Fa(e){return{type:Ma,data:e}}function Va(){return{type:Ra}}function _a(e){return{type:Pa,data:e}}var Ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ha,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ia.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case Ia.SUCCESS:var a=JSON.parse(JSON.stringify(e.data));a[t.data.Path]=t.data;var n=e.currentSchemaPath?a[e.currentSchemaPath]:t.data,r=e.currentSchemaPath||t.data.Path;return Object(m.a)(Object(m.a)({},e),{},{error:void 0,data:a,currentSchema:n,currentSchemaPath:r,loading:!1,wasLoaded:!0});case Ia.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1});case Ma:return Object(m.a)(Object(m.a)({},e),{},{currentSchemaPath:t.data});case Da:return Object(m.a)(Object(m.a)({},e),{},{autorefresh:!0});case Ra:return Object(m.a)(Object(m.a)({},e),{},{autorefresh:!1});case Pa:return Object(m.a)(Object(m.a)({},e),{},{showPreview:t.data});default:return e}},za=be("host","FETCH_HOST"),Za={loading:!0,wasLoaded:!1,data:{}};var Ba=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case za.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case za.SUCCESS:return Object(m.a)(Object(m.a)({},e),{},{data:t.data.SystemStateInfo[0],loading:!1,wasLoaded:!0,error:void 0});case za.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1});default:return e}},Qa=be("ALL_NODES_NETWORK","FETCH_ALL_NODES_NETWORK"),qa=function(e){return fe({request:window.api.getNetwork(e),actions:Qa})},Ga=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:{},loading:!0,wasLoaded:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qa.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case Qa.SUCCESS:return Object(m.a)(Object(m.a)({},e),{},{data:t.data,loading:!1,wasLoaded:!0,error:void 0});case Qa.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1});default:return e}},Wa=be("pool","FETCH_POOL");var Ka=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,wasLoaded:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wa.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case Wa.SUCCESS:return Object(m.a)(Object(m.a)({},e),{},{data:t.data,loading:!1,wasLoaded:!0,error:void 0});case Wa.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1});default:return e}},Ya=be("tenants","FETCH_TENANTS"),Ja={loading:!0,wasLoaded:!1,data:{}};var Xa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ja,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ya.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case Ya.SUCCESS:return Object(m.a)(Object(m.a)({},e),{},{tenants:t.data,loading:!1,wasLoaded:!0,error:void 0});case Ya.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1});default:return e}},$a=be("TABLET","FETCH_TABLET"),en=be("TABLET","FETCH_TABLET_DESCRIBE"),tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,tenantPath:"-"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $a.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case $a.SUCCESS:var a=t.data,n=a.tablet,r=a.history,i=n.TabletId;return Object(m.a)(Object(m.a)({},e),{},{id:i,data:n,history:r,loading:!1,error:void 0});case $a.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1});case en.SUCCESS:var o=t.data.tenantPath;return Object(m.a)(Object(m.a)({},e),{},{tenantPath:o,error:void 0});default:return e}},an=be("query","SEND_QUERY"),nn="query/CHANGE_USER_INPUT",rn="query/SAVE_QUERY_TO_HISTORY",on="query/GO_TO_PREVIOUS_QUERY",sn="query/GO_TO_NEXT_QUERY",cn="query/SELECT_RUN_ACTION",ln="query/MONACO_HOT_KEY",dn=ct(lt(X,[])),un=dn.length-20,hn="execute-script",pn="execute-scan",jn="sendQuery",vn="goPrev",bn="goNext",fn="getExplain",mn={loading:!1,input:"",history:{queries:dn.slice(un<0?0:un),currentIndex:dn.length>20?19:dn.length-1},runAction:hn,monacoHotKey:null},On=function(e){var t=e.input;return function(e){e({type:nn,data:{input:t}})}},gn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case an.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loading:!0,data:void 0,error:void 0});case an.SUCCESS:var a;return Object(m.a)(Object(m.a)({},e),{},{data:null!==(a=t.data.result)&&void 0!==a?a:t.data,stats:t.data.stats,loading:!1,error:void 0});case an.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{error:t.error||"Unauthorized",loading:!1});case cn:return Object(m.a)(Object(m.a)({},e),{},{runAction:t.data});case nn:return Object(m.a)(Object(m.a)({},e),{},{input:t.data.input});case rn:var n=t.data,r=[].concat(Object(re.a)(e.history.queries),[n]).slice(e.history.queries.length>=20?1:0);window.localStorage.setItem(X,JSON.stringify(r));var i=r.length-1;return Object(m.a)(Object(m.a)({},e),{},{history:{queries:r,currentIndex:i}});case on:var o=Math.max(0,e.history.currentIndex-1);return Object(m.a)(Object(m.a)({},e),{},{history:Object(m.a)(Object(m.a)({},e.history),{},{currentIndex:o})});case sn:var s=e.history.queries.length-1,c=Math.min(s,e.history.currentIndex+1);return Object(m.a)(Object(m.a)({},e),{},{history:Object(m.a)(Object(m.a)({},e.history),{},{currentIndex:c})});case ln:return Object(m.a)(Object(m.a)({},e),{},{monacoHotKey:t.data});default:return e}},Cn=a(8);function xn(e){var t=[];if(e.Operators){var a,n=[],r=Object(Cn.a)(e.Operators);try{for(r.s();!(a=r.n()).done;){for(var i=a.value,o={name:i.Name,items:[]},s=0,c=Object.entries(i);s<c.length;s++){var l=Object(Oe.a)(c[s],2),d=l[0],u=l[1];if("Name"!==d){var h=Array.isArray(u)?u.join(", "):u;o.items.push({name:d,value:h})}}n.push(o)}}catch(p){r.e(p)}finally{r.f()}t.push({group:"Operators",stats:n})}return t}var yn=be("query","GET_EXPLAIN_QUERY"),Nn=be("query","GET_EXPLAIN_QUERY_AST"),wn={loading:!1},Sn={v1:"0.1",v2:"0.2"},kn=Object.values(Sn),Tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yn.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loading:!0,data:void 0,error:void 0,dataAst:void 0,errorAst:void 0});case yn.SUCCESS:return Object(m.a)(Object(m.a)({},e),{},{data:t.data,loading:!1,error:void 0});case yn.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{error:t.error||"Unauthorized",loading:!1});case Nn.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loadingAst:!0,dataAst:void 0,errorAst:void 0});case Nn.SUCCESS:return Object(m.a)(Object(m.a)({},e),{},{dataAst:t.data,loadingAst:!1,error:void 0});case Nn.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{errorAst:t.error||"Unauthorized",loadingAst:!1});default:return e}},Ln=be("tabletsFilters","FETCH_TABLETS_FILTERS"),En={data:void 0,loading:!0,wasLoaded:!1,stateFilter:[],typeFilter:[]};var In=function(e){var t=e.tabletsFilters.tabletsData;return(null===t||void 0===t?void 0:t.TabletStateInfo)||[]},Mn=Object(me.a)([In,function(e){return e.tabletsFilters.stateFilter},function(e){return e.tabletsFilters.typeFilter}],(function(e,t,a){var n=e;return a.length>0&&(n=n.filter((function(e){return a.some((function(t){return e.Type===t}))}))),t.length>0&&(n=n.filter((function(e){return t.some((function(t){return e.State===t}))}))),n})),Pn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ln.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loading:!0,requestTime:(new Date).getTime()});case Ln.SUCCESS:var a=(new Date).getTime()-e.requestTime,n=Object(Oe.a)(t.data,2),r=n[0],i=n[1];return Object(m.a)(Object(m.a)({},e),{},{tabletsData:r,nodes:i,loading:!1,wasLoaded:!0,timeoutForRequest:a>H?a:H,error:void 0});case Ln.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{error:t.error||"Request-URI Too Large. Please reload the page",loading:!1});case"CLEAR_WAS_LOADING_TABLETS":var o=e.stateFilter,s=e.typeFilter;return Object(m.a)(Object(m.a)({},En),{},{stateFilter:o,typeFilter:s});case"SET_STATE_FILTER":return Object(m.a)(Object(m.a)({},e),{},{stateFilter:t.data});case"SET_TYPE_FILTER":return Object(m.a)(Object(m.a)({},e),{},{typeFilter:t.data});default:return e}},Dn=be("cluster","FETCH_CLUSTER"),Rn={loading:!1};var Hn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dn.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case Dn.SUCCESS:var a=t.data,n=void 0===a?{}:a;return Object(m.a)(Object(m.a)(Object(m.a)({},e),n),{},{loading:!1,error:void 0});case Dn.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1});default:return e}},An=be("preview","SEND_QUERY"),Fn=be("preview","SET_QUERY_OPTIONS"),Vn={loading:!1,wasLoaded:!1};var _n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case An.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loading:!0,error:void 0});case An.SUCCESS:return Object(m.a)(Object(m.a)({},e),{},{data:t.data,loading:!1,error:void 0,wasLoaded:!0});case An.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{error:t.error||"Unauthorized",loading:!1});case Fn:return Object(m.a)(Object(m.a)({},e),t.data);default:return e}},Un=be("tenants","FETCH_NODES_LIST"),zn={loading:!0,wasLoaded:!1,data:[]};var Zn=Object(me.a)((function(e){var t;return null===(t=e.nodes.data)||void 0===t?void 0:t.Tenants}),(function(e){return e.settings.problemFilter}),(function(e,t){var a=null===e||void 0===e?void 0:e.reduce((function(e,t){return Array.isArray(t.Nodes)?[].concat(Object(re.a)(e),Object(re.a)(t.Nodes.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{TenantName:t.Name})})))):e}),[]);return t===W?a:null===a||void 0===a?void 0:a.filter((function(e){var t=e.Overall;return t&&"Green"!==t}))})),Bn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Un.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case Un.SUCCESS:return Object(m.a)(Object(m.a)({},e),{},{data:t.data,loading:!1,wasLoaded:!0,error:void 0});case Un.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1});default:return e}},Qn=be("describe","FETCH_DESCRIBE");function qn(e){var t=e.path;return fe({request:window.api.getDescribe({path:t}),actions:Qn})}var Gn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,wasLoaded:!1,data:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qn.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case Qn.SUCCESS:var a=JSON.parse(JSON.stringify(e.data));return a[t.data.Path]=t.data,Object(m.a)(Object(m.a)({},e),{},{data:a,currentDescribe:t.data,loading:!1,wasLoaded:!0,error:void 0});case Qn.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1});default:return e}},Wn=be("schemaAcl","FETCH_SCHEMA_ACL");function Kn(e){var t=e.path;return fe({request:window.api.getSchemaAcl({path:t}),actions:Wn})}var Yn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,wasLoaded:!1,acl:void 0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wn.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case Wn.SUCCESS:return Object(m.a)(Object(m.a)({},e),{},{error:void 0,acl:L.a.get(t.data,"Common.ACL"),owner:L.a.get(t.data,"Common.Owner"),loading:!1,wasLoaded:!0});case Wn.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1});default:return e}},Jn=be("top-queries","SEND_QUERY"),Xn=be("top-queries","SET_QUERY_OPTIONS"),$n={loading:!1,wasLoaded:!1};var er=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Jn.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loading:!0,error:void 0});case Jn.SUCCESS:return Object(m.a)(Object(m.a)({},e),{},{data:t.data,loading:!1,error:void 0,wasLoaded:!0});case Jn.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{error:t.error||"Unauthorized",loading:!1});case Xn:return Object(m.a)(Object(m.a)({},e),t.data);default:return e}},tr=be("cluster","FETCH_HEALTHCHECK"),ar={loading:!1,wasLoaded:!1};var nr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ar,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case tr.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case tr.SUCCESS:var a=t.data;return Object(m.a)(Object(m.a)({},e),{},{data:a,wasLoaded:!0,loading:!1,error:void 0});case tr.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1});default:return e}},rr=be("query","SEND_SHARD_QUERY"),ir="query/SET_SHARD_QUERY_OPTIONS",or={loading:!1,wasLoaded:!1};function sr(e){return"SELECT Path, TabletId, CPUCores FROM `.sys/partition_stats` WHERE Path='".concat(e,"' OR Path LIKE '").concat(e,"/%' ORDER BY CPUCores DESC LIMIT 20")}var cr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rr.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loading:!0,error:void 0});case rr.SUCCESS:return Object(m.a)(Object(m.a)({},e),{},{data:t.data,loading:!1,error:void 0,wasLoaded:!0});case rr.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{error:t.error||"Unauthorized",loading:!1});case ir:return Object(m.a)(Object(m.a)({},e),t.data);default:return e}},lr=be("hot_keys","FETCH_HOT_KEYS"),dr="hot_keys/SET_HOT_KEYS_OPTIONS",ur={loading:!0,data:{},wasLoaded:!1};var hr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ur,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lr.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case lr.SUCCESS:return Object(m.a)(Object(m.a)({},e),{},{data:t.data.hotkeys,loading:!1,error:void 0,wasLoaded:!0});case lr.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1});case dr:return Object(m.a)(Object(m.a)({},e),t.data);default:return e}},pr=be("query","SEND_OLAP_STATS_QUERY"),jr=be("query","SET_OLAP_STATS_OPTIONS"),vr={loading:!1,wasLoaded:!1};function br(e){return"SELECT * FROM `".concat(e,"/.sys/primary_index_stats`")}var fr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pr.REQUEST:return Object(m.a)(Object(m.a)({},e),{},{loading:!0,error:void 0});case pr.SUCCESS:return Object(m.a)(Object(m.a)({},e),{},{data:t.data,loading:!1,error:void 0,wasLoaded:!0});case pr.FAILURE:return Object(m.a)(Object(m.a)({},e),{},{error:t.error||"Unauthorized",loading:!1});case jr:return Object(m.a)(Object(m.a)({},e),t.data);default:return e}},mr="SET_HEADER",Or=[];function gr(e){return{type:mr,data:e}}var Cr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or,t=arguments.length>1?arguments[1]:void 0;return t.type===mr?t.data:e},xr="SET_QUERY_NAME_TO_EDIT",yr="CLEAR_QUERY_NAME_TO_EDIT";function Nr(e){return{type:xr,data:e}}var wr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xr:return t.data;case yr:return null;default:return e}},Sr="ENABLE_FULLSCREEN_MODE",kr="DISABLE_FULLSCREEN_MODE";function Tr(){return{type:kr}}var Lr=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kr:return!1;case Sr:return!0;default:return e}};var Er,Ir,Mr,Pr={singleClusterMode:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e},nodes:Ft,cluster:zt,tenant:Qt,storage:nt,node:Wt,pdisk:$t,vdisk:aa,group:ia,tooltip:ka,tablets:Ea,schema:Ua,olapStats:fr,host:Ba,network:Ga,pool:Ka,tenants:Xa,tablet:tn,executeQuery:gn,explainQuery:Tn,tabletsFilters:Pn,heatmap:Tt,clusterInfo:Hn,settings:Nt,preview:_n,nodesList:Bn,describe:Gn,schemaAcl:Yn,executeTopQueries:er,healthcheckInfo:nr,shardsWorkload:cr,hotKeys:hr,authentication:je,header:Cr,saveQuery:wr,fullscreen:Lr},Dr=Object(N.b)(Object(m.a)({},Pr)),Rr=a(353),Hr=a.n(Rr),Ar=window.web_version,Fr=window.custom_backend,Vr=function(e,t){if(t){if(Fr)return{basename:"/",backend:Hr.a.parse(e,!0).query.backend||window.custom_backend};var a=window.location.pathname.match(/.*(?=\/monitoring)/)||[],n=Boolean(a.length)&&a[0];return{basename:[n,"monitoring"].filter(Boolean).join("/"),backend:n||""}}var r=Hr.a.parse(e,!0).query;return{basename:"/",backend:r.backend,clusterName:r.clusterName}},_r=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||N.c;function Ur(e,t,a){var n=function(e,t){return{locationMiddleware:Object(k.createReduxLocationActions)(Et,It,e,t,Pt).locationMiddleware,reducersWithLocation:Dt(Et,It,t)}}(t,e),r=n.locationMiddleware,i=n.reducersWithLocation,o=Object(N.a)(w.a,r);return _r(o)(N.d)(i,{singleClusterMode:a})}var zr={id:"tenants",name:"Databases",title:"Database list"},Zr={id:"nodes",name:"Nodes",title:"Nodes"},Br={id:"storage",name:"Storage",title:"Storage"},Qr={id:"cluster",name:"Cluster",title:"Cluster"};function qr(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a,r=Boolean(a.backend);Er&&!r&&Ar&&(n=Object(m.a)(Object(m.a)({},a),{},{backend:Er}));var i=Boolean(a.clusterName);Mr&&!i&&Ar&&(n=Object(m.a)(Object(m.a)({},n),{},{clusterName:Mr}));var o=y()(n)?"":"?".concat(g.a.stringify(n,{encode:!1}));return"".concat(Object(C.compile)(e)(t)).concat(o)}var Gr={cluster:"/cluster/:activeTab?",tenant:"/tenant",node:"/node/:id/:activeTab?",pdisk:"/pdisk/:id",group:"/group/:id",vdisk:"/vdisk",network:"/network",pool:"/pool/:poolName",tablet:"/tablet/:id",tabletsFilters:"/tabletsFilters",clusterPage:"/clusters/:name"},Wr=a(951),Kr=a(984),Yr=a(969),Jr=a(94),Xr=a(357),$r=a(968),ei=(a(604),b()("entity-status")),ti=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"renderIcon",value:function(){var e=this.props,t=e.status,a=e.size;return e.showStatus?Object(da.jsx)("div",{className:ei("status-icon",{state:t.toLowerCase(),size:a})}):null}},{key:"renderStatusLink",value:function(){var e=this.props.iconPath;return Object(da.jsx)(Xr.a,{target:"_blank",href:e,children:this.renderIcon()})}},{key:"renderLink",value:function(){var e=this.props,t=e.externalLink,a=e.name,n=e.path;return t?Object(da.jsx)(Xr.a,{href:n,children:a}):n?Object(da.jsx)(Jr.a,{title:a,to:n,children:a}):a&&Object(da.jsx)("span",{className:ei("name"),title:a,children:a})}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.label,n=e.iconPath,r=e.hasClipboardButton,i=e.className;return Object(da.jsxs)("div",{className:ei(null,i),children:[n?this.renderStatusLink():this.renderIcon(),a&&Object(da.jsx)("span",{title:a,className:ei("label"),children:a}),this.renderLink(),r&&Object(da.jsx)("span",{className:ei("clipboard-button",{visible:!1}),children:Object(da.jsx)(Wr.a,{size:"s",children:Object(da.jsx)($r.a,{text:t,size:16})})})]})}}]),a}(r.a.Component);ti.defaultProps={status:"gray",text:"",size:"s",label:"",showStatus:!0,externalLink:!1};var ai=ti,ni=(a(612),b()("pool-bar")),ri=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).bar=r.a.createRef(),e._onBarHover=function(){e.props.onMouseEnter(e.bar.current,e.props.data,"pool")},e._onBarLeave=function(){e.props.onMouseLeave()},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.data.Usage,t=void 0===e?0:e,a=Math.min(100*t,100),n=function(e){return e>=75?"danger":e>=50&&e<75?"warning":"normal"}(a);return Object(da.jsx)("div",{ref:this.bar,className:ni({type:n}),onMouseEnter:this._onBarHover,onMouseLeave:this._onBarLeave,children:Object(da.jsx)("div",{style:{height:"".concat(a,"%")},className:ni("value",{type:n})})})}}]),a}(r.a.Component),ii=ri,oi=(a(613),b()("pools-graph")),si=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.pools;return Object(da.jsx)("div",{className:oi(),children:t.map((function(t,a){return Object(da.jsx)(ii,Object(m.a)({data:t},e.props),a)}))})}}]),a}(r.a.Component);si.defaultProps={pools:[]};var ci=si,li=(a(614),b()("tablets-statistic")),di=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).renderTabletInfo=function(t,a){var n,r=e.props,i=r.path,o=r.nodeIds;return Object(da.jsxs)(Jr.a,{to:qr(Gr.tabletsFilters,null,{nodeIds:o,state:t.state,type:t.type,path:i}),className:li("tablet",{state:null===(n=t.state)||void 0===n?void 0:n.toLowerCase()}),children:[t.label,": ",t.count]},a)},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.tablets,t=function(e){return e.map((function(e){return{label:B(e.Type),type:e.Type,count:e.Count,state:e.State}})).sort((function(e,t){return e.label.localeCompare(t.label)}))}(void 0===e?[]:e);return Object(da.jsx)("div",{className:li(),children:t.map(this.renderTabletInfo)})}}]),a}(r.a.Component),ui=di,hi=a(33),pi=a.n(hi),ji=a(982);function vi(e){var t=e.value,a=e.onChange,n=e.className;return Object(da.jsxs)(ji.a,{value:t,onUpdate:function(e){return a(e)},className:n,children:[Object(da.jsx)(ji.a.Option,{value:W,children:W}),Object(da.jsx)(ji.a.Option,{value:K,children:K})]})}pi.a.oneOf([W,K]);var bi=function(){function e(){Object(s.a)(this,e),this.timeout=void 0,this.active=void 0,this.timer=void 0,this.timeout=e.DEFAULT_TIMEOUT,this.active=!0,this.timer=void 0}return Object(c.a)(e,[{key:"wait",value:function(e){var t=this;return new Promise((function(a){t.timer=setTimeout(a,e)}))}},{key:"fetch",value:function(){var t=Object(ie.a)(se.a.mark((function t(a){var n,r,i,o;return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.active){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.wait(this.timeout);case 4:if(!this.active){t.next=15;break}return n=Date.now(),t.next=8,a();case 8:r=Date.now(),o=(i=r-n)>e.MIN_TIMEOUT?i:e.MIN_TIMEOUT,this.timeout=o,this.fetch(a),t.next=16;break;case 15:return t.abrupt("return");case 16:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"stop",value:function(){this.timer&&clearTimeout(this.timer),this.active=!1}},{key:"start",value:function(){this.active=!0}}]),e}();bi.DEFAULT_TIMEOUT=3e4,bi.MIN_TIMEOUT=3e4;var fi,mi,Oi,gi=function(e){var t=function(t){Object(l.a)(n,t);var a=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(e=a.call.apply(a,[this].concat(r))).state={searchQuery:""},e.handleSearchQuery=function(t){e.setState({searchQuery:t})},e}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state.searchQuery;return Object(da.jsx)(e,Object(m.a)(Object(m.a)({},this.props),{},{searchQuery:t,handleSearchQuery:this.handleSearchQuery}))}}]),n}(r.a.Component);return t},Ci=a(474);function xi(e){var t=e.name,a=e.height,n=e.width,r=e.viewBox,i=e.className,o=e.onClick;return Object(da.jsx)(Ci.a,{data:{id:"icon.".concat(t),viewBox:r},height:a,width:n,className:i,onClick:o})}xi.defaultProps={height:16,width:16,viewBox:"0 0 16 16"},function(e){e.query="query",e.diagnostics="diagnostics"}(fi||(fi={})),function(e){e.overview="overview",e.acl="acl",e.schema="schema"}(mi||(mi={})),function(e){e.info="info",e.general="general",e.generalTab="generalTab"}(Oi||(Oi={}));var yi=[{id:fi.query,title:"Query",icon:Object(da.jsx)(xi,{name:"query",viewBox:"0 0 16 16"})},{id:fi.diagnostics,title:"Diagnostics",icon:Object(da.jsx)(xi,{name:"diagnostics",viewBox:"0 0 17 16"})}],Ni=[{id:mi.overview,title:"Overview"},{id:mi.acl,title:"ACL"}],wi=[{id:mi.schema,title:"Schema"}],Si=(a(616),b()("tenants")),ki=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).getControlPlaneValue=function(e){var t=L.a.get(e,"Name",[]).split("/"),a=t.length?t.slice(-1):"\u2014";return L.a.get(e,"ControlPlane.name",a)},e.renderTable=function(){var t=e.props,n=t.tenants,i=void 0===n?[]:n,o=t.searchQuery,s=t.showTooltip,c=t.hideTooltip,l=t.filter,d=t.handleSearchQuery,u=t.additionalTenantsInfo,h=void 0===u?{}:u,p=i.filter((function(t){return t.Name.includes(o)||e.getControlPlaneValue(t).includes(o)}),l),j=a.filterTenants(p,l),v=[{name:"Name",header:"Database",render:function(e){var t,a,n=e.value,i=e.row,o=null!==(t=i.MonitoringEndpoint)&&void 0!==t?t:i.backend,s=h.tenantBackend?h.tenantBackend(o):void 0,c=Boolean(o);return Object(da.jsxs)(r.a.Fragment,{children:[Object(da.jsx)(ai,{externalLink:c,className:Si("name"),name:n||"unknown database",status:i.Overall,hasClipboardButton:!0,path:qr(Gr.tenant,void 0,(a={name:n,backend:s},Object(D.a)(a,Oi.info,Ni[0].id),Object(D.a)(a,Oi.general,yi[0].id),a))}),h.name&&h.name(n,i)]})},width:440,sortable:!0,defaultOrder:R.a.DESCENDING},{name:"ControlPlaneName",header:"Name",render:function(t){var a=t.row;return e.getControlPlaneValue(a)},width:200,sortable:!0,defaultOrder:R.a.DESCENDING},{name:"Type",width:200,render:function(e){var t=e.value,a=e.row;if("Serverless"!==t)return t;var n=L.a.find(i,{Id:a.ResourceId}).Name;return Object(da.jsxs)("div",{className:Si("type"),children:[Object(da.jsx)("span",{className:Si("type-value"),children:t}),Object(da.jsx)(Wr.a,{className:Si("type-button"),onClick:function(){return d(n)},children:"Show shared"})]})}},{name:"State",width:80,render:function(e){var t=e.value;return t?t.toLowerCase():"\u2014"},customStyle:function(){return{textTransform:"capitalize"}}},{name:"cpu",header:"CPU",width:80,sortAccessor:function(e){var t=e.Metrics,a=void 0===t?{}:t,n=e.CoresUsed,r=void 0!==n?1e6*Number(n):a.CPU;return isNaN(Number(r))?0:Number(r)},accessor:function(e){var t=e.Metrics,a=void 0===t?{}:t,n=e.CoresUsed;return isNaN(Number(n))?Number(a.CPU)?Ie(Number(a.CPU)):"\u2014":Math.round(100*Number(n))/100||"\u2014"},align:R.a.RIGHT,defaultOrder:R.a.DESCENDING},{name:"memory",header:"Memory",width:120,accessor:function(e){var t=e.Metrics,a=void 0===t?{}:t,n=e.MemoryUsed;return isNaN(Number(n))?Number(a.Memory):Number(n)},sortAccessor:function(e){var t=e.Metrics,a=void 0===t?{}:t,n=e.MemoryUsed,r=null!==n&&void 0!==n?n:a.Memory;return isNaN(Number(r))?0:Number(r)},render:function(e){var t=e.value;return t?ye(t):"\u2014"},align:R.a.RIGHT,defaultOrder:R.a.DESCENDING},{name:"storage",header:"Storage",width:120,accessor:function(e){var t=e.Metrics,a=void 0===t?{}:t,n=e.StorageAllocatedSize;return isNaN(Number(n))?Number(a.Storage):Number(n)},sortAccessor:function(e){var t=e.Metrics,a=void 0===t?{}:t,n=e.StorageAllocatedSize,r=null!==n&&void 0!==n?n:a.Storage;return isNaN(Number(r))?0:Number(r)},render:function(e){var t=e.value;return t?ye(t):"\u2014"},align:R.a.RIGHT,defaultOrder:R.a.DESCENDING},{name:"StorageGroups",header:"Groups",width:100,sortAccessor:function(e){var t=e.StorageGroups;return isNaN(Number(t))?0:Number(t)},render:function(e){var t=e.value;return null!==t&&void 0!==t?t:"\u2014"},align:R.a.RIGHT,defaultOrder:R.a.DESCENDING},{name:"PoolStats",header:"Pools",width:100,sortAccessor:function(e){var t=e.PoolStats;return(void 0===t?[]:t).reduce((function(e,t){return e+t.Usage}),0)},defaultOrder:R.a.DESCENDING,align:R.a.CENTER,render:function(e){var t=e.value;return Object(da.jsx)(ci,{onMouseEnter:s,onMouseLeave:c,rowInfo:t,pools:t})}},{name:"Tablets",header:"Tablets States",sortable:!1,width:430,render:function(e){var t=e.value,a=e.row;return t?Object(da.jsx)(ui,{path:a.Name,tablets:t,nodeIds:a.NodeIds}):"\u2014"}}];return 0===j.length&&l!==W?Object(da.jsx)("div",{className:"no-problem"}):Object(da.jsx)("div",{className:Si("table-wrapper"),children:Object(da.jsx)("div",{className:Si("table-content"),children:Object(da.jsx)(R.a,{theme:"yandex-cloud",data:j,columns:v,settings:ae,dynamicRender:!0,emptyDataMessage:"No such tenants"})})})},e.renderContent=function(){return Object(da.jsxs)("div",{className:Si(),children:[e.renderControls(),e.renderTable()]})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.autofetcher=new bi,this.props.getTenantsInfo(Mr),this.autofetcher.fetch((function(){return e.props.getTenantsInfo(Mr)})),this.props.setHeader([{text:zr.title,link:qr(Gr.cluster,{activeTab:zr.id})}])}},{key:"componentWillUnmount",value:function(){this.autofetcher.stop()}},{key:"renderControls",value:function(){var e=this.props,t=e.searchQuery,a=e.handleSearchQuery,n=e.filter,r=e.changeFilter;return Object(da.jsxs)("div",{className:Si("controls"),children:[Object(da.jsx)(Kr.a,{className:Si("search"),placeholder:"Database name",text:t,onUpdate:a,hasClear:!0}),Object(da.jsx)(vi,{value:n,onChange:r})]})}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.wasLoaded,r=e.error;return t&&!n?a.renderLoader():r?Object(da.jsx)("div",{children:r.statusText}):this.renderContent()}}],[{key:"renderLoader",value:function(){return Object(da.jsx)("div",{className:"loader",children:Object(da.jsx)(Yr.a,{size:"l"})})}},{key:"filterTenants",value:function(e,t){return t===W?e:L.a.filter(e,(function(e){return e.Overall&&"Green"!==e.Overall}))}}]),a}(r.a.Component);ki.defaultProps={className:""};var Ti={getTenantsInfo:function(e){return fe({request:window.api.getTenants(e),actions:Ya,dataHandler:function(e,t){var a;return t().singleClusterMode?e.TenantInfo:null===(a=e.databases)||void 0===a?void 0:a.map((function(e){var t,a=e.Nodes?e.Nodes[0]:{},n=a.Host&&a.Endpoints?null===(t=L.a.find(a.Endpoints,{Name:"http-mon"}))||void 0===t?void 0:t.Address:void 0,r=a.Host?"".concat(a.Host).concat(n||""):void 0;return Object(m.a)(Object(m.a)({},e),{},{backend:r})}))}})},hideTooltip:wa,showTooltip:Sa,changeFilter:yt,setHeader:gr},Li=gi(Object(u.b)((function(e){var t=e.tenants,a=t.tenants,n=t.wasLoaded,r=t.loading,i=t.error;return{singleClusterMode:e.singleClusterMode,tenants:a,wasLoaded:n,loading:r,error:i,filter:e.settings.problemFilter}}),Ti)(ki)),Ei=a(972),Ii=a(987),Mi=a(988),Pi=(a(619),b()("info-viewer")),Di=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.info,a=e.className,n=e.title;return Object(da.jsxs)("div",{className:"".concat(Pi()," ").concat(a),children:[n&&Object(da.jsx)("div",{className:Pi("title"),children:n}),t&&t.length>0?Object(da.jsx)("div",{className:Pi("items"),children:t.map((function(e,t){return Object(da.jsxs)("div",{className:Pi("row"),children:[Object(da.jsxs)("div",{className:Pi("label"),children:[e.label,Object(da.jsx)("div",{className:Pi("dots")})]}),Object(da.jsx)("div",{className:Pi("value"),children:e.value})]},t)}))}):Object(da.jsxs)("div",{children:["no ",n," data"]})]})}}]),a}(r.a.Component);Di.defaultProps={className:""};var Ri=Di,Hi=(a(620),b()("progress-viewer")),Ai=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.capacity,n=e.formatValues,r=e.percents,i=e.size,o=e.className,s=e.colorizeProgress,c=e.inverseColorize,l=Math.round(parseFloat(t)/parseFloat(a)*100);l=l>100?100:l;var d=Math.round(t),u=a,h="/";if(n){var p=n(t,a),j=Object(Oe.a)(p,2);d=j[0],u=j[1]}else r&&(d=l+"%",u="",h="");var v=c?"scarlet":"apple";s&&(l>60&&l<=80?v="saffron":l>80&&(v=c?"apple":"scarlet"));var b={width:l+"%"},f=l>60?"contrast0":"contrast70";return isNaN(l)?Object(da.jsx)("div",{className:"".concat(Hi({size:i})," ").concat(o," error"),children:"no data"}):Object(da.jsxs)("div",{className:Hi({size:i}),children:[Object(da.jsx)("div",{className:Hi("line",{bg:v}),style:b}),Object(da.jsx)("span",{className:Hi("text",{text:f}),children:"".concat(d," ").concat(h," ").concat(u)})]})}}]),a}(r.a.Component);Ai.defaultProps={size:"xs",colorizeProgress:!1,capacity:100,inverseColorize:!1};var Fi=Ai,Vi=(a(621),b()("pool-usage")),_i=function(e){var t="green";return e>60&&e<=80?t="yellow":e>80&&(t="red"),t},Ui=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e,t=this.props.data,a=void 0===t?{}:t,n=a.Threads,r=a.Name,i=void 0===r?"Unknown":r,o=a.Usage&&n,s="undefined"===typeof(e=a.Usage)?"":Math.floor(100*e),c=s>100?100:s;return Object(da.jsxs)("div",{className:Vi(),children:[Object(da.jsxs)("div",{className:Vi("info"),children:[Object(da.jsx)("div",{className:Vi("pool-name"),children:i}),o&&Object(da.jsxs)("div",{className:Vi("value"),children:[Object(da.jsxs)("div",{className:Vi("percents"),children:[s<1?"<1":s,"%"]}),Object(da.jsxs)("div",{className:Vi("threads"),children:["(\xd7",n,")"]})]})]}),Object(da.jsx)("div",{className:Vi("visual"),children:Object(da.jsx)("div",{className:Vi("usage-line",{type:_i(c)}),style:{width:"".concat(c,"%")}})})]})}}]),a}(r.a.Component),zi=Ui,Zi=(a(622),b()("tag")),Bi=function(e){var t=e.text,a=e.type;return Object(da.jsx)("div",{className:Zi({type:a}),children:t})},Qi=(a(623),b()("tags")),qi=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.tags,a=e.className,n=e.tagsType;return Object(da.jsx)("div",{className:"".concat(Qi()," ").concat(a),children:t&&t.map((function(e,t){return Object(da.jsx)(Bi,{text:e,type:n},t)}))})}}]),a}(r.a.Component);qi.defaultProps={className:""};var Gi=qi,Wi=(a(624),b()("full-node-viewer")),Ki=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.node,a=e.className,n=e.additionalNodesInfo,r=void 0===n?{}:n,i=r.getNodeRef?r.getNodeRef(t):void 0,o=[{label:"Version",value:t.Version},{label:"Uptime",value:Me(t.StartTime)},{label:"DC",value:t.DataCenterDescription},{label:"Rack",value:t.Rack}],s=t.LoadAverage.map((function(e,t){return{label:Q["".concat(t)],value:Object(da.jsx)(Fi,{value:e,percents:!0,colorizeProgress:!0})}}));return Object(da.jsx)("div",{className:"".concat(Wi()," ").concat(a),children:t?Object(da.jsxs)("div",{children:[Object(da.jsxs)("div",{className:Wi("row"),children:[Object(da.jsx)("div",{className:Wi("title"),children:"Node"}),Object(da.jsx)(ai,{status:t.SystemState,name:t.Host}),i&&Object(da.jsx)("a",{rel:"noopener noreferrer",className:Wi("link",{external:!0}),href:i,target:"_blank",children:Object(da.jsx)(xi,{name:"external"})}),Object(da.jsxs)("div",{className:Wi("row",{id:!0}),children:[Object(da.jsx)("label",{className:Wi("label",{id:!0}),children:"NodeID"}),Object(da.jsx)("label",{children:t.NodeId})]}),Object(da.jsx)(Gi,{tags:[t.DataCenter]}),Object(da.jsx)(Gi,{tags:t.Roles,tagsType:"blue"})]}),Object(da.jsxs)("div",{className:Wi("common-info"),children:[Object(da.jsxs)("div",{children:[Object(da.jsx)("div",{className:Wi("section-title"),children:"Pools"}),Object(da.jsx)("div",{className:Wi("section",{pools:!0}),children:t.PoolStats.map((function(e,t){return Object(da.jsx)(zi,{data:e},t)}))})]}),Object(da.jsx)(Ri,{title:"Common info",className:Wi("section"),info:o}),Object(da.jsx)(Ri,{title:"Load average",className:Wi("section",{average:!0}),info:s})]})]}):Object(da.jsx)("div",{className:"error",children:"no data"})})}}]),a}(r.a.Component);Ki.defaultProps={className:""};var Yi=Ki,Ji="storage",Xi="tablets",$i=[{id:Ji,name:"Storage"},{id:Xi,name:"Tablets"}],eo=a(181),to=b()("yc-link");function ao(e){var t=e.to,a=e.children,n=e.onClick,r=e.className;return t?Object(da.jsx)(Jr.a,{className:to({view:"normal"},r),to:t,onClick:n,children:a}):a}a(625);var no=b()("tablet"),ro=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).ref=r.a.createRef(),e._onTabletMouseEnter=function(){var t=e.props.tablet;e.props.onMouseEnter(e.ref.current,t,"tablet")},e._onTabletClick=function(){var t=e.props.tablet;(void 0===t?{}:t).TabletId&&e.props.onMouseLeave()},e}return Object(c.a)(a,[{key:"render",value:function(){var e,t=this.props.tablet,a=void 0===t?{}:t,n=a.TabletId,r=null===(e=a.Overall)||void 0===e?void 0:e.toLowerCase();return Object(da.jsx)(ao,{onClick:this._onTabletClick,to:n&&qr(Gr.tablet,{id:n}),className:no("wrapper"),children:Object(da.jsx)("div",{ref:this.ref,className:no({status:r}),onMouseEnter:this._onTabletMouseEnter,onMouseLeave:this.props.onMouseLeave,children:Object(da.jsx)("div",{className:no("type"),children:[B(a.Type)]})})})}}]),a}(r.a.PureComponent);ro.defaultProps={onMouseEnter:function(){},onMouseLeave:function(){}};var io=ro,oo=a(978),so=a(226),co=a.n(so),lo=(a(626),a(970)),uo=(a(627),{grey:"var(--yc-color-base-misc-heavy)",green:"var(--yc-color-base-positive-heavy)",yellow:" var(--yc-color-base-warning-heavy)",orange:"var( --yc-color-base-warning-orange)",red:"var(--yc-color-base-danger-heavy)",blue:"var(--yc-color-base-info-heavy)"}),ho=b()("kv-tablets-overall");var po=function(e){var t=e.tablets,a=Object(u.c)(),n=t.length,r=t.reduce((function(e,t){var a=t.Overall.toLowerCase();return e[a]?e[a]++:e[a]=1,e}),{}),i=[];Object.keys(r).forEach((function(e){var a=r[e]/n*100,o=r[e];r[e]=a,i.push({color:e,percents:a,value:o,total:t.length})})),Object.keys(r).forEach((function(e){r[e]<3&&(!function(e,t){Object.keys(e).some((function(a){return e[a]>10&&(e[a]-=3-t,!0)}))}(r,r[e]),r[e]=3)}));var o=Object.keys(r).map((function(e){return{color:uo[e],colorKey:e,value:r[e]}}));return o.sort((function(e,t){return G[t.colorKey]-G[e.colorKey]})),Object(da.jsxs)("div",{className:ho("row",{overall:!0}),children:[Object(da.jsx)("span",{className:ho("label",{overall:!0}),children:"Overall:"}),Object(da.jsx)("div",{onMouseLeave:a(wa),onMouseEnter:function(e){return a(Sa(e.target,i,"tabletsOverall"))},children:Object(da.jsx)(lo.a,{value:100,stack:o})})]})},jo=b()("tablets"),vo=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={filteredTablets:[]},e.renderLoader=function(){return Object(da.jsx)("div",{className:jo("loader-wrapper"),children:Object(da.jsx)(Yr.a,{size:"m"})})},e.makeRequestIfPathOrNodeExist=function(){var t=e.props,a=t.nodeId,n=t.path;"undefined"!==typeof a?e.props.getTabletsInfo({nodes:[a]}).then(e.updateFilteredTablets):"undefined"!==typeof n&&e.props.getTabletsInfo({path:n}).then(e.updateFilteredTablets)},e.handleStateFilterChange=function(t){e.props.setStateFilter(t),e.updateFilteredTablets()},e.handleTypeFilterChange=function(t){e.props.setTypeFilter(t),e.updateFilteredTablets()},e.renderTablet=function(t,a){return Object(da.jsx)(io,{onMouseLeave:e.props.hideTooltip,onMouseEnter:e.props.showTooltip,tablet:e.state.filteredTablets[parseInt(a,10)],size:e.props.size,className:jo("tablet")},a)},e.updateFilteredTablets=function(){var t=e.props,a=t.stateFilter,n=t.typeFilter,r=e.props.tablets;n.length>0&&(r=r.filter((function(e){return n.some((function(t){return e.Type===t}))}))),a.length>0&&(r=r.filter((function(e){return a.some((function(t){return e.State===t}))}))),e.setState({filteredTablets:r})},e.renderContent=function(t){var a=Array.from(Object(eo.a)(Set,[t.map((function(e){return e.State}))])).map((function(e){return{value:e,content:e}})),n=Array.from(Object(eo.a)(Set,[t.map((function(e){return e.Type}))])).map((function(e){return{value:e,content:e}})),r=e.state.filteredTablets,i=e.props,o=i.stateFilter,s=i.typeFilter;return Object(da.jsxs)("div",{className:jo(),children:[Object(da.jsxs)("div",{className:jo("header"),children:[Object(da.jsx)(oo.a,{className:jo("filter-control"),multiple:!0,placeholder:"All items",label:"States:",options:a,value:o,onUpdate:e.handleStateFilterChange,width:"100%"}),Object(da.jsx)(oo.a,{className:jo("filter-control"),multiple:!0,placeholder:"All items",label:"Types:",options:n,value:s,onUpdate:e.handleTypeFilterChange,width:"100%"}),Object(da.jsx)(po,{tablets:t})]}),Object(da.jsx)("div",{className:jo("items"),children:Object(da.jsx)(co.a,{itemRenderer:e.renderTablet,length:r.length,type:"uniform"})})]})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.makeRequestIfPathOrNodeExist(),this.autofetcher=new bi,this.props.autorefresh&&(this.autofetcher.start(),this.autofetcher.fetch((function(){return e.makeRequestIfPathOrNodeExist()})))}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.props.autorefresh;!e.path&&this.props.path&&this.makeRequestIfPathOrNodeExist(),e.path&&this.props.path&&e.path!==this.props.path&&(this.props.clearWasLoadingFlag(),this.makeRequestIfPathOrNodeExist()),a&&!e.autorefresh&&(this.makeRequestIfPathOrNodeExist(),this.autofetcher.stop(),this.autofetcher.start(),this.autofetcher.fetch((function(){return t.makeRequestIfPathOrNodeExist()}))),!a&&e.autorefresh&&this.autofetcher.stop()}},{key:"componentWillUnmount",value:function(){this.autofetcher.stop()}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.wasLoaded,n=e.error,r=e.tablets;return t&&!a?this.renderLoader():n?Object(da.jsx)("div",{children:n.statusText}):r.length>0?this.renderContent(r):Object(da.jsx)("div",{className:"error",children:"no tablets data"})}}]),a}(r.a.Component),bo={getTabletsInfo:function(e){return fe({request:window.api.getTabletsInfo(e),actions:Ta})},hideTooltip:wa,showTooltip:Sa,clearWasLoadingFlag:function(){return{type:"CLEAR_WAS_LOADING_TABLETS"}},setStateFilter:function(e){return{type:"SET_STATE_FILTER",data:e}},setTypeFilter:function(e){return{type:"SET_TYPE_FILTER",data:e}}},fo=Object(u.b)((function(e){var t=e.tablets,a=t.data,n=void 0===a?{}:a,r=t.wasLoaded,i=t.loading,o=t.timeoutForRequest,s=t.stateFilter,c=t.typeFilter,l=e.schema.autorefresh,d=n.TabletStateInfo;return{tablets:void 0===d?[]:d,timeoutForRequest:o,wasLoaded:r,loading:i,stateFilter:s,typeFilter:c,autorefresh:l}}),bo)(vo);var mo=function(e){var t,a=Object(n.useState)(""),r=Object(Oe.a)(a,2),i=r[0],o=r[1];Object(n.useEffect)((function(){return function(){return clearTimeout(t)}}),[]),Object(n.useEffect)((function(){o(""),e.changeReduxStorageFilter("")}),[e.storageType]);var s=e.storageType===Ue?"Group ID, Pool name":"Node ID, FQDN";return Object(da.jsx)(Kr.a,{placeholder:s,value:i,onUpdate:function(a){clearTimeout(t),o(a),t=setTimeout((function(){e.changeReduxStorageFilter(a)}),200)},hasClear:!0})},Oo=a(977),go=r.a.createContext(Object(Rt.a)());go.displayName="HistoryContext";var Co=go,xo=(a(719),b()("storage-disk-progress-bar")),yo={0:"Grey",1:"Green",2:"Blue",3:"Yellow",4:"Orange",5:"Red"};var No=function(e){var t=e.diskAllocatedPercent,a=void 0===t?-1:t,i=e.severity,o=e.href,s=Object(n.useContext)(Co);return Object(da.jsx)("div",{className:void 0!==i?xo(Object(D.a)({},yo[i].toLowerCase(),!0)):void 0,onClick:function(){o&&s.push(o)},children:a>=0&&Object(da.jsxs)(r.a.Fragment,{children:[Object(da.jsx)("div",{className:xo("filled"),style:{width:"".concat(a,"%")}}),Object(da.jsx)("div",{className:xo("filled-title"),children:"".concat(Math.round(a),"%")})]})})},wo=(a(720),b()("vdisk-storage")),So={Initial:3,LocalRecoveryError:5,SyncGuidRecoveryError:5,SyncGuidRecovery:3,PDiskError:5,OK:1},ko={Grey:0,Green:1,Blue:2,Yellow:3,Orange:4,Red:5},To=function(e){var t;return null!==(t=So[e])&&void 0!==t?t:ko.Grey},Lo=function(e){var t;return null!==(t=ko[e])&&void 0!==t?t:ko.Grey};var Eo,Io=function(e){var t,a,i=Object(n.useState)(To(e.VDiskState)),o=Object(Oe.a)(i,2),s=o[0],c=o[1],l=Object(n.useState)(!1),d=Object(Oe.a)(l,2),u=d[0],h=d[1],p=Object(n.useRef)();Object(n.useEffect)((function(){var t=e.DiskSpace,a=e.VDiskState,n=e.FrontQueues,r=e.Replicated,i=Lo(t),o=To(a),s=Math.min(ko.Orange,Lo(n)),l=Math.max(i,o,s);r||l!==ko.Green||(l=ko.Blue),c(l)}),[e.VDiskState,e.DiskSpace,e.FrontQueues,e.Replicated]);var j=Object(n.useMemo)((function(){var t=e.AvailableSize,a=e.AllocatedSize,n=e.PDisk,r=t||(null===n||void 0===n?void 0:n.AvailableSize);if(r)return isNaN(Number(a))?void 0:100*Number(a)/(Number(r)+Number(a))}),[e.AllocatedSize,e.AvailableSize,null===(t=e.PDisk)||void 0===t?void 0:t.AvailableSize]);return Object(da.jsxs)(r.a.Fragment,{children:[function(){var t=function(){var t,a,n,r,i=e.VDiskId,o=e.VDiskState,s=e.PoolName,c=e.SatisfactionRank,l=e.DiskSpace,d=e.FrontQueues,u=e.Replicated,h=e.UnsyncedVDisks,p=e.AllocatedSize,j=e.ReadThroughput,v=e.WriteThroughput,b=[{property:"VDisk",value:Ne(i)}];return b.push({property:"State",value:null!==o&&void 0!==o?o:"not available"}),s&&b.push({property:"StoragePool",value:s}),c&&(null===(t=c.FreshRank)||void 0===t?void 0:t.Flag)!==yo[ko.Green]&&b.push({property:"Fresh",value:c.FreshRank.Flag}),c&&(null===(a=c.LevelRank)||void 0===a?void 0:a.Flag)!==yo[ko.Green]&&b.push({property:"Level",value:c.LevelRank.Flag}),c&&(null===(n=c.FreshRank)||void 0===n?void 0:n.RankPercent)&&b.push({property:"Fresh",value:c.FreshRank.RankPercent}),c&&(null===(r=c.LevelRank)||void 0===r?void 0:r.RankPercent)&&b.push({property:"Level",value:c.LevelRank.RankPercent}),l&&l!==yo[ko.Green]&&b.push({property:"Space",value:l}),d&&d!==yo[ko.Green]&&b.push({property:"FrontQueues",value:d}),!u&&b.push({property:"Replicated",value:"NO"}),h&&b.push({property:"UnsyncVDisks",value:h}),Boolean(Number(p))&&b.push({property:"Allocated",value:pt(p)}),Boolean(Number(j))&&b.push({property:"Read",value:ht(j)}),Boolean(Number(v))&&b.push({property:"Write",value:ht(v)}),b}(),a=function(){var t=e.PDisk,a=e.nodes,n=[yo[ko.Orange],yo[ko.Red],yo[ko.Yellow]];if(t&&a){var r=[{property:"PDisk",value:we(t)}];return r.push({property:"State",value:t.State||"not available"}),t.NodeId&&r.push({property:"Node Id",value:t.NodeId}),t.NodeId&&a[t.NodeId]&&r.push({property:"Host",value:a[t.NodeId]}),t.Path&&r.push({property:"Path",value:t.Path}),r.push({property:"Available",value:"".concat(pt(t.AvailableSize)," of ").concat(pt(t.TotalSize))}),n.includes(t.Realtime)&&r.push({property:"Realtime",value:t.Realtime}),n.includes(t.Device)&&r.push({property:"Device",value:t.Device}),r}return null}();return Object(da.jsx)(Oo.a,{className:wo("popup-wrapper"),anchorRef:p,open:u,placement:["top"],hasArrow:!0,children:Object(da.jsxs)("div",{className:wo("popup-content"),children:[Object(da.jsx)("div",{className:wo("popup-section-name"),children:"VDisk"}),L.a.map(t,(function(e){return Object(da.jsxs)(r.a.Fragment,{children:[Object(da.jsx)("div",{className:wo("property"),children:e.property}),Object(da.jsx)("div",{className:wo("value"),children:e.value})]},e.property)})),Object(da.jsx)("div",{className:wo("popup-section-name"),children:"PDisk"}),L.a.map(a,(function(e){return Object(da.jsxs)(r.a.Fragment,{children:[Object(da.jsx)("div",{className:wo("property"),children:e.property}),Object(da.jsx)("div",{className:wo("value"),children:e.value})]},e.property)}))]})})}(),Object(da.jsx)("div",{className:wo(),ref:p,onMouseEnter:function(){h(!0)},onMouseLeave:function(){h(!1)},children:Object(da.jsx)(No,{diskAllocatedPercent:j,severity:s,href:qr(Gr.vdisk,null,{vdiskId:Ne(e.VDiskId),pdiskId:null===(a=e.PDisk)||void 0===a?void 0:a.PDiskId,nodeId:e.NodeId})})})]})};a(721);!function(e){e.PoolName="PoolName",e.GroupID="GroupID",e.Used="Used",e.Limit="Limit",e.UsedPercents="UsedPercents",e.UsedSpaceFlag="UsedSpaceFlag",e.Read="Read",e.Write="Write",e.VDisks="VDisks",e.Missing="Missing"}(Eo||(Eo={}));var Mo={PoolName:"Pool Name",GroupID:"Group ID",Used:"Used",Limit:"Limit",UsedSpaceFlag:"Space",UsedPercents:"Used percents",Read:"Read",Write:"Write",VDisks:"VDisks",Missing:"Missing"},Po=b()("global-storage-groups");function Do(e){switch(e){case Fe:return{columnId:Eo.GroupID,order:R.a.ASCENDING};case Ve:return{columnId:Eo.Missing,order:R.a.DESCENDING};case _e:return{columnId:Eo.UsedSpaceFlag,order:R.a.ASCENDING};default:return}}var Ro=function(e){var t=e.data,a=e.tableSettings,n=e.visibleEntities,r=e.nodes,i=[{name:Eo.PoolName,header:Mo[Eo.PoolName],width:160,render:function(e){var t=e.value,a=null===t||void 0===t?void 0:t.split("/");return Object(da.jsx)("div",{className:Po("pool-name-wrapper"),children:a&&Object(da.jsx)(Ii.a,{content:Object(da.jsx)("span",{className:Po("tooltip"),children:t}),placement:["right"],behavior:Ii.b.Immediate,children:Object(da.jsx)("span",{className:Po("pool-name"),children:a[a.length-1]})})})},align:R.a.LEFT},{name:Eo.GroupID,header:Mo[Eo.GroupID],width:130,render:function(e){var t=e.value;return Object(da.jsx)("span",{className:Po("group-id"),children:t})},align:R.a.RIGHT},{name:Eo.Used,header:Mo[Eo.Used],width:100,render:function(e){return pt(e.value,!0)},align:R.a.RIGHT},{name:Eo.Limit,header:Mo[Eo.Limit],width:100,render:function(e){return pt(e.value)},align:R.a.RIGHT},{name:Eo.UsedSpaceFlag,header:Mo[Eo.UsedSpaceFlag],width:110,render:function(e){var t=e.value,a="Red";return t<100?a="Green":t<1e4?a="Yellow":t<1e6&&(t="Orange"),Object(da.jsx)(ai,{status:a})},align:R.a.CENTER},{name:Eo.Read,header:Mo[Eo.Read],width:100,render:function(e){var t=e.value;return t?ht(t):"-"},align:R.a.RIGHT},{name:Eo.Write,header:Mo[Eo.Write],width:100,render:function(e){var t=e.value;return t?ht(t):"-"},align:R.a.RIGHT},{name:Eo.Missing,header:Mo[Eo.Missing],width:100,align:R.a.CENTER,defaultOrder:R.a.DESCENDING},{name:Eo.VDisks,header:Mo[Eo.VDisks],render:function(e){var t=e.value,a=e.row;return Object(da.jsx)("div",{className:Po("vdisks-wrapper"),children:L.a.map(t,(function(e){return Object(da.jsx)(Io,Object(m.a)(Object(m.a)({},e),{},{PoolName:a[Eo.PoolName],nodes:r}),Ne(e.VDiskId))}))})},align:R.a.CENTER,sortable:!1,width:900}],o=i,s="No such groups.";return n===_e&&(o=i.filter((function(e){return e.name!==Eo.Missing})),s="No storage groups with space problems."),n===Ve&&(o=i.filter((function(e){return e.name!==Eo.UsedSpaceFlag})),s="No degraded groups."),t?Object(da.jsx)(R.a,{theme:"yandex-cloud",data:t,columns:o,settings:a,initialSortOrder:Do(n),emptyDataMessage:s},n):null},Ho=(a(723),b()("pdisk-storage")),Ao={Initial:0,Normal:1,InitialFormatRead:3,InitialSysLogRead:3,InitialCommonLogRead:3,InitialFormatReadError:5,InitialSysLogReadError:5,InitialSysLogParseError:5,InitialCommonLogReadError:5,InitialCommonLogParseError:5,CommonLoggerInitError:5,OpenFileError:5,ChunkQuotaError:5,DeviceIoError:5},Fo=0,Vo=3,_o=4,Uo=5,zo=function(e){return e?Ao[e]:Fo};var Zo,Bo=function(e){var t=Object(n.useState)(zo(e.State)),a=Object(Oe.a)(t,2),i=a[0],o=a[1],s=Object(n.useState)(!1),c=Object(Oe.a)(s,2),l=c[0],d=c[1],u=Object(n.useRef)(null);Object(n.useEffect)((function(){var t=zo(e.State);i!==t&&o(t)}),[e.State]);var h=Object(n.useMemo)((function(){var t=e.AvailableSize,a=e.TotalSize;if(t&&a)return isNaN(Number(t))||isNaN(Number(a))?void 0:Math.round(100*(Number(a)-Number(t))/Number(a))}),[e.AvailableSize,e.TotalSize]);return Object(da.jsxs)(r.a.Fragment,{children:[function(){var t=function(){var t=e.AvailableSize,a=e.TotalSize,n=e.State,r=e.PDiskId,i=e.NodeId,o=e.Host,s=e.Path,c=e.Realtime,l=e.Device,d=[yo[_o],yo[Uo],yo[Vo]],u=[{property:"PDisk",value:we({NodeId:i,PDiskId:r})}];return u.push({property:"State",value:n||"not available"}),i&&u.push({property:"Node Id",value:i}),o&&u.push({property:"Host",value:o}),s&&u.push({property:"Path",value:s}),u.push({property:"Available",value:"".concat(pt(t)," of ").concat(pt(a))}),c&&d.includes(c)&&u.push({property:"Realtime",value:c}),l&&d.includes(l)&&u.push({property:"Device",value:l}),u}();return Object(da.jsx)(Oo.a,{className:Ho("popup-wrapper"),anchorRef:u,open:l,placement:["top"],hasArrow:!0,children:Object(da.jsxs)("div",{className:Ho("popup-content"),children:[Object(da.jsx)("div",{className:Ho("popup-section-name"),children:"PDisk"}),L.a.map(t,(function(e){return Object(da.jsxs)(r.a.Fragment,{children:[Object(da.jsx)("div",{className:Ho("property"),children:e.property}),Object(da.jsx)("div",{className:Ho("value"),children:e.value})]},e.property)}))]})})}(),Object(da.jsx)("div",{className:Ho(),ref:u,onMouseEnter:function(){d(!0)},onMouseLeave:function(){d(!1)},children:Object(da.jsx)(No,{diskAllocatedPercent:h,severity:i,href:qr(Gr.vdisk,void 0,{pdiskId:e.PDiskId,nodeId:e.NodeId})})})]})};a(724);!function(e){e.NodeId="NodeId",e.FQDN="FQDN",e.uptime="uptime",e.PDisks="PDisks",e.Missing="Missing"}(Zo||(Zo={}));var Qo={NodeId:"Node ID",FQDN:"FQDN",uptime:"Uptime",PDisks:"PDisks",Missing:"Missing"},qo=b()("global-storage-groups");function Go(e){switch(e){case Fe:return{columnId:Zo.NodeId,order:R.a.ASCENDING};case Ve:return{columnId:Zo.Missing,order:R.a.DESCENDING};default:return}}var Wo=function(e){var t=e.data,a=e.tableSettings,n=e.visibleEntities,r=[{name:Zo.NodeId,header:Qo[Zo.NodeId],width:100,align:R.a.RIGHT},{name:Zo.FQDN,header:Qo[Zo.FQDN],width:350,render:function(e){var t=e.value;return Object(da.jsx)("div",{className:qo("tooltip-wrapper"),children:Object(da.jsx)(Ii.a,{content:Object(da.jsx)("span",{className:qo("tooltip"),children:t}),placement:["right"],behavior:Ii.b.Immediate,children:Object(da.jsx)("span",{className:qo("pool-name"),children:t})})})},align:R.a.LEFT},{name:Zo.uptime,header:Qo[Zo.uptime],width:130,sortAccessor:function(e){return-e.StartTime},align:R.a.RIGHT},{name:Zo.Missing,header:Qo[Zo.Missing],width:100,align:R.a.CENTER,defaultOrder:R.a.DESCENDING},{name:Zo.PDisks,header:Qo[Zo.PDisks],render:function(e){var t=e.value,a=e.row;return Object(da.jsx)("div",{className:qo("pdisks-wrapper"),children:L.a.map(t,(function(e){return Object(da.jsx)(Bo,Object(m.a)(Object(m.a)({},e),{},{NodeId:a.NodeId}),e.PDiskId)}))})},align:R.a.CENTER,sortable:!1,width:900}],i=r,o="No such nodes.";return n===_e&&(i=r.filter((function(e){return e.name!==Zo.Missing})),o="No nodes with space problems."),n===Ve&&(o="No degraded nodes."),t?Object(da.jsx)(R.a,{theme:"yandex-cloud",data:t,columns:i,settings:a,initialSortOrder:Go(n),emptyDataMessage:o},n):null},Ko=(a(725),b()("global-storage")),Yo={Missing:"missing",Space:"space"},Jo=Object(m.a)(Object(m.a)({},ae),{},{defaultOrder:R.a.DESCENDING,stickyTop:62}),Xo=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onGroupVisibilityChange=function(t){(0,e.props.setVisibleEntities)(t)},e.onStorageTypeChange=function(t){(0,e.props.setStorageType)(t)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.tenant,a=e.nodeId,n=e.setVisibleEntities,r=e.storageType,i=e.setHeader,o=e.getNodesList,s=e.getStorageInfo;i([{text:Br.title,link:qr(Gr.cluster,{activeTab:Br.id})}]),this.autofetcher=new bi,o(),t||a?(n(Fe),s({tenant:t,filter:Yo.All,nodeId:a,type:r})):(s({tenant:t,nodeId:a,filter:Yo.Missing,type:r}),this.autofetcher.fetch((function(){return s({tenant:t,nodeId:a,filter:Yo.Missing,type:r})})))}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.props,n=a.tenant,r=a.visibleEntities,i=a.getStorageInfo,o=a.nodeId,s=a.storageType,c=a.autorefresh,l=a.database,d=function(){i({tenant:n,filter:Yo[r],nodeId:o,type:s}),t.autofetcher.stop(),t.autofetcher.start(),t.autofetcher.fetch((function(){return i({tenant:n,filter:Yo[r],nodeId:o,type:s})}))};l&&!c&&e.autorefresh&&this.autofetcher.stop(),l&&c&&!e.autorefresh&&d(),s===e.storageType&&r===e.visibleEntities||!(!l||l&&c)||d()}},{key:"componentWillUnmount",value:function(){this.autofetcher.stop(),this.props.setInitialState()}},{key:"renderLoader",value:function(){return Object(da.jsx)("div",{className:Ko("loader"),children:Object(da.jsx)(Yr.a,{size:"m"})})}},{key:"renderDataTable",value:function(){var e=this.props,t=e.flatListStorageEntities,a=e.visibleEntities,n=e.nodes,r=e.storageType;return Object(da.jsxs)("div",{className:Ko("table-wrapper"),children:[r===Ue&&Object(da.jsx)(Ro,{visibleEntities:a,data:t,tableSettings:Jo,nodes:n}),r===ze&&Object(da.jsx)(Wo,{visibleEntities:a,data:t,tableSettings:Jo})]})}},{key:"renderControls",value:function(){var e=this.props,t=e.setStorageFilter,a=e.visibleEntities,n=e.storageType,r=e.flatListStorageEntities;return Object(da.jsxs)("div",{className:Ko("controls"),children:[Object(da.jsx)("div",{className:Ko("search"),children:Object(da.jsx)(mo,{changeReduxStorageFilter:t,storageType:n})}),Object(da.jsxs)(ji.a,{value:a,onUpdate:this.onGroupVisibilityChange,children:[Object(da.jsx)(ji.a.Option,{value:Ve,children:Ve}),Object(da.jsx)(ji.a.Option,{value:_e,children:_e}),Object(da.jsx)(ji.a.Option,{value:Fe,children:Fe})]}),Object(da.jsxs)(ji.a,{value:n,onUpdate:this.onStorageTypeChange,children:[Object(da.jsx)(ji.a.Option,{value:Ue,children:Ue}),Object(da.jsx)(ji.a.Option,{value:ze,children:ze})]}),Object(da.jsx)(Ei.a,{theme:"info",size:"m",children:"".concat(n===Ue?"Groups":"Nodes",": ").concat(r.length)})]})}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.wasLoaded,n=e.error;return t&&!a?this.renderLoader():n?Object(da.jsx)("div",{children:n.statusText}):Object(da.jsxs)("div",{className:Ko(),children:[this.renderControls(),this.renderDataTable()]})}}]),a}(r.a.Component);var $o={getStorageInfo:function(e){var t=e.tenant,a=e.filter,n=e.nodeId,r=e.type;return fe({request:window.api.getStorageInfo({tenant:t,filter:a,nodeId:n,type:r}),actions:Ze})},setInitialState:function(){return{type:Be}},setStorageFilter:function(e){return{type:Qe,data:e}},setVisibleEntities:function(e){return{type:qe,data:e}},getNodesList:function(){return fe({request:window.api.getNodeInfo(),actions:Un,dataHandler:function(e){var t=e.SystemStateInfo;return void 0===t?[]:t}})},setStorageType:function(e){return{type:Ge,data:e}},setHeader:gr},es=Object(u.b)((function(e){var t=e.storage,a=t.loading,n=t.wasLoaded,r=t.error,i=t.visible,o=t.type,s=t.filter;return{flatListStorageEntities:at(e),autorefresh:e.schema.autorefresh,nodes:Ye(e),loading:a,wasLoaded:n,error:r,visibleEntities:i,storageType:o,filter:s}}),$o)(Xo),ts=(a(727),b()("node")),as="Storage",ns=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={activeTab:""},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.setState({activeTab:this.props.activeTab}),this.props.getNodeInfo(t),this.reloadDescriptor=setInterval((function(){return e.props.getNodeInfo(t)}),1e4)}},{key:"componentDidUpdate",value:function(){var e=this.props.node,t=this.props.activeTab;e&&(L.a.find(e.Roles,(function(e){return e===as}))||(t=Xi),this.setState((function(e){if(e.activeTab!==t)return{activeTab:t}})))}},{key:"componentWillUnmount",value:function(){clearInterval(this.reloadDescriptor)}},{key:"renderTabs",value:function(){var e=this.props.node,t=this.props.match.params.id,a=(L.a.find(null===e||void 0===e?void 0:e.Roles,(function(e){return e===as}))?$i:$i.filter((function(e){return e.id!==Ji}))).map((function(e){return Object(m.a)(Object(m.a)({},e),{},{path:qr(Gr.node,{id:t,activeTab:e.id})})}));return Object(da.jsx)("div",{className:ts("tabs"),children:Object(da.jsx)(Mi.a,{items:a,activeTab:this.state.activeTab,wrapTo:function(e,t){var a=e.path,n=e.id;return Object(da.jsx)(Jr.a,{to:a,className:ts("tab"),children:t},n)},allowNotSelected:!0})})}},{key:"renderTabContent",value:function(){var e=this.state.activeTab,t=this.props.match.params.id;switch(e){case Ji:return Object(da.jsx)("div",{className:ts("storage"),children:Object(da.jsx)(es,{nodeId:t})});case Xi:return Object(da.jsx)(fo,{nodeId:t});default:return!1}}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.loading,r=e.wasLoaded,i=e.error,o=e.node,s=e.additionalNodesInfo;return n&&!r?a.renderLoader():i?Object(da.jsx)("div",{children:i.statusText}):o?Object(da.jsxs)("div",{className:"".concat(ts()," ").concat(t),children:[Object(da.jsx)(Yi,{node:o,backend:Er,additionalNodesInfo:s}),this.renderTabs(),Object(da.jsx)("div",{className:ts("content"),children:this.renderTabContent()})]}):Object(da.jsx)("div",{className:"error",children:"no node data"})}}],[{key:"renderLoader",value:function(){return Object(da.jsx)("div",{className:"loader",children:Object(da.jsx)(Yr.a,{size:"l"})})}}]),a}(r.a.Component);ns.defaultProps={className:""};var rs={getNodeInfo:Gt},is=Object(j.j)(Object(u.b)((function(e,t){var a=e.node,n=a.wasLoaded,r=a.loading,i=t.match.params.activeTab,o=e.node.data;return o&&(o=o.SystemStateInfo?o.SystemStateInfo[0]:void 0),{node:o,activeTab:i,wasLoaded:n,loading:r}}),rs)(ns)),os=b()("kv-nodes");function ss(e){var t=e.showTooltip,a=e.hideTooltip,n=e.tabletsPath,i=e.getNodeRef;return[{name:"NodeId",header:"#",width:"80px",align:R.a.RIGHT},{name:"Host",render:function(e){var t=e.row,a=e.value,n=L.a.find(null===t||void 0===t?void 0:t.Roles,(function(e){return e===as})),o=i?i(t):void 0;return"undefined"===typeof a?Object(da.jsx)("span",{children:"\u2014"}):Object(da.jsxs)(r.a.Fragment,{children:[Object(da.jsx)(ai,{name:t.Host,status:t.Overall,path:qr(Gr.node,{id:t.NodeId,activeTab:n?Ji:Xi}),hasClipboardButton:!0,className:os("host-name")}),o&&Object(da.jsx)(Wr.a,{size:"s",href:o,className:os("external-button"),children:Object(da.jsx)(xi,{name:"external"})})]})},width:"350px",align:R.a.LEFT},{name:"DataCenter",header:"DC",align:R.a.LEFT,render:function(e){var t=e.value;return t||"\u2014"},width:"60px"},{name:"Version",width:"200px",align:R.a.LEFT,render:function(e){var t=e.value;return Object(da.jsx)(Ii.a,{content:t,children:t})}},{name:"uptime",header:"Uptime",sortAccessor:function(e){return-e.StartTime},align:R.a.LEFT,width:"110px"},{name:"MemoryUsed",header:"Memory",sortAccessor:function(e){var t=e.MemoryUsed;return Number(void 0===t?0:t)},defaultOrder:R.a.DESCENDING,render:function(e){var t=e.value,a=e.row;return t?xe(t):a.Metrics?xe(a.Metrics.Memory):"\u2014"},align:R.a.RIGHT,width:"120px"},{name:"PoolStats",header:"CPU",sortAccessor:function(e){var t=e.PoolStats;return(void 0===t?[]:t).reduce((function(e,t){return e+t.Usage}),0)},defaultOrder:R.a.DESCENDING,render:function(e){var n=e.value;return n?Object(da.jsx)(ci,{onMouseEnter:t,onMouseLeave:a,pools:n}):"\u2014"},align:R.a.LEFT,width:"120px"},{name:"LoadAverage",header:"Load average",sortAccessor:function(e){var t=e.LoadAverage;return(void 0===t?[]:t).slice(0,1).reduce((function(e,t){return e+t}),0)},defaultOrder:R.a.DESCENDING,render:function(e){var t=e.value;return t&&t.length>0?Object(da.jsx)(Fi,{value:t[0],percents:!0,colorizeProgress:!0}):"\u2014"},align:R.a.LEFT,width:"140px"},{name:"Tablets",width:"430px",render:function(e){var t=e.row;return t.Tablets?Object(da.jsx)(ui,{path:null!==n&&void 0!==n?n:t.TenantName,nodeIds:[t.NodeId],tablets:t.Tablets}):"\u2014"},align:R.a.LEFT}]}a(730);var cs=b()("cluster-nodes"),ls=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleSearchQueryChange=function(t){e.props.handleSearchQuery(t)},e.handleFilterChange=function(t){e.props.changeFilter(t)},e.renderTable=function(){var t=e.props,a=t.nodes,n=void 0===a?[]:a,r=t.filter,i=t.searchQuery,o=t.showTooltip,s=t.hideTooltip,c=t.singleClusterMode,l=t.additionalNodesInfo,d=ss({showTooltip:o,hideTooltip:s,singleClusterMode:c,getNodeRef:(void 0===l?{}:l).getNodeRef}),u=i?n.filter((function(e){return!e.Host||(e.Host.includes(i)||String(e.NodeId).includes(i))})):n;return 0===(u=u.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{uptime:Me(e.StartTime)})}))).length&&r!==W?Object(da.jsx)("div",{className:"no-problem"}):Object(da.jsx)("div",{className:cs("table-wrapper"),children:Object(da.jsx)("div",{className:cs("table-content"),children:Object(da.jsx)(R.a,{theme:"yandex-cloud",data:u,columns:d,settings:ae,initialSortOrder:{columnId:"NodeId",order:R.a.ASCENDING},emptyDataMessage:"No such nodes"})})})},e.renderContent=function(){return Object(da.jsxs)("div",{className:cs(null,e.props.className),children:[e.renderControls(),e.renderTable()]})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getNodesList,a=e.setHeader;t(),this.reloadDescriptor=setInterval((function(){return t()}),H),a([{text:Zr.title,link:qr(Gr.cluster,{activeTab:Zr.id})}])}},{key:"componentWillUnmount",value:function(){clearInterval(this.reloadDescriptor)}},{key:"renderControls",value:function(){var e=this.props,t=e.searchQuery,a=e.filter,n=e.nodes;return Object(da.jsxs)("div",{className:cs("controls"),children:[Object(da.jsx)(Kr.a,{className:cs("search"),placeholder:"Host name",text:t,onUpdate:this.handleSearchQueryChange,hasClear:!0}),Object(da.jsx)(vi,{value:a,onChange:this.handleFilterChange}),Object(da.jsx)(Ei.a,{theme:"info",size:"m",children:"Nodes: ".concat(null===n||void 0===n?void 0:n.length)})]})}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.wasLoaded,r=e.error;return t&&!n?a.renderLoader():r?Object(da.jsx)("div",{children:r.statusText}):this.renderContent()}}],[{key:"renderLoader",value:function(){return Object(da.jsx)("div",{className:"loader",children:Object(da.jsx)(Yr.a,{size:"l"})})}}]),a}(r.a.Component),ds={getNodesList:At,hideTooltip:wa,showTooltip:Sa,changeFilter:yt,setHeader:gr},us=gi(Object(u.b)((function(e){var t=e.nodes,a=t.wasLoaded,n=t.loading,r=t.error,i=Zn(e);return{singleClusterMode:e.singleClusterMode,nodes:i,wasLoaded:a,loading:n,error:r,filter:e.settings.problemFilter}}),ds)(ls)),hs=(a(731),a(732),b()("cluster-info")),ps=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).autofetcher=void 0,e.renderContent=function(){var t=e.props,n=t.cluster,i=void 0===n?{}:n,o=t.showTooltip,s=t.hideTooltip,c=t.clusterTitle,l=t.loading,d=t.wasLoaded,u=i.Name,h=void 0===u?"Unknown cluster":u,p=e.getInfo();return l&&!d?e.renderLoader():Object(da.jsxs)(r.a.Fragment,{children:[Object(da.jsxs)("div",{className:hs("common"),children:[Object(da.jsx)("div",{className:hs("url"),children:Object(da.jsx)(ai,{size:"m",status:i.Overall,name:null!==c&&void 0!==c?c:h})}),i.DataCenters&&Object(da.jsx)(Gi,{tags:i.DataCenters}),Object(da.jsx)("div",{className:hs("system-tablets"),children:i.SystemTablets&&i.SystemTablets.sort(a.compareTablets).map((function(e,t){return Object(da.jsx)(io,{onMouseEnter:o,onMouseLeave:s,tablet:e},t)}))})]}),Object(da.jsx)(Ri,{dots:!0,info:p})]})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;(0,this.props.setHeader)([{text:Qr.title,link:qr(Gr.cluster,{activeTab:Qr.id})}]),this.props.getClusterInfo(Mr),this.autofetcher=new bi,this.autofetcher.fetch((function(){return e.props.getClusterInfo(Mr)}))}},{key:"shouldComponentUpdate",value:function(e){var t=e.cluster,a=void 0===t?{}:t;return!(0===Object.keys(a).length)}},{key:"componentWillUnmount",value:function(){this.autofetcher.stop()}},{key:"renderLoader",value:function(){return Object(da.jsx)("div",{className:hs("loader"),children:Object(da.jsx)(Yr.a,{size:"l"})})}},{key:"render",value:function(){var e,t=this.props,a=t.className,n=t.error;return n&&(e=n.statusText),Object(da.jsx)("div",{className:hs(null,a),children:e||this.renderContent()})}},{key:"getInfo",value:function(){var e,t=this.props,a=t.cluster,n=void 0===a?{}:a,r=t.additionalInfo,i=void 0===r?[]:r,o=t.singleClusterMode,s=n.StorageTotal,c=n.StorageUsed,l=Er+"/internal";return o&&!Fr&&(l="/internal"),[{label:"Nodes",value:Object(da.jsx)(Fi,{className:hs("metric-field"),value:n.NodesAlive,capacity:n.NodesTotal})},{label:"Load",value:Object(da.jsx)(Fi,{className:hs("metric-field"),value:n.LoadAverage,capacity:n.NumberOfCpus})},{label:"Storage",value:Object(da.jsx)(Fi,{className:hs("metric-field"),value:c,capacity:s,formatValues:ke})},{label:"Versions",value:Object(da.jsx)("div",{children:null===(e=n.Versions)||void 0===e?void 0:e.join(", ")})}].concat(Object(re.a)(i),[{label:"Internal viewer",value:Object(da.jsx)(Xr.a,{href:l,target:"_blank",children:Object(da.jsx)(xi,{name:"external",viewBox:"0 0 16 16",width:16,height:16})})}])}}],[{key:"compareTablets",value:function(e,t){return e.Type===z?1:t.Type===z?-1:0}}]),a}(r.a.Component),js={getClusterInfo:Ut,hideTooltip:wa,showTooltip:Sa,setHeader:gr},vs=Object(u.b)((function(e){var t=e.cluster,a=t.data,n=t.loading,r=t.error;return{cluster:a,loading:n,wasLoaded:t.wasLoaded,error:r,singleClusterMode:e.singleClusterMode}}),js)(ps),bs=b()("cluster");var fs=function(e){var t,a,n=Object(j.i)(Gr.cluster),r=null!==(t=null===n||void 0===n||null===(a=n.params)||void 0===a?void 0:a.activeTab)&&void 0!==t?t:zr.id;return Object(da.jsx)("div",{className:bs(),children:function(){switch(r){case zr.id:return Object(da.jsx)(Li,Object(m.a)({},e));case Zr.id:return Object(da.jsx)(us,Object(m.a)({},e));case Br.id:return Object(da.jsx)(es,Object(m.a)({},e));case Qr.id:return Object(da.jsx)(vs,{});default:return null}}()})},ms=a(989),Os=a(472),gs=(a(733),b()("kv-split")),Cs=[0,100],xs=[50,50];var ys=function(e){var t=Object(n.useState)(),a=Object(Oe.a)(t,2),i=a[0],o=a[1],s=function(t){var a=e.defaultSizePaneKey;localStorage.setItem(a,t.join(","))};return Object(n.useEffect)((function(){var t=e.collapsedSizes;if(e.triggerCollapse){var a=t||Cs;s(a),o(a)}}),[e.triggerCollapse]),Object(n.useEffect)((function(){var t=e.triggerExpand,a=e.defaultSizes||xs;t&&(s(a),o(a))}),[e.triggerExpand]),Object(da.jsx)(r.a.Fragment,{children:Object(da.jsx)(Os.a,{direction:e.direction||"horizontal",sizes:i||function(){var t,a=e.defaultSizePaneKey,n=e.defaultSizes,r=void 0===n?xs:n,i=e.initialSizes;return i||((null===(t=localStorage.getItem(a))||void 0===t?void 0:t.split(",").map(Number))||r)}(),minSize:e.minSize||[0,0],onDrag:function(t){var a=e.onSplitDrugAdditional;a&&a(),s(t)},className:gs(null,e.direction||"horizontal"),gutterSize:8,onDragStart:function(){var t=e.onSplitStartDrugAdditional;t&&t(),o(void 0)},expandToMin:!0,children:e.children})})},Ns=ys,ws=a(456),Ss=a.n(ws),ks=(a(734),["children","nodeLabel","onClick","collapsed","clickableLabel","className","hasArrow"]),Ts=b()("km-tree-view"),Ls=function(e){var t=e.children,a=e.nodeLabel,n=e.onClick,r=e.collapsed,i=e.clickableLabel,o=void 0!==i&&i,s=e.className,c=e.hasArrow,l=void 0===c||c,d=Object(S.a)(e,ks),u=Object(da.jsxs)("div",{className:Ts("node-wrapper",{clickable:o}),onClick:o?n:void 0,children:[l?Object(da.jsx)("span",{className:Ts("arrow-icon",{extended:!r}),onClick:o?void 0:n,children:Object(da.jsx)(xi,{name:"arrow-right",viewBox:"0 0 6 11",width:6,height:11})}):null,a]});return Object(da.jsx)(Ss.a,Object(m.a)(Object(m.a)({},d),{},{treeViewClassName:Ts(null,s),nodeLabel:u,collapsed:r,children:t}))},Es=a(28),Is=(a(735),b()("schema")),Ms=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).emptySchema=r.a.createRef(),e.removeArrow=function(){var t,a,n,r=null===(t=o.a.findDOMNode(Object(Es.a)(e)))||void 0===t||null===(a=t.parentNode)||void 0===a||null===(n=a.parentNode)||void 0===n?void 0:n.querySelector(".tree-view_arrow");return r&&r.setAttribute("style","visibility: hidden"),""},e.renderContent=function(){var t=e.props,a=t.schema,n=t.path;return a&&"StatusSuccess"===a.Status?Object(da.jsx)("div",{className:Is(),children:a&&a.PathDescription&&a.PathDescription.Children?a.PathDescription.Children.map((function(e,t){return Object(da.jsx)(Qs,{fullPath:n,data:e},t)})):Object(da.jsx)("div",{ref:e.emptySchema,children:e.showEmptyNode()})}):null},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.path;(0,e.getSchema)({path:t})}},{key:"renderLoader",value:function(){return Object(da.jsx)("div",{className:Is("loader"),children:Object(da.jsx)(Yr.a,{size:"m"})})}},{key:"showEmptyNode",value:function(){var e=this.props,t=e.tenantPath;return e.schema.Path===t?"no data":String(this.removeArrow())}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.wasLoaded,n=e.error,r=e.currentSchema;return t&&!a?this.renderLoader():n&&!n.isCancelled||r&&"StatusAccessDenied"===r.Status?Object(da.jsx)("div",{children:(null===n||void 0===n?void 0:n.statusText)||"Access denied"}):this.renderContent()}}]),a}(r.a.Component);var Ps={getSchema:Aa},Ds=Object(u.b)((function(e,t){var a=e.schema,n=a.data,r=void 0===n?{}:n,i=a.loading,o=a.wasLoaded,s=a.error,c=a.currentSchema,l=e.tenant.tenant.Name,d=t.path;return{tenantPath:l,schema:r["".concat(d)],loading:i,wasLoaded:o,error:s,currentSchema:c}}),Ps)(Ms),Rs=(a(736),a(952)),Hs=(a(737),b()("kv-schema-node-actions"));var As=function(e){var t=e.name,a=e.isTableType,n=Object(u.c)(),r=Object(j.g)(),i=g.a.parse(location.search,{ignoreQueryPrefix:!0}),o={text:"Copy path",action:function(){navigator.clipboard.writeText(t).then((function(){le({name:"Copied",title:"Path was copied to clipboard successfully",type:"success"})})).catch((function(){le({name:"Not copied",title:"Path was not copied to clipboard successfully",type:"error"})}))}},s=a?[[{text:"Open preview",action:function(){n(_a(!0)),r.push(qr(Gr.tenant,void 0,Object(m.a)(Object(m.a)({},i),{},Object(D.a)({},Oi.general,fi.query))))}},o],[{text:"Alter table",action:function(){var e;n(On({input:(e=t,"ALTER TABLE `".concat(e,"`\n    ADD COLUMN is_deleted Bool;"))}))}},{text:"Select query",action:function(){var e;n(On({input:(e=t,"SELECT `id`, `name`\n    FROM `".concat(e,"`\n    ORDER BY `id`\n    LIMIT 10;"))}))}},{text:"Upsert query",action:function(){var e;n(On({input:(e=t,"UPSERT INTO `".concat(e,"`\n    ( `id`, `name` )\nVALUES ( );"))}))}}]]:[[o],[{text:"Create table",action:function(){var e;n(On({input:(e=t,"CREATE TABLE `".concat(e,"/my_table`\n(\n    `id` Uint64,\n    `name` String,\n    PRIMARY KEY (`id`)\n);"))}))}}]];return Object(da.jsx)(Rs.a,{items:s,switcherWrapperClassName:Hs(),popupClassName:Hs("popup"),popupPlacement:["bottom-end"]})},Fs=b()("schema-node"),Vs="EPathTypeSubDomain",_s="EPathTypeTable",Us="EPathTypeOlapTable",zs=["EPathTypeDir","EPathTypeExtSubDomain","EPathTypeOlapStore"],Zs=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={collapsed:!0,active:!1},e.schemaNodeRef=r.a.createRef(),e.getSchemaPath=function(){var t=e.props,a=t.data,n=t.fullPath;return t.isRoot?n:"".concat(n,"/").concat(a.Name)},e.invertCollapsed=function(){e.setState({collapsed:!e.state.collapsed})},e.setIcon=function(t){var a="0 0 16 16",n=e.state.collapsed;return-1!==zs.indexOf(t.PathType)?n?Object(da.jsx)(xi,{name:"folder",viewBox:a,width:16,height:16}):Object(da.jsx)(xi,{name:"openFolder",viewBox:a,width:16,height:16}):t.PathType===_s||t.PathType===Us?Object(da.jsx)(xi,{name:"table",viewBox:a,width:16,height:16}):t.PathType===Vs?Object(da.jsx)(xi,{name:"subdomain",viewBox:a,width:16,height:16}):void 0},e.addActiveClass=function(){var t="schema-node_active",a=document.querySelector(".".concat(t));a&&a.classList.remove(t);var n=e.schemaNodeRef.current;n&&(e.setState({active:!0}),n.classList.add(t))},e.handleClick=function(t){var a=e.props,n=a.getSchema,r=a.getDescribe,i=a.getSchemaAcl,o=a.setCurrentSchemaPath;t.stopPropagation(),e.addActiveClass();var s=e.getSchemaPath();o(s),n({path:s}),r({path:s}),i({path:s})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentSchemaPath,a=e.isRoot,n=this.getSchemaPath();n!==t||this.state.active||this.addActiveClass(),(t&&t.startsWith(n)&&t!==n||a)&&this.setState({collapsed:!1})}},{key:"componentDidUpdate",value:function(){var e=this.props.currentSchemaPath;this.getSchemaPath()!==e||this.state.active||this.addActiveClass()}},{key:"render",value:function(){var e,t,a=this.props,n=a.data,r=a.fullPath,i=a.isRoot,o=void 0!==i&&i,s=a.currentSchemaPath,c=a.currentItem,l=void 0===c?{}:c,d=this.state.collapsed;if(!n)return null;var u=function(e){var t=wu(e);if(t===xu||t===yu)return!0;return!1}(null===(e=l.PathDescription)||void 0===e||null===(t=e.Self)||void 0===t?void 0:t.PathType),h=n.PathType!==_s,p=Object(da.jsxs)("div",{className:Fs("label"),children:[this.setIcon(n),Object(da.jsxs)("div",{className:Fs("name-wrapper"),children:[Object(da.jsx)("div",{className:Fs("name"),children:n.Name}),Object(da.jsx)(As,{name:s,isTableType:u})]})]});return Object(da.jsx)("div",{onClick:this.handleClick,ref:this.schemaNodeRef,children:Object(da.jsx)(Ls,{nodeLabel:p,collapsed:d,onClick:this.invertCollapsed,hasArrow:h,children:Object(da.jsx)(Ds,{path:o?r:"".concat(r,"/").concat(n.Name)})})})}}]),a}(r.a.Component);var Bs={getSchema:Aa,getDescribe:qn,getSchemaAcl:Kn,setCurrentSchemaPath:Fa},Qs=Object(u.b)((function(e){return{currentSchemaPath:e.schema.currentSchemaPath,currentItem:e.schema.currentSchema}}),Bs)(Zs),qs=(a(740),b()("kv-acl")),Gs=140,Ws=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).COLUMNS=[{name:"AccessType",header:"Access Type",sortable:!1,width:Gs},{name:"AccessRights",header:"Access Rights",render:function(e){var t=e.value;return L.a.map(t,(function(e,t){return Object(da.jsx)("div",{children:e},t)}))},width:Gs,sortable:!1},{name:"Subject",sortable:!1,render:function(t){var a=t.value;return e.prepareLogin(a)},width:Gs},{name:"InheritanceType",header:"Inheritance Type",render:function(e){var t=e.value;return L.a.map(t,(function(e,t){return Object(da.jsx)("div",{children:e},t)}))},width:Gs,sortable:!1}],e.prepareLogin=function(t){var a;return e.props.prepareLogin?null===(a=e.props.additionalTenantInfo)||void 0===a?void 0:a.prepareLogin(t):t&&t.endsWith("@staff")&&!t.startsWith("svc_")?t.split("@")[0]:t},e.renderTable=function(){var t=e.props.acl;return t?Object(da.jsx)(R.a,{columns:e.COLUMNS,data:t,settings:Object(m.a)(Object(m.a)({},ae),{},{stickyTop:36})}):null},e.renderOwner=function(){var t=e.props.owner;return t?Object(da.jsxs)("div",{className:qs("owner-container"),children:[Object(da.jsx)("span",{className:qs("owner-label"),children:"Owner: "}),e.prepareLogin(t)]}):null},e.renderResult=function(){return Object(da.jsxs)(r.a.Fragment,{children:[e.renderOwner(),e.renderTable()]})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.error,a=e.loading,n=e.acl,r=e.owner,i=e.wasLoaded;if(a&&!i)return Object(da.jsx)("div",{className:qs("loader-container"),children:Object(da.jsx)(Yr.a,{size:"m"})});if(t&&!t.isCancelled){var o=(t.data||t).slice(0,100);return Object(da.jsx)("div",{className:qs("message-container"),children:o})}return a||n||r?Object(da.jsx)("div",{className:qs(),children:Object(da.jsx)("div",{className:qs("result"),children:this.renderResult()})}):Object(da.jsx)("div",{className:qs("message-container"),children:"Empty"})}}]),a}(r.a.Component),Ks=Object(u.b)((function(e){var t=e.schemaAcl,a=t.loading,n=t.error;return{acl:t.acl,owner:t.owner,loading:a,error:n,wasLoaded:t.wasLoaded}}))(Ws),Ys=a(458),Js=a.n(Ys),Xs=(a(754),b()("schema-viewer")),$s="Id",ec="Name",tc="Key",ac="Type",nc=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"renderTable",value:function(){var e,t,a,n=this.props.data,r=void 0===n?{}:n,i=null!==(e=r.KeyColumnIds)&&void 0!==e?e:[],o=i.map((function(e){return Js()(r.Columns,{Id:e})})),s=null!==(t=null===(a=r.Columns)||void 0===a?void 0:a.filter((function(e){return!i.includes(e.Id)})))&&void 0!==t?t:[],c=[{name:$s,width:40},{name:tc,width:40,sortAccessor:function(e){return i.includes(e.Id)?1:0},render:function(e){var t=e.row;return i.includes(t.Id)?Object(da.jsx)("div",{className:Xs("key-icon"),children:Object(da.jsx)(xi,{name:"key",viewBox:"0 0 12 7",width:12,height:7})}):null}},{name:ec,width:100},{name:ac,width:100}],l=[].concat(Object(re.a)(o),Object(re.a)(s));return Object(da.jsx)(R.a,{theme:"yandex-cloud",data:l,columns:c,settings:ae,dynamicRender:!0,initialSortOrder:{columnId:tc,order:R.a.DESCENDING}})}},{key:"render",value:function(){return Object(da.jsx)("div",{className:Xs(),children:this.renderTable()})}}]),a}(r.a.Component),rc=nc,ic=a(241);var oc,sc=function(e){return Object(da.jsx)(ic.a,{text:e.text,timeout:1e3,children:function(t){var a,n;"success"===t&&le({name:"Copied",title:null!==(n=e.toastText)&&void 0!==n?n:"Data was copied to clipboard successfully",type:t});return Object(da.jsx)(Wr.a,{disabled:e.disabled,title:null!==(a=e.title)&&void 0!==a?a:"Copy",view:"flat-secondary",children:Object(da.jsx)(xi,{name:"copy",viewBox:"0 0 16 16",width:16,height:16})})}})};a(755);!function(e){e.triggerCollapse="triggerCollapse",e.triggerExpand="triggerExpand",e.clear="clear"}(oc||(oc={}));var cc=function(e){localStorage.removeItem(e)};function lc(e){return function(t,a){switch(a){case oc.triggerCollapse:return n=e,localStorage.setItem(n,"true"),Object(m.a)(Object(m.a)({},t),{},{triggerCollapse:!0,triggerExpand:!1,collapsed:!0});case oc.triggerExpand:return cc(e),Object(m.a)(Object(m.a)({},t),{},{triggerCollapse:!1,triggerExpand:!0,collapsed:!1});case oc.clear:return cc(e),{triggerCollapse:!1,triggerExpand:!1,collapsed:!1};default:return t}var n}}var dc=b()("kv-pane-visibility-button");function uc(e){var t=e.onCollapse,a=e.onExpand,n=e.isCollapsed,i=e.initialDirection,o=void 0===i?"top":i,s=e.className;return Object(da.jsxs)(r.a.Fragment,{children:[Object(da.jsx)(Wr.a,{view:"flat-secondary",onClick:t,className:dc({hidden:n},s),title:"Collapse",children:Object(da.jsx)(xi,{name:"collapse",viewBox:"0 0 384 512",width:14,height:14,className:dc(Object(D.a)({},o,!0))})}),Object(da.jsx)(Wr.a,{view:"flat-secondary",onClick:a,className:dc({hidden:!n},s),title:"Expand",children:Object(da.jsx)(xi,{name:"collapse",viewBox:"0 0 384 512",width:14,height:14,className:dc(Object(D.a)({},o,!0),"rotate")})})]})}a(756);var hc=b()("object-summary"),pc={triggerExpand:!1,triggerCollapse:!1,collapsed:Boolean(localStorage.getItem(te))};var jc=function(e){var t,a,i=Object(u.c)(),o=Object(n.useReducer)(lc(te),pc),s=Object(Oe.a)(o,2),c=s[0],l=s[1],d=Object(u.d)((function(e){return e.schema})),h=d.data,p=d.currentSchemaPath,v=d.currentSchema,b=void 0===v?{}:v,f=d.loading,O=Object(j.h)(),C=Object(j.g)(),x=g.a.parse(O.search,{ignoreQueryPrefix:!0}),y=x.name,N=x.info,w=L.a.get(h[y],"PathDescription.Self"),S=L.a.get(h[p],"PathDescription.Self"),k=(null===b||void 0===b||null===(t=b.PathDescription)||void 0===t?void 0:t.Table)||(null===b||void 0===b||null===(a=b.PathDescription)||void 0===a?void 0:a.OlapTableDescription),T=e.type===yu?function(e){var t=e.Name,a=e.Schema,n=void 0===a?{}:a,r=n.Columns,i=n.KeyColumnNames,o=null===i||void 0===i?void 0:i.map((function(e){return(null===r||void 0===r?void 0:r.find((function(t){return t.Name===e}))).Id}));return{Columns:r,KeyColumnNames:i,Name:t,KeyColumnIds:o}}(k):k;Object(n.useEffect)((function(){var t=e.type;!t||(t===xu||t===yu)||Ni.find((function(e){return e.id===N}))||C.push({pathname:O.pathname,search:g.a.stringify(Object(m.a)(Object(m.a)({},x),{},{info:mi.overview}))})}),[e.type]);var E=function(){var t=e.type,a=t===xu||t===yu?[].concat(Object(re.a)(Ni),Object(re.a)(wi)):Ni;return Object(da.jsx)("div",{className:hc("tabs"),children:Object(da.jsx)(Mi.a,{items:a,activeTab:N,wrapTo:function(e,t){var a=e.id,n=qr(Gr.tenant,void 0,Object(m.a)(Object(m.a)({},x),{},Object(D.a)({name:y},Oi.info,a)));return Object(da.jsx)(Jr.a,{to:n,className:hc("tab"),children:t},a)},allowNotSelected:!0})})},I=function(){switch(N){case mi.acl:return Object(da.jsx)(Ks,{additionalTenantInfo:e.additionalTenantInfo});case mi.schema:return f?M():Object(da.jsx)("div",{className:hc("schema"),children:Object(da.jsx)(rc,{data:T})});default:return function(){var e=(null===S||void 0===S?void 0:S.CreateStep)/1e3,t="Unknown";return e&&(t=new Date(e).toUTCString()),Object(da.jsx)("div",{className:hc("overview-wrapper"),children:Object(da.jsx)(Ri,{info:[{label:"Create time",value:t}]})})}()}},M=function(){return Object(da.jsx)("div",{className:hc("loader"),children:Object(da.jsx)(Yr.a,{size:"m"})})},P=function(){l(oc.triggerCollapse)},R=function(){l(oc.triggerExpand)},H=function(){l(oc.clear)},A=function(){i(_a(!0)),C.push(qr(Gr.tenant,void 0,Object(m.a)(Object(m.a)({},x),{},Object(D.a)({},Oi.general,fi.query))))},F=function(){var t=e.type,a=t===xu||t===yu;return Object(da.jsxs)(r.a.Fragment,{children:[a&&Object(da.jsx)(Wr.a,{view:"flat-secondary",onClick:A,title:"Show preview",children:Object(da.jsx)(xi,{name:"tablePreview",viewBox:"0 0 16 16",height:16,width:16})}),Object(da.jsx)(sc,{text:p,title:"Copy schema path"}),Object(da.jsx)(uc,{onCollapse:P,onExpand:R,isCollapsed:c.collapsed,initialDirection:"bottom"})]})},V=function(){var t,a=e.type,n=b.Status,r=b.Reason;return!a&&n&&r&&(t="".concat(n,": ").concat(r)),e.type?Object(da.jsx)("div",{className:hc("entity-type"),children:a}):Object(da.jsx)("div",{className:hc("entity-type",{error:!0}),children:Object(da.jsx)(ms.a,{content:t,offset:{left:0}})})};return y?Object(da.jsxs)("div",{className:hc(),children:[Object(da.jsx)("div",{className:hc({hidden:e.isCollapsed}),children:Object(da.jsxs)(Ns,{direction:"vertical",defaultSizePaneKey:"default-size-tenant-summary-pane",onSplitStartDrugAdditional:H,triggerCollapse:c.triggerCollapse,triggerExpand:c.triggerExpand,minSize:[200,52],collapsedSizes:[100,0],children:[p?Object(da.jsxs)("div",{children:[Object(da.jsx)("div",{className:hc("tree-header"),children:Object(da.jsx)("div",{className:hc("tree-title"),children:"Navigation"})}),Object(da.jsx)("div",{className:hc("tree"),children:w&&Object(da.jsx)(Qs,{fullPath:y,data:w,isRoot:!0})})]}):M(),Object(da.jsxs)("div",{className:hc("info"),children:[Object(da.jsxs)("div",{className:hc("sticky-top"),children:[Object(da.jsxs)("div",{className:hc("info-header"),children:[Object(da.jsxs)("div",{className:hc("info-title"),children:[V(),Object(da.jsx)("div",{className:hc("path-name"),children:p})]}),Object(da.jsx)("div",{className:hc("info-controls"),children:F()})]}),E()]}),I()]})]})}),Object(da.jsx)(uc,{onCollapse:e.onCollapseSummary,onExpand:e.onExpandSummary,isCollapsed:e.isCollapsed,initialDirection:"left",className:hc("action-button")})]}):null},vc=a(974),bc=a(297),fc=a.n(bc),mc=a(980),Oc=(a(801),b()("kv-save-query"));var gc=function(e){var t=e.savedQueries,a=e.onSaveQuery,i=e.saveButtonDisabled,o=Object(u.d)((function(e){return e.singleClusterMode})),s=Object(n.useState)(!1),c=Object(Oe.a)(s,2),l=c[0],d=c[1],h=Object(n.useState)(!1),p=Object(Oe.a)(h,2),j=p[0],v=p[1],b=Object(n.useState)(""),f=Object(Oe.a)(b,2),m=f[0],O=f[1],g=Object(n.useState)(null),C=Object(Oe.a)(g,2),x=C[0],y=C[1],N=Object(u.d)((function(e){return e.saveQuery})),w=Object(u.c)(),S=Object(n.useRef)(),k=function(){d(!0),w(Nr(null))},T=function(){d(!1),O(""),y(null)},E=function(e){O(e),y(P(e))},I=function(){v(!0)},M=function(){v(!1)},P=function(e){return L.a.some(t,(function(t){return t.name.toLowerCase()===e.trim().toLowerCase()}))?"This name already exists":null},D=function(){m&&!x&&a(m),T()},R=function(){a(N),w(Nr(null))},H=function(e){return Object(da.jsx)(Wr.a,{onClick:e,disabled:i,children:"Save query"})};return Object(da.jsxs)(r.a.Fragment,{children:[N?function(){var e=[{action:k,text:"Save as new"},{action:R,text:"Edit existing"}];return Object(da.jsx)(Rs.a,{items:e,switcher:H(),popupPlacement:["top"]})}():H(k),l&&Object(da.jsxs)(mc.a,{open:l,hasCloseButton:!1,size:"s",onClose:T,children:[Object(da.jsx)(mc.a.Header,{caption:"Save query"}),Object(da.jsxs)(mc.a.Body,{className:Oc("dialog-body"),children:[Object(da.jsx)("span",{className:Oc("field-title","required"),children:"Query name"}),Object(da.jsxs)("div",{className:Oc("control-wrapper"),children:[Object(da.jsx)(Kr.a,{placeholder:"Enter query name",text:m,onUpdate:E,hasClear:!0}),Object(da.jsx)("span",{className:Oc("error"),children:x})]})]}),Object(da.jsx)(mc.a.Footer,{textButtonApply:"Save",textButtonCancel:"Cancel",onClickButtonCancel:T,onClickButtonApply:D,propsButtonApply:{disabled:!m||Boolean(x)}})]}),o&&Object(da.jsxs)(r.a.Fragment,{children:[Object(da.jsx)(Oo.a,{className:Oc("embedded-popup"),anchorRef:S,placement:["top"],open:j,hasArrow:!0,children:"Please be aware: after cookies delete your saved queries will be lost."}),Object(da.jsx)("div",{className:Oc("embedded-tooltip"),ref:S,onMouseEnter:I,onMouseLeave:M,children:Object(da.jsx)(xi,{name:"question",height:18,width:18,viewBox:"0 0 24 24"})})]})]})},Cc=(a(809),b()("kv-truncated-query"));var xc=function(e){var t=e.value,a=e.maxQueryHeight,n=t.split("\n");if(n.length>a){var i=n.slice(0,a).join("\n");return Object(da.jsxs)(r.a.Fragment,{children:[Object(da.jsx)("span",{className:Cc(),children:i}),Object(da.jsx)("span",{className:Cc({color:"secondary"}),children:"\n...\nThe request was truncated. Click on the line to show the full query on the query tab"})]})}return t},yc=(a(810),b()("saved-queries"));var Nc=function(e){var t=e.savedQueries,a=e.changeUserInput,i=e.onDeleteQuery,o=Object(n.useState)(!1),s=Object(Oe.a)(o,2),c=s[0],l=s[1],d=Object(n.useState)(!1),h=Object(Oe.a)(d,2),p=h[0],j=h[1],v=Object(n.useState)(null),b=Object(Oe.a)(v,2),f=b[0],m=b[1],O=Object(n.useState)(null),g=Object(Oe.a)(O,2),C=g[0],x=g[1],y=Object(u.c)(),N=Object(n.useRef)(null),w=function(){l(!1)},S=function(e){return function(t){t.stopPropagation(),j(!0),m(e)}},k=function(){j(!1),m(null)},T=function(e){e.stopPropagation(),k()},E=function(e){e.stopPropagation(),i(f),k(),x(f)};return Object(da.jsxs)(r.a.Fragment,{children:[Object(da.jsx)(Wr.a,{ref:N,onClick:function(){l(!0)},children:"Saved queries"}),c&&Object(da.jsx)(Oo.a,{className:yc("popup-wrapper"),anchorRef:N,open:c,placement:["bottom-end"],onClose:w,children:Object(da.jsxs)("div",{className:yc(),children:[Object(da.jsxs)("div",{className:yc("saved-queries-row",{header:!0}),children:[Object(da.jsx)("div",{className:yc("query-name"),children:"Name"}),Object(da.jsx)("div",{className:yc("query-body",{header:!0}),children:Object(da.jsx)("span",{children:"QueryText"})})]}),Object(da.jsx)("div",{children:L.a.sortBy(t,(function(e){return e.name.toLowerCase()})).map((function(e){return Object(da.jsxs)("div",{className:yc("saved-queries-row"),onClick:(t=e.body,n=e.name,function(){a({input:t}),y(Nr(n)),l(!1)}),children:[Object(da.jsx)("div",{className:yc("query-name"),children:e.name}),Object(da.jsx)("div",{className:yc("query-body"),children:Object(da.jsx)(xc,{value:e.body,maxQueryHeight:3})}),Object(da.jsxs)("div",{className:yc("query-controls"),children:[Object(da.jsx)(xi,{name:"pencil",viewBox:"0 0 24 24",height:14,width:14,className:yc("control-button")}),Object(da.jsx)(xi,{name:"trash",viewBox:"0 0 24 24",height:14,width:14,className:yc("control-button"),onClick:S(e.name)})]})]},e.name);var t,n}))})]})},C),p&&f&&Object(da.jsxs)(mc.a,{open:p,hasCloseButton:!1,size:"s",onClose:T,children:[Object(da.jsx)(mc.a.Header,{caption:"Delete query"}),Object(da.jsxs)(mc.a.Body,{className:yc("dialog-body"),children:["Are you sure you want to delete query",Object(da.jsx)("span",{className:yc("dialog-query-name"),children:" ".concat(f,"?")})]}),Object(da.jsx)(mc.a.Footer,{textButtonApply:"Delete",textButtonCancel:"Cancel",onClickButtonCancel:T,onClickButtonApply:E})]})]})},wc=(a(811),b()("kv-divider"));var Sc=function(){return Object(da.jsx)("div",{className:wc()})},kc=(a(812),b()("kv-fullscreen")),Tc=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).modalRoot=null,n.el=void 0,n.el=document.createElement("div"),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.modalRoot=document.getElementById("fullscreen-root"),this.modalRoot&&this.modalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.modalRoot&&this.modalRoot.removeChild(this.el)}},{key:"render",value:function(){return o.a.createPortal(this.props.children,this.el)}}]),a}(r.a.Component);var Lc=function(e){var t=Object(u.c)(),a=function(e){"Escape"===e.key&&r()};Object(n.useEffect)((function(){return document.addEventListener("keydown",a,!1),function(){document.removeEventListener("keydown",a,!1)}}),[]);var r=function(){t(Tr())};return Object(da.jsx)(Tc,{children:Object(da.jsxs)("div",{className:kc(null,e.className),children:[Object(da.jsx)(Wr.a,{onClick:r,view:"raised",className:kc("close-button"),children:Object(da.jsx)(xi,{name:"disableFullscreen",viewBox:"0 0 16 16 ",width:16,height:16})}),e.children]})})},Ec=(a(813),a(814),b()("kv-query-execution-status"));var Ic=function(e){var t=e.className,a=e.hasError;return void 0===a?null:Object(da.jsxs)("div",{className:Ec(null,t),children:[Object(da.jsx)(xi,{name:a?"failure":"success",viewBox:a?"0 0 512 512":"0 0 16 16",width:16,height:16,className:Ec("result-status-icon",{error:a})}),a?"Failed":"Completed"]})};var Mc=function(e){var t=e.disabled,a=Object(u.c)();return Object(da.jsx)(Wr.a,{onClick:function(){a({type:Sr})},view:"flat-secondary",disabled:t,title:"Fullscreen",children:Object(da.jsx)(xi,{name:"enableFullscreen",viewBox:"0 0 16 16",height:16,width:16})})},Pc=b()("kv-query-result"),Dc="result",Rc="stats",Hc=[{value:Dc,content:"Result"},{value:Rc,content:"Stats"}];var Ac=function(e){var t=Object(n.useState)(Dc),a=Object(Oe.a)(t,2),i=a[0],o=a[1],s=Object(u.d)((function(e){return e.fullscreen})),c=Object(u.c)();return Object(n.useEffect)((function(){return function(){c(Tr())}}),[]),Object(da.jsxs)(r.a.Fragment,{children:[Object(da.jsxs)("div",{className:Pc("controls"),children:[Object(da.jsxs)("div",{className:Pc("controls-right"),children:[Object(da.jsx)(Ic,{hasError:Boolean(e.error)}),e.stats&&!e.error&&Object(da.jsxs)(r.a.Fragment,{children:[Object(da.jsx)(Sc,{}),Object(da.jsx)(ji.a,{options:Hc,value:i,onUpdate:function(e){o(e)}})]})]}),Object(da.jsxs)("div",{className:Pc("controls-left"),children:[function(){var t=e.textResults,a=e.copyDisabled;return Object(da.jsx)(sc,{text:t,title:"Copy results",toastText:"Results were copied to clipboard successfully",disabled:a})}(),Object(da.jsx)(Mc,{disabled:Boolean(e.error)}),Object(da.jsx)(uc,{onCollapse:e.onCollapseResults,onExpand:e.onExpandResults,isCollapsed:e.isResultsCollapsed,initialDirection:"bottom"})]})]}),Object(da.jsxs)("div",{className:Pc("result"),children:[i===Dc&&function(){var t=e.result;return Object(da.jsxs)(r.a.Fragment,{children:[t,s&&Object(da.jsx)(Lc,{children:Object(da.jsx)("div",{className:Pc("result",{fullscreen:!0}),children:t})})]})}(),i===Rc&&function(){var t=Object(da.jsx)(la.a,{data:e.stats,isExpanded:function(){return!0},className:Pc("inspector"),searchOptions:{debounceTime:300}});return Object(da.jsxs)(r.a.Fragment,{children:[t,s&&Object(da.jsx)(Lc,{children:Object(da.jsx)("div",{className:Pc("inspector",{fullscreen:!0}),children:t})})]})}()]})]})},Fc=a(356),Vc="s-expression";var _c=a(240),Uc=(a(424),a(843),b()("kv-query-explain")),zc={success:"rgba(59,201,53,0.75)",error:"#bf3230",warning:"#cc6810",mute:"rgba(255,255,255,0.15)",stroke:"rgba(255,255,255,0.17)",fill:"#313037",nodeFill:"#3b3a41",nodeShadow:"rgba(0,0,0,0.2)",titleColor:"rgba(255,255,255,0.7)",textColor:"rgba(255,255,255,0.55)",buttonBorderColor:"rgba(255,255,255,0.07)"},Zc={automaticLayout:!0,selectOnLineNumbers:!0,readOnly:!0,minimap:{enabled:!1},wrappingIndent:"indent"},Bc="schema",Qc="json",qc="ast",Gc=[{value:Bc,content:"Schema"},{value:Qc,content:"JSON"},{value:qc,content:"AST"}];function Wc(e){var t;return Object(n.useEffect)((function(){var a=e.data,n=e.opts,r=e.shapes,i=e.version;return i===Sn.v2?(t=Object(_c.c)("graphRoot",e.data,n,r)).render():i===Sn.v1&&(t=Object(_c.b)("graphRoot",a,n)).renderCompactTopology(),function(){t=void 0}}),[]),Object(n.useEffect)((function(){var a=document.getElementById("graphRoot");if(!a)throw new Error("Can't find element with id #graphRoot");a.innerHTML="";var n=e.data,r=e.opts;(t=Object(_c.b)("graphRoot",n,r)).renderCompactTopology()}),[e.opts.colors]),Object(n.useEffect)((function(){var a;null===(a=t)||void 0===a||a.updateData(e.data)}),[e.data]),Object(da.jsx)("div",{id:"graphRoot",style:{height:"100vh"}})}var Kc=function(e){var t=Object(u.c)(),a=Object(n.useState)(Bc),i=Object(Oe.a)(a,2),o=i[0],s=i[1],c=Object(u.d)((function(e){return e.fullscreen}));Object(n.useEffect)((function(){return function(){t(Tr())}}),[]);var l=e.explain,d=void 0===l?{}:l,h=e.theme,p=d.links,j=d.nodes,v=d.version,b=d.graphDepth;Object(n.useEffect)((function(){e.ast||o!==qc||e.astQuery()}),[o]);var f=function(){var t=e.explain;return t?t.nodes.length?null:"There is no explanation for the request":"Explain of query is empty"};return Object(da.jsxs)(r.a.Fragment,{children:[Object(da.jsx)("div",{className:Uc("controls"),children:!e.loading&&Object(da.jsxs)(r.a.Fragment,{children:[Object(da.jsxs)("div",{className:Uc("controls-right"),children:[Object(da.jsx)(Ic,{hasError:Boolean(e.error)}),!e.error&&Object(da.jsxs)(r.a.Fragment,{children:[Object(da.jsx)(Sc,{}),Object(da.jsx)(ji.a,{options:Gc,value:o,onUpdate:function(e){s(e)}})]})]}),Object(da.jsxs)("div",{className:Uc("controls-left"),children:[Object(da.jsx)(Mc,{disabled:Boolean(e.error)}),Object(da.jsx)(uc,{onCollapse:e.onCollapseResults,onExpand:e.onExpandResults,isCollapsed:e.isResultsCollapsed,initialDirection:"bottom"})]})]})}),Object(da.jsx)("div",{className:Uc("result"),children:function(){var t=e.error,a=e.loading,n=e.loadingAst;if(a||n)return Object(da.jsx)("div",{className:Uc("loader"),children:Object(da.jsx)(Yr.a,{size:"m"})});if(t)return t.data?t.data:t;switch(o){case Qc:return function(){var t,a=Object(da.jsx)(la.a,{data:null===(t=e.explain)||void 0===t?void 0:t.pristine,isExpanded:function(){return!0},className:Uc("inspector"),searchOptions:{debounceTime:300}});return Object(da.jsxs)(r.a.Fragment,{children:[a,f(),c&&Object(da.jsx)(Lc,{children:Object(da.jsx)("div",{className:Uc("inspector",{fullscreen:!0}),children:a})})]})}();case qc:return function(){if(!e.ast)return"There is no AST explanation for the request";var t=Object(da.jsx)("div",{className:Uc("ast"),children:Object(da.jsx)(fc.a,{language:Vc,value:e.ast,options:Zc,wrappingIndent:"indent"})});return Object(da.jsxs)(r.a.Fragment,{children:[t,c&&Object(da.jsx)(Lc,{children:t})]})}();case Bc:return function(){var e="".concat(Math.max(100*b,200),"px"),t=p&&j&&j.length?Object(da.jsx)("div",{className:Uc("explain-canvas-container",{hidden:o!==Bc}),style:{height:c?"100%":e,minHeight:e,width:"100%"},children:Object(da.jsx)(Wc,{version:v,data:{links:p,nodes:j},opts:{renderNodeTitle:Pe,textOverflow:_c.a.Normal,colors:"dark"===h?zc:{},initialZoomFitsCanvas:!0},shapes:{node:_c.d}})}):null;return Object(da.jsxs)(r.a.Fragment,{children:[!c&&t,c&&Object(da.jsx)(Lc,{children:t}),f()]})}();default:return null}}()})]})},Yc=(a(844),a(845),b()("kv-queries-history"));var Jc=function(e){var t,a=Object(n.useState)(!1),i=Object(Oe.a)(a,2),o=i[0],s=i[1],c=null!==(t=Object(u.d)((function(e){var t;return null===(t=e.executeQuery.history)||void 0===t?void 0:t.queries})))&&void 0!==t?t:[],l=Object(n.useRef)(null),d=function(){s(!1)},h=function(t){var a=e.changeUserInput;return function(){a({input:t}),d()}};return Object(da.jsxs)(r.a.Fragment,{children:[Object(da.jsx)(Wr.a,{ref:l,onClick:function(){s(!0)},children:"Query history"}),o&&function(){var e=[].concat(c).reverse();return Object(da.jsx)(Oo.a,{className:Yc("popup-wrapper"),anchorRef:l,open:o,placement:["bottom-end"],onClose:d,children:Object(da.jsx)("div",{className:Yc(),children:0===e.length?Object(da.jsx)("div",{className:Yc("empty"),children:"History is empty"}):Object(da.jsxs)(r.a.Fragment,{children:[Object(da.jsx)("div",{className:Yc("saved-queries-row",{header:!0}),children:Object(da.jsx)("div",{className:Yc("query-body",{header:!0}),children:Object(da.jsx)("span",{children:"QueryText"})})}),Object(da.jsx)("div",{children:e.map((function(e,t){return Object(da.jsx)("div",{className:Yc("saved-queries-row"),onClick:h(e),children:Object(da.jsx)("div",{className:Yc("query-body"),children:Object(da.jsx)(xc,{value:e,maxQueryHeight:3})})},t)}))})]})})})}()]})},Xc=(a(846),Object(m.a)(Object(m.a)({},ae),{},{stripedRows:!0})),$c=b()("kv-preview"),el=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).sendQueryForPreview=function(){var t=e.props,a=t.sendQuery,n=t.database,r=t.table,i=t.type;i!==xu&&i!==yu||a({query:"--!syntax_v1\nselect * from `".concat(r,"` limit 32"),database:n,action:"execute-scan",path:r})},e.onClosePreview=function(){e.props.setShowPreview(!1)},e.renderHeader=function(){var t=e.props,a=t.currentSchemaPath,n=t.error;return Object(da.jsxs)("div",{className:$c("header"),children:[Object(da.jsxs)("div",{className:$c("title"),children:["Preview ",Object(da.jsx)("div",{className:$c("table-name"),children:a})]}),Object(da.jsxs)("div",{className:$c("controls-left"),children:[Object(da.jsx)(Mc,{disabled:Boolean(n)}),Object(da.jsx)(Wr.a,{view:"flat-secondary",onClick:e.onClosePreview,title:"Close preview",children:Object(da.jsx)(xi,{name:"close",viewBox:"0 0 16 16",width:16,height:16})})]})]})},e.renderTable=function(){var t=e.props,a=t.data,n=t.showTooltip,r=[];a&&a.length>0&&(r=Object.keys(a[0]).map((function(e){return{name:e,render:function(e){var t=e.value;return Object(da.jsx)("span",{className:$c("cell"),onClick:function(e){return n(e.target,t,"cell")},children:t})}}})));var i=Ae(a);return Object(da.jsx)(R.a,{columns:r,data:i,settings:Xc})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.sendQueryForPreview(),this.autofetcher=new bi,this.props.autorefresh&&(this.autofetcher.start(),this.autofetcher.fetch((function(){return e.sendQueryForPreview()})))}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.props,n=a.table,r=a.hideTooltip,i=a.autorefresh,o=a.setQueryOptions;e.table!==n&&(this.sendQueryForPreview(),r(),o({wasLoaded:!1,data:void 0})),i&&!e.autorefresh&&(this.sendQueryForPreview(),this.autofetcher.start(),this.autofetcher.fetch((function(){return t.sendQueryForPreview()}))),!i&&e.autorefresh&&this.autofetcher.stop()}},{key:"componentWillUnmount",value:function(){this.autofetcher.stop()}},{key:"render",value:function(){var e,t,a=this.props,n=a.error,r=a.loading,i=a.data,o=void 0===i?[]:i,s=a.type,c=a.wasLoaded,l=a.isFullscreen;if(s!==xu&&s!==yu&&(t=Object(da.jsx)("div",{className:$c("message-container"),children:"Not available"})),r&&!c)return Object(da.jsx)("div",{className:$c("loader-container"),children:Object(da.jsx)(Yr.a,{size:"m"})});n&&(t=Object(da.jsx)("div",{className:$c("message-container"),children:n.data||n})),r||0!==o.length||(t=Object(da.jsx)("div",{className:$c("message-container"),children:"Table is empty"}));var d=null!==(e=t)&&void 0!==e?e:Object(da.jsx)("div",{className:$c("result"),children:this.renderTable()});return Object(da.jsxs)("div",{className:$c(),children:[this.renderHeader(),l?Object(da.jsx)(Lc,{children:d}):d]})}}]),a}(r.a.Component),tl={sendQuery:function(e){var t=e.query,a=e.database,n=e.action;return fe({request:window.api.sendQuery(t,a,n),actions:An,dataHandler:function(e){if(!Array.isArray(e))try{return JSON.parse(e)}catch(t){return[]}return e}})},showTooltip:Sa,hideTooltip:wa,setQueryOptions:function(e){return{type:Fn,data:e}},setShowPreview:_a},al=Object(u.b)((function(e){var t=e.preview,a=t.data,n=void 0===a?[]:a,r=t.loading,i=t.error,o=t.wasLoaded,s=e.schema;return{data:n,loading:r,error:i,autorefresh:s.autorefresh,wasLoaded:o,currentSchemaPath:s.currentSchemaPath,isFullscreen:e.fullscreen}}),tl)(el),nl=[{value:hn,content:"Run Script"},{value:pn,content:"Run Scan"}],rl=Object(m.a)(Object(m.a)({},ae),{},{sortable:!1,dynamicItemSizeGetter:function(){return 40},dynamicRenderType:"variable",stripedRows:!0}),il={automaticLayout:!0,selectOnLineNumbers:!0,minimap:{enabled:!1}},ol="navigation",sl="execute",cl="explain",ll=b()("query-editor"),dl={triggerExpand:!1,triggerCollapse:!1,collapsed:!0};var ul={sendQuery:function(e){var t=e.query,a=e.database,n=e.action;return fe({request:window.api.sendQuery(t,a,n,"profile"),actions:an,dataHandler:function(e){var t,a=null!==(t=e.result)&&void 0!==t?t:e;if(a&&"string"===typeof a)throw"Unexpected token in JSON.";return e}})},changeUserInput:On,saveQueryToHistory:function(e){return{type:rn,data:e}},goToPreviousQuery:function(){return{type:on}},goToNextQuery:function(){return{type:sn}},showTooltip:Sa,getExplainQuery:function(e){var t=e.query,a=e.database;return fe({request:window.api.getExplainQuery(t,a),actions:yn,dataHandler:function(e){var t,a=[],n=[],r=e.tables,i=e.meta,o=e.Plan;if(-1===kn.indexOf(i.version))return{pristine:e,version:i.version};if(i.version===Sn.v2){var s=function(e){var t=[],a=[],n=0,r=e,i={name:String(r.PlanNodeId),data:{id:r.PlanNodeId,type:"stage",name:r["Node Type"]}};return t.push(i),function e(){var r=arguments.length>1?arguments[1]:void 0,i=(arguments.length>2?arguments[2]:void 0)+1;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(o){var s,c={name:String(o.PlanNodeId),data:{id:o.PlanNodeId,type:"Connection"===o.PlanNodeType?"connection":"stage",name:o["Node Type"],operators:null===(s=o.Operators)||void 0===s?void 0:s.map((function(e){return e.Name})),stats:xn(o),tables:o.Tables}};t.push(c),a.push({from:r,to:c.name}),n=Math.max(n,i),e(o.Plans,c.name,i)}))}(r.Plans,i.name,0),{nodes:t,links:a,graphDepth:n}}(o);a=s.links,n=s.nodes,t=s.graphDepth}else t=r.length,L.a.forEach(r,(function(e){n.push({name:e.name});var t={},r=e.reads,i=void 0===r?[]:r,o=e.writes,s=void 0===o?[]:o,c=null;L.a.forEach([].concat(Object(re.a)(i),Object(re.a)(s)),(function(r){t[r.type]?t[r.type]=t[r.type]+1:t[r.type]=1;var i=De(e.name,r.type,t[r.type]),o=e.name;c&&(o=r.type===c.type?De(e.name,c.type,t[c.type]-1):De(e.name,c.type,t[c.type])),a.push({from:o,to:i}),n.push({name:i,meta:He(r),id:i}),c=r}))}));return{links:a,nodes:n,tables:r,version:i.version,pristine:e,graphDepth:t}}})},getExplainQueryAst:function(e){var t=e.query,a=e.database;return fe({request:window.api.getExplainQueryAst(t,a),actions:Nn})},setSettingValue:Ct,selectRunAction:function(e){return{type:cn,data:e}},setShowPreview:_a,setMonacoHotKey:function(e){return{type:ln,data:e}}},hl=Object(u.b)((function(e){var t;return{executeQuery:e.executeQuery,explainQuery:e.explainQuery,savedQueries:ct(xt(e,J)),showPreview:e.schema.showPreview,currentSchema:e.schema.currentSchema,monacoHotKey:null===(t=e.executeQuery)||void 0===t?void 0:t.monacoHotKey}}),ul)((function(e){var t=Object(n.useState)(sl),a=Object(Oe.a)(t,2),r=a[0],i=a[1],o=Object(n.useReducer)(lc("default-is-query-result-collapsed"),dl),s=Object(Oe.a)(o,2),c=s[0],l=s[1],d=Object(n.useRef)(null);Object(n.useEffect)((function(){return k(),window.addEventListener("resize",w),window.addEventListener("storage",S),function(){window.removeEventListener("resize",w),window.removeEventListener("storage",S),window.onbeforeunload=void 0,e.setMonacoHotKey(null)}}),[]),Object(n.useEffect)((function(){l(oc.triggerCollapse)}),[]),Object(n.useEffect)((function(){e.showPreview&&c.collapsed&&l(oc.triggerExpand)}),[e.showPreview,c.collapsed]),Object(n.useEffect)((function(){e.explainQuery.data;var t,a=e.executeQuery,n=a.input,r=a.history,i=!!n&&n!==r.queries[(null===(t=r.queries)||void 0===t?void 0:t.length)-1];window.onbeforeunload=i?u:void 0}),[e.executeQuery,e.executeQuery]),Object(n.useEffect)((function(){var t=e.monacoHotKey,a=e.setMonacoHotKey;if(null!==t)switch(a(null),t){case jn:return p();case vn:return m();case bn:return O();case fn:return j();default:return}}),[e.monacoHotKey]);var u=function(e){e.preventDefault(),e.returnValue=""},h=function(t){return function(){return e.setMonacoHotKey(t)}},p=function(){var t=e.path,a=e.executeQuery,n=a.input,r=a.history,o=a.runAction,s=e.sendQuery,c=e.saveQueryToHistory,d=e.setShowPreview;i(sl),s({query:n,database:t,action:o}),d(!1),n!==r.queries[r.currentIndex]&&c(n),l(oc.triggerExpand)},j=function(){var t=e.path,a=e.executeQuery.input,n=e.getExplainQuery,r=e.setShowPreview;i(cl),n({query:a,database:t}),r(!1),l(oc.triggerExpand)},v=function(){var t=e.path,a=e.executeQuery.input;(0,e.getExplainQueryAst)({query:a,database:t})},b=function(){l(oc.triggerCollapse)},f=function(){l(oc.triggerExpand)},m=function(){var t=e.changeUserInput,a=e.executeQuery.history,n=e.goToPreviousQuery,r=a.queries,i=a.currentIndex;g()||(n(),t({input:r[i-1]}))},O=function(){var t=e.changeUserInput,a=e.executeQuery.history,n=e.goToNextQuery,r=a.queries,i=a.currentIndex;C()||(n(),t({input:r[i+1]}))},g=function(){return e.executeQuery.history.currentIndex<=0},C=function(){var t=e.executeQuery.history,a=t.queries,n=t.currentIndex;return a.length-1===n},x=function(){var t=e.changeUserInput;return Object(da.jsx)("div",{className:ll("history-controls"),children:Object(da.jsx)(Jc,{changeUserInput:t})})},y=function(){var t=e.executeQuery,a=t.data,n=void 0===a?[]:a,r=t.error;return r?r.data||r:n.length>0?n:""},N=function(){var t=e.executeQuery.data;return null!==t&&void 0!==t&&t.length?[Object.keys(t[0])].concat(t).map((function(e){var t=[];for(var a in e)"object"===typeof e[a]||Array.isArray(e[a])?t.push(JSON.stringify(e[a])):t.push(e[a]);return t.join("\t")})).join("\n"):""},w=L.a.throttle((function(){k()}),100),S=function(t){t.key===J&&e.setSettingValue(J,t.newValue)},k=function(){d.current&&d.current.layout()},T=function(t){var a=e.executeQuery.input,n=e.savedQueries,r=void 0===n?[]:n,i=e.setSettingValue,o=r.findIndex((function(e){return e.name.toLowerCase()===t.toLowerCase()})),s=Object(re.a)(r),c={name:t,body:a};-1!==o?s[o]=c:s.push(c),i(J,JSON.stringify(s))},E=function(t){var a=e.savedQueries,n=void 0===a?[]:a,r=e.setSettingValue,i=n.filter((function(e){return e.name.toLowerCase()!==t.toLowerCase()}));r(J,JSON.stringify(i))},I=e.executeQuery,M=e.theme,P=function(){var t;switch(r){case sl:t=function(){var t=e.executeQuery,a=t.data,n=t.error,i=t.stats,o=e.showTooltip,s=y();if(!s.length&&!n)return null;var l=[];a&&a.length>0&&(l=Object.keys(a[0]).map((function(e){return{name:e,render:function(e){var t=e.value;return Object(da.jsx)("span",{className:ll("cell"),onClick:function(e){return o(e.target,t,"cell")},children:t})}}})));var d=Ae(a),u=l.length?Object(da.jsx)(R.a,{columns:l,data:d,settings:rl,theme:"yandex-cloud"}):Object(da.jsx)("div",{children:s}),h=N(),p=!h.length||r!==sl;return Object(da.jsx)(Ac,{result:u,stats:i,error:Boolean(n),textResults:h,copyDisabled:p,isResultsCollapsed:c.collapsed,onExpandResults:f,onCollapseResults:b})}();break;case cl:t=function(){var t=e.explainQuery,a=t.data,n=t.dataAst,r=t.error,i=t.loading,o=t.loadingAst,s=e.theme;return Object(da.jsx)(Kc,{error:r,explain:a,astQuery:v,ast:null===n||void 0===n?void 0:n.ast,loading:i,loadingAst:o,theme:s,isResultsCollapsed:c.collapsed,onExpandResults:f,onCollapseResults:b})}();break;default:t=null}return t}();return Object(da.jsx)("div",{className:ll(),children:Object(da.jsxs)(Ns,{direction:"vertical",defaultSizePaneKey:"default-size-result-pane",triggerCollapse:c.triggerCollapse,triggerExpand:c.triggerExpand,minSize:[0,52],collapsedSizes:[100,0],onSplitStartDrugAdditional:function(){l(oc.clear)},children:[Object(da.jsxs)("div",{className:ll("pane-wrapper"),children:[Object(da.jsx)("div",{className:ll("monaco-wrapper"),children:Object(da.jsx)("div",{className:ll("monaco"),children:Object(da.jsx)(fc.a,{language:"sql",value:I.input,options:il,onChange:function(t){e.changeUserInput({input:t})},editorDidMount:function(e,t){d.current=e,e.focus(),e.addAction({id:"run",label:"Run",keybindings:[t.KeyMod.CtrlCmd|t.KeyCode.Enter],precondition:null,keybindingContext:null,contextMenuGroupId:ol,contextMenuOrder:1,run:h(jn)}),e.addAction({id:"previous-query",label:"Previous query",keybindings:[t.KeyMod.CtrlCmd|t.KeyCode.UpArrow],contextMenuGroupId:ol,contextMenuOrder:2,run:h(vn)}),e.addAction({id:"next-query",label:"Next query",keybindings:[t.KeyMod.CtrlCmd|t.KeyCode.DownArrow],contextMenuGroupId:ol,contextMenuOrder:3,run:h(bn)}),e.addAction({id:"explain",label:"Explain",keybindings:[t.KeyMod.CtrlCmd|t.KeyCode.KEY_E],precondition:null,keybindingContext:null,contextMenuGroupId:ol,contextMenuOrder:4,run:h(fn)})},theme:"vs-".concat(M)})})}),function(){var t=e.executeQuery,a=e.explainQuery,n=e.savedQueries,r=t.runAction,i=!t.input||t.loading,o=L.a.find(nl,{value:r}).content;return Object(da.jsxs)("div",{className:ll("controls"),children:[Object(da.jsxs)("div",{className:ll("control-run"),children:[Object(da.jsxs)(Wr.a,{onClick:p,view:"action",pin:"round-brick",disabled:i,loading:t.loading,children:[Object(da.jsx)(xi,{name:"startPlay",viewBox:"0 0 16 16",width:16,height:16}),o]}),Object(da.jsx)(oo.a,{view:"action",options:nl,value:void 0,disabled:i,pin:"brick-round",onUpdate:function(t){e.selectRunAction(t[0])}})]}),Object(da.jsx)(Wr.a,{onClick:j,disabled:!t.input,loading:a.loading,children:"Explain"}),Object(da.jsx)(Sc,{}),Object(da.jsx)(gc,{savedQueries:n,onSaveQuery:T,saveButtonDisabled:i})]})}(),function(){var t=e.savedQueries,a=e.changeUserInput;return Object(da.jsxs)("div",{className:ll("upper-controls"),children:[x(),Object(da.jsx)(Nc,{savedQueries:t,changeUserInput:a,onDeleteQuery:E})]})}()]}),Object(da.jsx)("div",{className:ll("pane-wrapper"),children:e.showPreview?function(){var t,a,n=e.path,r=e.type,i=e.currentSchema,o=void 0===i?{}:i,s=null===o||void 0===o||null===(t=o.PathDescription)||void 0===t||null===(a=t.TableStats)||void 0===a?void 0:a.PartCount;return Object(da.jsx)(al,{database:n,table:o.Path,type:r,partCount:s})}():P})]})})})),pl=a(973),jl=(a(847),b()("kv-top-queries")),vl=[{name:"CPUTimeUs",width:140,sortAccessor:function(e){return Number(e.CPUTimeUs)}},{name:"QueryText",width:500,sortable:!1,render:function(e){var t=e.value;return Object(da.jsx)(xc,{value:t,maxQueryHeight:10})}}],bl=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).renderLoader=function(){return Object(da.jsx)("div",{className:jl("loader"),children:Object(da.jsx)(Yr.a,{size:"m"})})},e.onRowClick=function(t){var a=t.QueryText,n=e.props,r=n.changeUserInput,i=n.changeSchemaTab;r({input:a}),i(fi.query)},e.renderTable=function(){var t=e.props.data;return t?Object(da.jsx)(R.a,{columns:vl,data:t,settings:ae,onRowClick:e.onRowClick}):null},e.renderResult=function(){return Object(da.jsx)("div",{className:jl("table-wrapper"),children:Object(da.jsx)("div",{className:jl("table-content"),children:e.renderTable()})})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.autofetcher=new bi,this.getTopQueries(),this.props.autorefresh&&(this.autofetcher.start(),this.autofetcher.fetch((function(){return e.getTopQueries()})))}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.props,n=a.autorefresh,r=a.path,i=a.setQueryOptions;n&&!e.autorefresh&&(this.getTopQueries(),this.autofetcher.start(),this.autofetcher.fetch((function(){return t.getTopQueries()}))),!n&&e.autorefresh&&this.autofetcher.stop(),r!==e.path&&i({wasLoaded:!1,data:void 0})}},{key:"componentWillUnmount",value:function(){this.autofetcher.stop()}},{key:"getTopQueries",value:function(){var e=this.props.path,t=function(e){return"\n--!syntax_v1\n$last = (\n    SELECT\n        MAX(IntervalEnd)\n    FROM `".concat(e,"/.sys/top_queries_by_cpu_time_one_hour`\n);\nSELECT\n    CPUTime as CPUTimeUs,\n    QueryText\nFROM `").concat(e,"/.sys/top_queries_by_cpu_time_one_hour`\nWHERE IntervalEnd IN $last\n")}(e);this.props.sendQuery({query:t,database:e,action:"execute-scan"})}},{key:"render",value:function(){var e,t=this.props,a=t.error,n=t.loading,r=t.data,i=t.type,o=t.className,s=t.wasLoaded;return i===Nu||i===yu?e="No data":a&&!a.isCancelled?e=(a.data||a).slice(0,300):n||r||(e="No data"),n&&!s?this.renderLoader():Object(da.jsx)("div",{className:jl(),children:Object(da.jsx)("div",{className:jl("result",o),children:e||this.renderResult()})})}}]),a}(r.a.Component),fl={sendQuery:function(e){var t=e.query,a=e.database,n=e.action;return fe({request:window.api.sendQuery(t,a,n),actions:Jn,dataHandler:function(e){if(e&&"string"===typeof e)throw"Unexpected token in JSON.";return e}})},changeUserInput:On,setQueryOptions:function(e){return{type:Xn,data:e}}},ml=Object(u.b)((function(e){var t=e.executeTopQueries;return{loading:t.loading,data:t.data,error:t.error,wasLoaded:t.wasLoaded,autorefresh:e.schema.autorefresh}}),fl)(bl),Ol=a(990),gl=(a(848),b()("schema-info-viewer")),Cl=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).formatTabletMetricsValue=function(e,t){return"CPU"===e?Ie(t):"Memory"===e||"Storage"===e?xe(t):t},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.data;if(t){var a=t.PathDescription,n=void 0===a?{}:a,r=n.TableStats,i=void 0===r?{}:r,o=n.TabletMetrics,s=void 0===o?{}:o,c=i&&Object.keys(i).map((function(e){return{label:e,value:i[e].toString()}})),l=i&&Object.keys(s).map((function(t){return{label:t,value:e.formatTabletMetricsValue(t,s[t].toString())}})),d=Object.assign(c,l);d=Object.assign(d);var u=Object.keys(d).length;return Object(da.jsx)("div",{className:gl(),children:Object(da.jsx)("div",{className:gl("item"),children:u?Object(da.jsx)(Ri,{info:d}):Object(da.jsx)("div",{children:"Empty"})})})}return Object(da.jsx)("div",{className:"error",children:"no schema data"})}}]),a}(r.a.Component),xl=Cl;a(849);var yl=b()("kv-tenant-overview"),Nl=new bi;var wl=function(e){var t,a,r=Object(u.c)(),i=Object(u.d)((function(e){return e.schema})),o=i.currentSchema,s=void 0===o?{}:o,c=i.loading,l=i.wasLoaded,d=i.autorefresh,h=i.currentSchemaPath,p=Object(u.d)((function(e){return e.olapStats})).data,j=function(){var t=e.tenantName,a=e.type,n=h||t;r(Aa({path:n})),a===yu&&r(function(e){var t=e.path,a=void 0===t?"":t;return fe({request:window.api.sendQuery(br(a),a,"execute-scan"),actions:pr,dataHandler:function(e){if(e&&"string"===typeof e)throw"Unexpected token in JSON.";return e}})}({path:n}))};Object(n.useEffect)((function(){return j(),function(){Nl.stop()}}),[]),Object(n.useEffect)((function(){d&&(j(),Nl.stop(),Nl.start(),Nl.fetch((function(){return j()}))),!1===d&&Nl.stop()}),[d]);var v=(null===s||void 0===s||null===(t=s.PathDescription)||void 0===t?void 0:t.Table)||(null===s||void 0===s||null===(a=s.PathDescription)||void 0===a?void 0:a.OlapTableDescription),b=Object(n.useMemo)((function(){return e.type===yu?function(e,t){var a,n,r,i=e.ColumnShardCount,o=null===t||void 0===t?void 0:t.reduce((function(e,t){var a;return e+(null!==(a=parseInt(t.Bytes))&&void 0!==a?a:0)}),0),s=null===t||void 0===t?void 0:t.reduce((function(e,t){var a;return e+(null!==(a=parseInt(t.Rows))&&void 0!==a?a:0)}),0),c=null===t||void 0===t?void 0:t.reduce((function(e,t){return e.add(t.TabletId),e}),new Set);return{PathDescription:{TableStats:{ColumnShardCount:i,Bytes:null!==(a=null===o||void 0===o?void 0:o.toLocaleString("ru-RU",{useGrouping:!0}))&&void 0!==a?a:0,Rows:null!==(n=null===s||void 0===s?void 0:s.toLocaleString("ru-RU",{useGrouping:!0}))&&void 0!==n?n:0,Parts:null!==(r=null===c||void 0===c?void 0:c.size)&&void 0!==r?r:0}}}}(v,p):s}),[e.type,v,p,s]);return c&&!l?Object(da.jsx)("div",{className:yl("loader"),children:Object(da.jsx)(Yr.a,{size:"m"})}):Object(da.jsx)("div",{className:e.className,children:Object(da.jsx)(xl,{fullPath:s.Path,data:b})})},Sl=a(460),kl=a.n(Sl),Tl=a(461),Ll=a.n(Tl),El=a(462),Il=a.n(El),Ml=a(463),Pl=a.n(Ml),Dl=(a(901),["id","status","message","type"]),Rl=b()("issue"),Hl=function(e){var t=e.data,a=e.treeLevel,r=e.active,i=e.setInfoForActive,o=e.onClick,s=t.id,c=t.status,l=t.message,d=t.type,u=Object(S.a)(t,Dl);return Object(n.useEffect)((function(){r&&i(u)}),[r,i]),Object(da.jsxs)("div",{className:Rl({active:r}),onClick:o,children:[Object(da.jsx)("div",{className:Rl("field",{status:!0}),children:Object(da.jsx)(ai,{status:c,name:s})}),Object(da.jsx)("div",{className:Rl("field",{message:!0}),style:{marginLeft:25*-a+"px"},children:l}),Object(da.jsx)("div",{className:Rl("field",{type:!0}),children:d})]})},Al=b()("issue-viewer");function Fl(e){var t=e.issue,a=e.data;return L.a.filter(a,(function(e){return t.reason&&-1!==t.reason.indexOf(e.id)}))}var Vl={RED:0,ORANGE:1,YELLOW:2,BLUE:3,GREEN:4};function _l(e){var t=e.data,a=e.roots;return!a&&t&&(a=kl()([Ll()((function(e){return!L.a.find(t,(function(t){return t.reason&&-1!==t.reason.indexOf(e.id)}))})),Pl()((function(e){return e.id})),Il()((function(e){var t=e.status;return Vl[t]}))])(t)),L.a.map(a,(function(e){var a=_l({roots:Fl({issue:e,data:t}),data:t});return Object(m.a)(Object(m.a)({},e),{},{reasonsItems:a})}))}var Ul=function(e){var t=e.issues,a=Object(n.useState)([]),r=Object(Oe.a)(a,2),i=r[0],o=r[1],s=Object(n.useState)({}),c=Object(Oe.a)(s,2),l=c[0],d=c[1],u=Object(n.useState)(),h=Object(Oe.a)(u,2),p=h[0],j=h[1],v=Object(n.useState)(),b=Object(Oe.a)(v,2),f=b[0],O=b[1];Object(n.useEffect)((function(){if(!p&&i.length){var e=i[0].id;j(e)}}),[i]),Object(n.useEffect)((function(){var e=_l({data:t});o(e)}),[t]);var g=Object(n.useCallback)((function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return L.a.map(e,(function(e){var n=e.id,r=p===e.id,i=e[t].length;return Object(da.jsx)(Ls,{nodeLabel:Object(da.jsx)(Hl,{data:e,treeLevel:a,active:r,setInfoForActive:O,onClick:function(){return j(n)}}),className:Rl("wpapper",{active:r}),collapsed:"undefined"===typeof l[n]||l[n],hasArrow:i,onClick:function(){var e="undefined"!==typeof l[n]&&!l[n],t=Object(m.a)(Object(m.a)({},l),{},Object(D.a)({},n,e));d(t)},children:g(e[t],t,a+1)},n)}))}),[i,l,p]),C=Object(n.useCallback)((function(){return f?Object(da.jsxs)("div",{className:Al("info-panel"),children:[Object(da.jsxs)("h3",{children:["Additional info for ",p]}),Object(da.jsx)(la.a,{data:f,search:!1,isExpanded:function(){return!0},className:Al("inspector")})]}):null}),[i,f,p]);return Object(da.jsxs)("div",{className:Al(),children:[Object(da.jsx)("div",{className:Al("tree"),children:g(i,"reasonsItems")}),C()]})},zl=(a(902),b()("healthcheck")),Zl=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).fetchHealthcheck=function(){var t=e.props,a=t.tenant;(0,t.getHealthcheckInfo)(a)},e.renderPreview=function(){var t=e.props,a=t.data,n=t.showMoreHandler,r=a.self_check_result,i=r.toLowerCase(),o="GOOD"===r,s=o?"No issues have been found on this database.":"Several issues have been found on this database.";return Object(da.jsxs)("div",{children:[Object(da.jsxs)("div",{className:zl("status-wrapper"),children:[Object(da.jsx)("div",{className:zl("preview-title"),children:"Healthcheck"}),Object(da.jsx)("div",{className:zl("self-check-status-indicator",Object(D.a)({},i,!0)),children:o?"Ok":"Error"}),e.renderUpdateButton()]}),Object(da.jsxs)("div",{children:[s,!o&&Object(da.jsx)(Wr.a,{view:"flat-info",onClick:n,children:"Show details"})]})]})},e.renderOverviewStatus=function(){var t=e.props.data.self_check_result,a=t.toLowerCase();return Object(da.jsxs)("div",{className:zl("self-check-status"),children:[Object(da.jsx)("h3",{className:zl("self-check-status-label"),children:"Self check status"}),Object(da.jsx)("div",{className:zl("self-check-status-indicator",Object(D.a)({},a,!0))}),t,Object(da.jsx)("div",{className:zl("self-check-update"),children:e.renderUpdateButton()})]})},e.renderContent=function(){return e.props.preview?e.renderPreview():Object(da.jsxs)("div",{className:zl(),children:[e.renderOverviewStatus(),e.renderHealthcheckIssues()]})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.autofetcher=new bi,this.fetchHealthcheck(),this.props.autorefresh&&(this.autofetcher.start(),this.autofetcher.fetch((function(){return e.fetchHealthcheck()})))}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.props.autorefresh;a&&!e.autorefresh&&(this.fetchHealthcheck(),this.autofetcher.stop(),this.autofetcher.start(),this.autofetcher.fetch((function(){return t.fetchHealthcheck()}))),!a&&e.autorefresh&&this.autofetcher.stop()}},{key:"componentWillUnmount",value:function(){this.autofetcher.stop()}},{key:"renderLoader",value:function(){return Object(da.jsx)("div",{className:zl("loader"),children:Object(da.jsx)(Yr.a,{size:"m"})})}},{key:"renderUpdateButton",value:function(){var e=this.props.loading;return Object(da.jsx)(Wr.a,{size:"s",onClick:this.fetchHealthcheck,loading:e,children:"Update"})}},{key:"renderHealthcheckIssues",value:function(){var e=this.props,t=e.data,a=e.showTooltip,n=e.hideTooltip,r=t.issue_log;return r?Object(da.jsxs)("div",{className:zl("issues"),children:[Object(da.jsx)("h3",{children:"Issues"}),Object(da.jsx)(Ul,{issues:r,showTooltip:a,hideTooltip:n})]}):null}},{key:"render",value:function(){var e=this.props,t=e.error,a=e.data,n=e.loading,r=e.wasLoaded;return t?Object(da.jsx)("div",{children:t.statusText}):a&&a.self_check_result?this.renderContent():n&&!r?this.renderLoader():Object(da.jsx)("div",{className:"error",children:"no healthcheck data"})}}]),a}(r.a.Component);var Bl={getHealthcheckInfo:function(e){return fe({request:window.api.getHealthcheckInfo(e),actions:tr})},hideTooltip:wa,showTooltip:Sa},Ql=Object(u.b)((function(e){var t=e.healthcheckInfo;return{data:t.data,loading:t.loading,wasLoaded:t.wasLoaded,error:t.error,autorefresh:e.schema.autorefresh}}),Bl)(Zl),ql=(a(903),b()("tenant-overview")),Gl=function(e){if(e){var t=e.Name;return Object(da.jsxs)("div",{className:ql("tenant-name"),children:[Object(da.jsx)(ai,{status:e.State}),Object(da.jsx)("span",{children:t})]})}return Object(da.jsx)("div",{children:"no tenant data"})},Wl=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).renderLoader=function(){return Object(da.jsx)("div",{className:ql("loader"),children:Object(da.jsx)(Yr.a,{size:"m"})})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.tenantName,a=e.autorefresh,n=e.getTenantInfo;this.autofetcher=new bi,a&&(this.autofetcher.start(),this.autofetcher.fetch((function(){return n({path:t})})))}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.autorefresh,n=t.tenantName,r=t.getTenantInfo;a&&!e.autorefresh&&(r({path:n}),this.autofetcher.stop(),this.autofetcher.start(),this.autofetcher.fetch((function(){return r({path:n})}))),!a&&e.autorefresh&&this.autofetcher.stop()}},{key:"componentWillUnmount",value:function(){this.autofetcher.stop()}},{key:"render",value:function(){var e=this.props,t=e.tenant,a=e.hideTooltip,n=e.showTooltip,r=e.loading,i=t.Metrics,o=void 0===i?{}:i,s=t.PoolStats,c=t.StateStats,l=void 0===c?[]:c,d=t.MemoryUsed,u=t.CoresUsed,h=t.StorageGroups,p=t.StorageAllocatedSize,j=t.Type,v=t.SystemTablets,b=null!==d&&void 0!==d?d:o.Memory,f=b&&pt(b)||"no data",m=o.Storage&&pt(o.Storage)||"no data",O=null!==h&&void 0!==h?h:"no data",g=p&&pt(p)||"no data",C=o.Storage&&p?"".concat((100*o.Storage/p).toFixed(2),"%"):"no data",x=void 0!==u?1e6*Number(u):o.CPU,y=[{label:"Type",value:j},{label:"Memory",value:f},{label:"CPU",value:Ie(x)},{label:"Tablet storage",value:m},{label:"Storage groups",value:O},{label:"Blob storage",value:g},{label:"Storage efficiency",value:C}],N=l.map((function(e){return{label:V[e.VolatileState],value:e.Count}}));return r?this.renderLoader():Object(da.jsxs)("div",{className:ql(),children:[Object(da.jsx)("div",{className:ql("top-label"),children:"Database"}),Object(da.jsxs)("div",{className:ql("top"),children:[Gl(t),this.props.additionalTenantInfo&&this.props.additionalTenantInfo(this.props.tenant.Name,this.props.tenant.Type),Object(da.jsx)("div",{className:ql("system-tablets"),children:v&&v.map((function(e,t){return Object(da.jsx)(io,{onMouseEnter:n,onMouseLeave:a,tablet:e},t)}))})]}),Object(da.jsxs)("div",{className:ql("common-info"),children:[s?Object(da.jsxs)("div",{children:[Object(da.jsx)("div",{className:ql("section-title"),children:"Pools"}),Object(da.jsx)("div",{className:ql("section",{pools:!0}),children:s.map((function(e,t){return Object(da.jsx)(zi,{data:e},t)}))})]}):Object(da.jsx)("div",{className:"error",children:"no pools data"}),Object(da.jsx)(Ri,{title:"Metrics",className:ql("section",{metrics:!0}),info:y}),Object(da.jsx)("div",{className:ql("section"),children:Object(da.jsx)(Ri,{info:N,title:"Tablets"})})]})]})}}]),a}(r.a.Component);var Kl={hideTooltip:wa,showTooltip:Sa,getTenantInfo:Bt},Yl=Object(u.b)((function(e){var t=e.tenant,a=t.tenant,n=void 0===a?{}:a,r=t.loading,i=t.data;return{tenant:n,loading:r,status:(i=void 0===i?{}:i).status,autorefresh:e.schema.autorefresh}}),Kl)(Wl),Jl=(a(904),b()("kv-detailed-overview"));var Xl=function(e){var t=Object(n.useState)(!1),a=Object(Oe.a)(t,2),i=a[0],o=a[1],s=Object(u.d)((function(e){return e.schema})).currentSchemaPath,c=function(){o(!0)},l=function(){o(!1)};return Object(da.jsxs)(r.a.Fragment,{children:[function(){var t=e.type,a=e.tenantName,n=e.additionalTenantInfo,r=a===s;return Object(da.jsxs)("div",{className:Jl(),children:[Object(da.jsxs)("div",{className:Jl("section"),children:[!r&&Object(da.jsx)(wl,{type:t,tenantName:a}),r&&Object(da.jsx)(Yl,{tenantName:a,additionalTenantInfo:n})]}),r&&Object(da.jsx)("div",{className:Jl("section"),children:Object(da.jsx)(Ql,{tenant:a,preview:!0,showMoreHandler:c})})]})}(),Object(da.jsxs)(Ol.a,{open:i,onClose:l,className:Jl("modal"),children:[Object(da.jsx)(Ql,{tenant:e.tenantName}),Object(da.jsx)(Wr.a,{className:Jl("close-modal-button"),onClick:l,view:"flat-secondary",title:"Close",children:Object(da.jsx)(xi,{name:"close",viewBox:"0 0 16 16 ",height:20,width:20})})]})]})},$l=(a(905),b()("top-shards")),ed=b()("yc-link"),td="TabletId",ad="CPUCores",nd="Path",rd=new bi;var id={sendShardQuery:function(e){var t=e.database,a=e.path,n=void 0===a?"":a;return fe({request:window.api.sendQuery(sr(n),t,"execute-scan"),actions:rr,dataHandler:function(e){if(e&&"string"===typeof e)throw"Unexpected token in JSON.";return e}})},setCurrentSchemaPath:Fa,getSchema:Aa,setShardQueryOptions:function(e){return{type:ir,data:e}}},od=Object(u.b)((function(e){var t,a,n=e.shardsWorkload,r=n.loading,i=n.data,o=n.error,s=n.wasLoaded,c=e.schema.autorefresh;return{loading:r,data:i,error:o,currentSchemaPath:null===(t=e.schema)||void 0===t||null===(a=t.currentSchema)||void 0===a?void 0:a.Path,autorefresh:c,wasLoaded:s}}),id)((function(e){var t=e.sendShardQuery,a=e.currentSchemaPath,r=e.path,i=e.loading,o=e.data,s=e.error,c=e.setCurrentSchemaPath,l=e.getSchema,d=e.autorefresh,u=e.wasLoaded,h=e.setShardQueryOptions,p=e.type;Object(n.useEffect)((function(){return d?(rd.start(),rd.fetch((function(){return t({database:r,path:a})}))):rd.stop(),function(){rd.stop()}}),[d]),Object(n.useEffect)((function(){t({database:r,path:a}),h({wasLoaded:!1,data:void 0})}),[a]);var j=Object(n.useContext)(Co),v=Object(n.useMemo)((function(){return[{name:nd,render:function(e){var t,a=e.value;return Object(da.jsx)("span",{onClick:(t=a,function(){c(t),l({path:t}),j.go(0)}),className:ed({view:"normal"}),children:a})}},{name:ad,render:function(e){return function(e){return"".concat((100*e).toFixed(2),"%")}(e.value)},align:R.a.RIGHT},{name:td,render:function(e){var t=e.value;return Object(da.jsx)(ao,{to:qr(Gr.tablet,{id:t}),children:t})}}]}),[]);return i&&!u?Object(da.jsx)("div",{className:$l("loader"),children:Object(da.jsx)(Yr.a,{size:"m"})}):Object(da.jsx)("div",{className:$l(),children:p===Nu||p===yu?"No data":s?s.data||s:o&&o.length>0?Object(da.jsx)("div",{className:$l("table"),children:Object(da.jsx)(R.a,{columns:v,data:o,settings:ae,className:$l("table"),theme:"yandex-cloud"})}):o})})),sd=a(985),cd=(a(906),b()("node-network")),ld=function(e,t){var a=Math.floor(e/t*100);return 100===a?"green":a>=70?"yellow":a>=1?"red":"gray"},dd=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).node=r.a.createRef(),e._onNodeHover=function(){var t=e.props,a=t.onMouseEnter,n={nodeId:t.nodeId,connected:t.connected,capacity:t.capacity,rack:t.rack};a(e.node.current,n,"node")},e._onNodeLeave=function(){e.props.onMouseLeave()},e}return Object(c.a)(a,[{key:"render",value:function(){var e,t=this.props,a=t.nodeId,n=t.connected,r=t.capacity,i=t.status,o=t.onClick,s=t.showID,c=t.isBlurred;return Object(da.jsx)("div",{ref:this.node,className:cd((e={},Object(D.a)(e,(null===i||void 0===i?void 0:i.toLowerCase())||ld(n,r),!0),Object(D.a)(e,"id",s),Object(D.a)(e,"blur",c),e)),onMouseEnter:this._onNodeHover,onMouseLeave:this._onNodeLeave,onClick:function(){return o(a)},children:s&&a})}}]),a}(r.a.Component);dd.defaultProps={onMouseEnter:function(){},onMouseLeave:function(){},onClick:function(){}};var ud=dd,hd=(a(907),b()("network")),pd=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={howNodeSeeOtherNodesSortType:"",howOthersSeeNodeSortType:"",howNodeSeeOtherSearch:"",howOtherSeeNodeSearch:"",hoveredNode:void 0,clickedNode:void 0,highlightedNodes:[],showId:!1,showRacks:!1},e.onChange=function(t,a){e.setState(Object(D.a)({},t,a))},e.handleSortChange=function(t){e.setState({sort:t})},e.handleNodeClickWrap=function(t){return function(){var a=e.state.clickedNode,n=t.NodeId;a&&n===a.nodeId?e.setState({clickedNode:void 0}):e.setState({clickedNode:t,rightNodes:e.groupNodesByField(t.Peers,"NodeType")})}},e.groupNodesByField=function(e,t){return L.a.reduce(e,(function(e,a){return e[a[t]]?e[a[t]].push(a):e[a[t]]=[a],e}),{})},e.getConnectedNodesCount=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.Connected?e+1:e}),0)},e.renderNodes=function(t,a){var n=e.state,r=n.showId,i=n.showRacks,o=n.clickedNode,s=0,c=e.props,l=c.showTooltip,d=c.hideTooltip,u=c.filter,h=Object.keys(t).map((function(n,c){var h=e.groupNodesByField(t[n],"Rack");return Object(da.jsxs)("div",{className:hd("nodes-container",{right:a}),children:[Object(da.jsxs)("div",{className:hd("nodes-title"),children:[n," nodes"]}),Object(da.jsx)("div",{className:hd("nodes"),children:i?Object.keys(h).map((function(t,n){return Object(da.jsxs)("div",{className:hd("rack-column"),children:[Object(da.jsx)("div",{className:hd("rack-index"),children:"undefined"===t?"?":t}),h[t].map((function(t,n){var i,c;if(!a&&null!==t&&void 0!==t&&t.Peers&&(i=Object.keys(null===t||void 0===t?void 0:t.Peers).length,c=e.getConnectedNodesCount(null===t||void 0===t?void 0:t.Peers)),u===K&&i!==c||u===W||a)return s++,Object(da.jsx)(ud,{nodeId:t.NodeId,showID:r,rack:t.Rack,status:t.ConnectStatus,capacity:i,connected:c,onMouseEnter:l,onMouseLeave:d,onClick:!a&&e.handleNodeClickWrap(t),isBlurred:!a&&o&&o.NodeId!==t.NodeId},n)}))]},n)})):t[n].map((function(t,n){var i,c,h;a||(i=null===t||void 0===t||null===(h=t.Peers)||void 0===h?void 0:h.length,c=e.getConnectedNodesCount(null===t||void 0===t?void 0:t.Peers));if(u===K&&i!==c||u===W||a)return s++,Object(da.jsx)(ud,{nodeId:t.NodeId,showID:r,rack:t.Rack,status:t.ConnectStatus,capacity:(null===t||void 0===t?void 0:t.Peers)&&(null===t||void 0===t?void 0:t.Peers.length),connected:(null===t||void 0===t?void 0:t.Peers)&&e.getConnectedNodesCount(null===t||void 0===t?void 0:t.Peers),onMouseEnter:l,onMouseLeave:d,onClick:!a&&e.handleNodeClickWrap(t),isBlurred:!a&&o&&o.NodeId!==t.NodeId},n)}))})]},c)}));return u===K&&0===s?Object(da.jsx)("div",{className:"no-problem"}):h},e.renderContent=function(){var t=e.props,a=t.netWorkInfo,n=t.filter,r=t.changeFilter,i=e.state,o=i.showId,s=i.showRacks,c=i.rightNodes,l=e.state.clickedNode,d=a.Tenants&&a.Tenants[0].Nodes,u=e.groupNodesByField(d,"NodeType");return null!==d&&void 0!==d&&d.length?Object(da.jsx)("div",{className:hd(),children:Object(da.jsx)("div",{className:hd("inner"),children:Object(da.jsxs)("div",{className:hd("nodes-row"),children:[Object(da.jsxs)("div",{className:hd("left"),children:[Object(da.jsx)("div",{className:hd("controls-wrapper"),children:Object(da.jsxs)("div",{className:hd("controls"),children:[Object(da.jsx)(vi,{value:n,onChange:r,className:hd("problem-filter")}),Object(da.jsx)("div",{className:hd("checkbox-wrapper"),children:Object(da.jsx)(sd.a,{onUpdate:function(){return e.onChange("showId",!o)},checked:o,children:"ID"})}),Object(da.jsx)("div",{className:hd("checkbox-wrapper"),children:Object(da.jsx)(sd.a,{onUpdate:function(){return e.onChange("showRacks",!s)},checked:s,children:"Racks"})})]})}),e.renderNodes(u)]}),Object(da.jsx)("div",{className:hd("right"),children:l?Object(da.jsxs)("div",{children:[Object(da.jsxs)("div",{className:hd("label"),children:["Connectivity of node"," ",Object(da.jsx)(Jr.a,{className:hd("link"),to:qr(Gr.node,{id:l.NodeId,activeTab:"storage"}),children:l.NodeId})," ","to other nodes"]}),Object(da.jsx)("div",{className:hd("nodes-row"),children:e.renderNodes(c,!0)})]}):Object(da.jsxs)("div",{className:hd("placeholder"),children:[Object(da.jsx)("div",{className:hd("placeholder-img"),children:Object(da.jsx)(xi,{name:"network-placeholder",viewBox:"0 0 221 204",width:221,height:204})}),Object(da.jsx)("div",{className:hd("placeholder-text"),children:"Select node to see its connectivity to other nodes"})]})})]})})}):Object(da.jsx)("div",{className:"error",children:"no nodes data"})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.path,a=e.autorefresh,n=e.getNetworkInfo;this.autofetcher=new bi,a&&(this.autofetcher.start(),this.autofetcher.fetch((function(){return n(t)}))),n(t)}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.autorefresh,n=t.path;a&&!e.autorefresh&&(qa(n),this.autofetcher.start(),this.autofetcher.fetch((function(){return qa(n)}))),!a&&e.autorefresh&&this.autofetcher.stop()}},{key:"componentWillUnmount",value:function(){this.autofetcher.stop()}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.wasLoaded,r=e.error;return t&&!n?a.renderLoader():r?Object(da.jsx)("div",{children:r.statusText}):this.renderContent()}}],[{key:"renderLoader",value:function(){return Object(da.jsx)("div",{className:"loader",children:Object(da.jsx)(Yr.a,{size:"l"})})}}]),a}(r.a.Component);pd.defaultProps={};var jd={getNetworkInfo:qa,hideTooltip:wa,showTooltip:Sa,changeFilter:yt},vd=Object(u.b)((function(e){var t=e.network,a=t.wasLoaded,n=t.loading,r=t.data,i=e.schema.autorefresh;return{netWorkInfo:r,wasLoaded:a,loading:n,filter:e.settings.problemFilter,autorefresh:i}}),jd)(pd),bd=(a(909),b()("kv-describe")),fd=new Map,md=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).renderDescribeJson=function(){var t=e.props.data;return Object(da.jsx)(la.a,{data:t,className:bd("tree"),onClick:function(e){var t=e.path,a=!fd.get(t);fd.set(t,a)},searchOptions:{debounceTime:300},isExpanded:function(e){return fd.get(e)||!1}})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.autorefresh;this.autofetcher=new bi,this.fetchData(),t&&(this.autofetcher.start(),this.autofetcher.fetch((function(){return e.fetchData})))}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.props.autorefresh;a&&!e.autorefresh&&(this.fetchData(),this.autofetcher.stop(),this.autofetcher.start(),this.autofetcher.fetch((function(){return t.fetchData()}))),!a&&e.autorefresh&&this.autofetcher.stop()}},{key:"componentWillUnmount",value:function(){this.autofetcher.stop()}},{key:"fetchData",value:function(){var e=this.props,t=e.getDescribe,a=e.tenant;t({path:e.currentSchemaPath||a})}},{key:"render",value:function(){var e=this.props,t=e.error,a=e.loading,n=e.data,r=e.wasLoaded;return a&&!r?Object(da.jsx)("div",{className:bd("loader-container"),children:Object(da.jsx)(Yr.a,{size:"m"})}):t?Object(da.jsx)("div",{className:bd("message-container"),children:t.data||t}):a||n?Object(da.jsx)("div",{className:bd(),children:Object(da.jsx)("div",{className:bd("result"),children:this.renderDescribeJson()})}):Object(da.jsx)("div",{className:bd("message-container"),children:"Empty"})}}]),a}(r.a.Component),Od={getDescribe:qn},gd=Object(u.b)((function(e){var t=e.describe,a=t.loading,n=t.error,r=t.currentDescribe,i=t.wasLoaded,o=e.schema;return{data:r,loading:a,error:n,wasLoaded:i,autorefresh:o.autorefresh,currentSchemaPath:o.currentSchemaPath}}),Od)(md),Cd=(a(910),b()("hot-keys")),xd={displayIndices:!1,syncHeadOnResize:!0,stickyHead:R.a.MOVING,stickyTop:0},yd={accessSample:"accessSample",keyValues:"keyValues"},Nd=new bi;var wd={getHotKeys:function(e,t){return fe({request:window.api.getHotKeys(e,t),actions:lr})},setHotKeysOptions:function(e){return{type:dr,data:e}}},Sd=Object(u.b)((function(e){var t=e.hotKeys,a=t.loading,n=t.data,r=t.error,i=t.wasLoaded,o=e.schema,s=o.currentSchema,c=void 0===s?{}:s,l=o.autorefresh;return{loading:a,data:n,error:r,currentSchemaPath:c.Path,autorefresh:l,wasLoaded:i,currentSchema:c}}),wd)((function(e){var t=e.getHotKeys,a=e.currentSchemaPath,r=e.loading,i=e.wasLoaded,o=e.error,s=e.data,c=e.autorefresh,l=e.setHotKeysOptions,d=e.currentSchema,u=e.type,h=function(){u===xu&&t(a)};Object(n.useEffect)((function(){return c?(h(),Nd.start(),Nd.fetch((function(){return h()}))):Nd.stop(),function(){Nd.stop()}}),[c]),Object(n.useEffect)((function(){h(),l({wasLoaded:!1,data:void 0})}),[a]);var p=Object(n.useMemo)((function(){var e,t,a,n=null!==(e=null===d||void 0===d||null===(t=d.PathDescription)||void 0===t||null===(a=t.Table)||void 0===a?void 0:a.KeyColumnNames)&&void 0!==e?e:[];return[{name:yd.accessSample,header:"Samples",sortable:!1,align:R.a.RIGHT}].concat(Object(re.a)(null===n||void 0===n?void 0:n.map((function(e,t){return{name:e,header:Object(da.jsxs)("div",{className:Cd("primary-key-column"),children:[Object(da.jsx)(xi,{name:"key",viewBox:"0 0 12 7",width:12,height:7}),e]}),render:function(e){return e.row[yd.keyValues][t]},align:R.a.RIGHT,sortable:!1}}))))}),[d]);return r||void 0!==s?Object(da.jsx)("div",{className:Cd(),children:r&&!i?Object(da.jsx)("div",{className:Cd("loader"),children:Object(da.jsx)(Yr.a,{size:"l"})}):o?o.data:null!==s?Object(da.jsx)("div",{className:Cd("table-content"),children:Object(da.jsx)(R.a,{columns:p,data:s,settings:xd,theme:"yandex-cloud",initialSortOrder:{columnId:yd.accessSample,order:R.a.DESCENDING}})}):Object(da.jsx)("div",{className:Cd("stub"),children:"No information about hot keys"})}):Object(da.jsx)("div",{className:Cd("stub"),children:"Cluster version does not support hot keys viewing"})})),kd={r:255,g:4,b:0},Td={r:255,g:219,b:77},Ld={r:59,g:201,b:53},Ed={CPU:{min:0,max:1e6},Network:{min:0,max:1e9},Storage:{min:0,max:2e9},DataSize:{min:0,max:2e9},RowCount:{min:0},IndexSize:{min:0}},Id=function(e){var t=e.toString(16);return 1===t.length?"0".concat(t):t},Md=function(e,t,a){if(1===e)return[t];if(2===e)return[t,a];for(var n=(t.r-a.r)/(e-1),r=(t.g-a.g)/(e-1),i=(t.b-a.b)/(e-1),o=[],s=0;s<e;s++)o.push({r:Math.round(t.r-n*s),g:Math.round(t.g-r*s),b:Math.round(t.b-i*s)});return o.map((function(e){return function(e){var t=e.r,a=e.g,n=e.b;return"#".concat(Id(t)).concat(Id(a)).concat(Id(n))}(e)}))},Pd=function(e){var t=Math.floor(e/2),a=t+1,n=Md(e%2===0?t:t+1,Ld,Td),r=Md(a,Td,kd);return[].concat(Object(re.a)(n),Object(re.a)(r.slice(1)))},Dd=function(e,t){var a=new Set,n=Ed[e]||{};t.forEach((function(t){a.add(Number(t.metrics[e]))})),Number.isInteger(n.min)&&a.add(n.min),Number.isInteger(n.max)&&a.add(n.max);var r=Array.from(a.values()).sort((function(e,t){return e-t}));return{min:r[0],max:r[r.length-1]}},Rd=b()("heatmap"),Hd={width:0,height:0},Ad=10,Fd=function(e){var t=Object(n.useState)(Hd),a=Object(Oe.a)(t,2),r=a[0],i=a[1],o=e.tablets,s=Object(n.useRef)(null),c=Object(n.useRef)(null);Object(n.useEffect)((function(){var e=s.current,t=e.getContext("2d");t.clearRect(0,0,e.offsetWidth,e.offsetHeight),o.map(function(e){return function(t,a){var n=r.columnsCount,i=a%n*12,o=12*Math.floor(a/n);e.fillStyle=t.color||"gray",e.fillRect(i,o,Ad,Ad)}}(t))})),Object(n.useLayoutEffect)((function(){var e=c.current;if(e){var t=e.offsetWidth-15,a=Math.floor(t/12),n=Math.ceil(o.length/a);i({width:t,height:12*n,columnsCount:a,rowsCount:n})}}),[]);var l=function(){for(var e=s.current,t=0;e;)t+=e.offsetTop,e=e.offsetParent;return t},d=function(){for(var e=s.current,t=0;e;)t+=e.offsetLeft,e=e.offsetParent;return t},u=function(e,t){var a=r.columnsCount,n=Math.floor(e/12);return a*Math.floor(t/12)+n},h=L.a.throttle((function(t,a){var n=new CustomEvent("scroll");window.dispatchEvent(n);var r=e.parentRef.current,i=t-d()+r.scrollLeft,s=a-l()+r.scrollTop,c=u(i,s),h=o[c];if(h){var p={name:h.currentMetric,value:h.formattedValue};e.showTooltip(void 0,h,"tablet",p,{left:t-20,top:a-20})}else e.hideTooltip()}),20);return Object(da.jsx)("div",{ref:c,className:Rd("canvas-container"),onMouseLeave:function(){setTimeout((function(){e.hideTooltip()}),40)},children:Object(da.jsx)("canvas",{ref:s,width:r.width,height:r.height,onClick:function(t){var a=e.parentRef.current,n=t.clientX-d()+a.scrollLeft,r=t.clientY-l()+a.scrollTop,i=u(n,r),s=o[i];s&&window.open(function(e){var t=e.TabletId,a=window.location.hostname,n=qr(Gr.tablet,{id:t}),r=[a,Ir,n].map((function(e){return e.startsWith("/")?e.slice(1):e})).filter(Boolean).join("/");return"".concat("https://").concat(r)}(s),"_blank")},onMouseMove:function(e){return h(e.clientX,e.clientY)}})})},Vd=(a(911),b()("histogram")),_d=function(e){var t=Object(n.useRef)(),a=e.data,r=void 0===a?{}:a,i=e.maxCount,o=r.count,s=r.leftBound,c=r.rightBound,l=r.color,d=o/i*100;return Object(da.jsx)("div",{ref:t,className:Vd("item"),style:{backgroundColor:l,height:"".concat(d,"%")},onMouseEnter:function(){var a=t.current;e.showTooltip(a,{count:o,leftBound:s,rightBound:c},"histogram")},onMouseLeave:e.hideTooltip})},Ud=function(e){var t=e.tablets,a=e.currentMetric,n=Dd(a,t),r=n.min,i=n.max,o=Pd(50),s=(i-r)/50,c=o.map((function(e,t){return{color:e,count:0,leftBound:Ee(r+t*s),rightBound:Ee(r+(t+1)*s)}})),l=0;t.forEach((function(e){var t,n=a&&Number(e.metrics[a]),r=Math.floor(n/s),i=(null===(t=c[r])||void 0===t?void 0:t.count)+1;i>l&&(l=i),c[r]=Object(m.a)(Object(m.a)({},c[r]),{},{count:i})}));return Object(da.jsx)("div",{className:Vd(),children:Object(da.jsxs)("div",{className:Vd("chart"),children:[Boolean(i)&&c.map((function(t,a){return Object(da.jsx)(_d,{data:t,maxCount:l,showTooltip:e.showTooltip,hideTooltip:e.hideTooltip},a)})),Object(da.jsx)("div",{className:Vd("x-min"),children:Ee(r)}),Object(da.jsx)("div",{className:Vd("x-max"),children:Ee(i)}),Object(da.jsx)("div",{className:Vd("y-min"),children:"0"}),Object(da.jsx)("div",{className:Vd("y-max"),children:Ee(l)})]})})},zd=(a(912),b()("heatmap")),Zd=Pd(500),Bd=function(){return Object(da.jsx)("div",{className:zd("loader"),children:Object(da.jsx)(Yr.a,{size:"m"})})},Qd=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).itemsContainer=r.a.createRef(),e.setInitialMetric=function(){var t=e.props,a=t.metrics;!t.currentMetric&&a&&a.length&&e.props.setHeatmapOptions({currentMetric:a[0].value})},e.getTablets=function(){var t=e.props.path;e.props.getTabletsInfo({path:t})},e._onMetricChange=function(t){e.props.setHeatmapOptions({currentMetric:t})},e._onCheckboxChange=function(){e.props.setHeatmapOptions({sort:!e.props.sort})},e._onHeatmapChange=function(){e.props.setHeatmapOptions({heatmap:!e.props.heatmap})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getTablets(),this.autofetcher=new bi,this.setInitialMetric(),this.props.autorefresh&&(this.autofetcher.start(),this.autofetcher.fetch((function(){return e.getTablets()})))}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.props,n=a.path,r=a.autorefresh;n&&e.path!==n&&(this.props.setHeatmapOptions({wasLoaded:!1}),this.getTablets()),r&&!e.autorefresh&&(this.getTablets(),this.autofetcher.start(),this.autofetcher.fetch((function(){return t.getTablets()}))),!r&&e.autorefresh&&this.autofetcher.stop(),this.setInitialMetric()}},{key:"componentWillUnmount",value:function(){this.autofetcher.stop()}},{key:"renderHistogram",value:function(){var e=this.props,t=e.tablets,a=e.currentMetric;return Object(da.jsx)(Ud,{tablets:t,currentMetric:a,showTooltip:this.props.showTooltip,hideTooltip:this.props.hideTooltip})}},{key:"renderHeatmapCanvas",value:function(){var e=this.props,t=e.tablets,a=e.currentMetric,n=e.sort,r=Dd(a,t),i=r.min,o=r.max,s=t.map((function(e){var t=a&&Number(e.metrics[a]),n=function(e,t,a){return 0===a?0:Math.round((e-t)/(a-t)*499)}(t,i,o),r=Zd[n];return Object(m.a)(Object(m.a)({},e),{},{color:r,value:t,formattedValue:Ee(t),currentMetric:a})})),c=n?s.sort((function(e,t){return t.value-e.value})):s;return Object(da.jsx)("div",{ref:this.itemsContainer,className:zd("items"),children:Object(da.jsx)(Fd,{tablets:c,parentRef:this.itemsContainer,showTooltip:this.props.showTooltip,hideTooltip:this.props.hideTooltip,currentMetric:a})})}},{key:"renderContent",value:function(){var e=this.props,t=e.tablets,a=e.metrics,n=e.currentMetric,r=e.heatmap,i=e.sort,o=Dd(n,t),s=o.min,c=o.max;return Object(da.jsxs)("div",{className:zd(),children:[Object(da.jsxs)("div",{className:zd("filters"),children:[Object(da.jsx)(oo.a,{className:zd("heatmap-select"),value:n,options:a,onUpdate:this._onMetricChange,width:200}),Object(da.jsx)("div",{className:zd("sort-checkbox"),children:Object(da.jsx)(sd.a,{onUpdate:this._onCheckboxChange,checked:i,children:"Sort"})}),Object(da.jsx)("div",{className:zd("histogram-checkbox"),children:Object(da.jsx)(sd.a,{onUpdate:this._onHeatmapChange,checked:r,children:"Heatmap"})}),Object(da.jsxs)("div",{className:zd("limits"),children:[Object(da.jsxs)("div",{className:zd("limits-block"),children:[Object(da.jsx)("div",{className:zd("limits-title"),children:"min:"}),Object(da.jsx)("div",{className:zd("limits-value"),children:Number.isInteger(s)?Ee(s):"\u2014"})]}),Object(da.jsxs)("div",{className:zd("limits-block"),children:[Object(da.jsx)("div",{className:zd("limits-title"),children:"max:"}),Object(da.jsx)("div",{className:zd("limits-value"),children:Number.isInteger(c)?Ee(c):"\u2014"})]}),Object(da.jsxs)("div",{className:zd("limits-block"),children:[Object(da.jsx)("div",{className:zd("limits-title"),children:"count:"}),Object(da.jsx)("div",{className:zd("limits-value"),children:Ee(t.length)})]})]})]}),r?this.renderHeatmapCanvas():this.renderHistogram()]})}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.wasLoaded;return t&&!a?Object(da.jsx)(Bd,{}):this.renderContent()}}]),a}(r.a.Component),qd={getTabletsInfo:function(e){var t=e.nodes,a=e.path;return fe({request:Promise.all([window.api.getTabletsInfo({nodes:t,path:a}),window.api.getHeatmapData({path:a})]),actions:wt,dataHandler:function(e){var t=Object(Oe.a)(e,2),a=t[0],n=void 0===a?[]:a,r=t[1],i=void 0===r?{}:r,o=n.TabletStateInfo,s=void 0===o?[]:o,c=new Map,l=i.PathDescription,d=void 0===l?{}:l,u=d.TablePartitions,h=void 0===u?[]:u,p=d.TablePartitionStats,j=void 0===p?[]:p,v=d.TablePartitionMetrics,b=void 0===v?[]:v;s.forEach((function(e){c.set(e.TabletId,e)})),h.forEach((function(e,t){var a=Object.assign({},j[t],b[t]);c.set(e.DatashardId,Object(m.a)(Object(m.a)({},c.get(e.DatashardId)),{},{metrics:a}))}));var f=Array.from(c.values());return{data:f,metrics:f[0]&&Object.keys(f[0].metrics).map((function(e){return{value:e,content:e}}))}}})},hideTooltip:wa,showTooltip:Sa,setHeatmapOptions:function(e){return{type:St,data:e}}},Gd=Object(u.b)((function(e){var t=e.heatmap,a=t.loading,n=t.data;return{tablets:void 0===n?[]:n,loading:a,metrics:t.metrics,sort:t.sort,heatmap:t.heatmap,currentMetric:t.currentMetric,wasLoaded:t.wasLoaded,autorefresh:e.schema.autorefresh}}),qd)(Qd),Wd=(a(913),b()("nodes-viewer")),Kd=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={filteredNodes:[],nodesToShow:[]},e.onChangeProblemFilter=function(t){var n=e.props,r=n.nodes,i=n.changeFilter,o=a.filterNodes(r,t);i(t),e.setState({filteredNodes:o})},e}return Object(c.a)(a,[{key:"renderControls",value:function(){var e=this.props,t=e.searchQuery,n=e.handleSearchQuery,r=e.filter,i=a.selectNodesToShow(this.state.filteredNodes,t);return Object(da.jsxs)("div",{className:Wd("controls"),children:[Object(da.jsx)(Kr.a,{className:Wd("search"),size:"s",placeholder:"Host name\u2026",text:t,onUpdate:n,hasClear:!0}),Object(da.jsx)(vi,{value:r,onChange:this.onChangeProblemFilter}),Object(da.jsx)(Ei.a,{theme:"info",size:"m",children:"Nodes: ".concat(i.length)})]})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.searchQuery,r=e.path,i=e.filter,o=e.showControls,s=e.hideTooltip,c=e.showTooltip,l=e.additionalNodesInfo,d=void 0===l?{}:l,u=this.state.filteredNodes,h=void 0===u?[]:u,p=ss({tabletsPath:r,hideTooltip:s,showTooltip:c,getNodeRef:d.getNodeRef}),j=a.selectNodesToShow(h,n);return Object(da.jsxs)("div",{className:"".concat(Wd()," ").concat(t),children:[o?this.renderControls():null,Object(da.jsx)("div",{className:Wd("table-wrapper"),children:0===j.length?Object(da.jsx)("div",{className:"no-problem"}):Object(da.jsx)("div",{className:Wd("table-content"),children:Object(da.jsx)(R.a,{theme:"yandex-cloud",data:j,columns:p,settings:ae,emptyDataMessage:"No such nodes"},i)})})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.nodes,r=e.filter;return L.a.isEqual(n,t.nodes)?null:{nodes:n,filteredNodes:a.filterNodes(n,r)}}},{key:"filterNodes",value:function(e,t){return t===W?e:L.a.filter(e,(function(e){return e.Overall&&"Green"!==e.Overall}))}},{key:"selectNodesToShow",value:function(e,t){var a=e;return e&&Array.isArray(e)&&(a=e.map((function(e){return e.uptime=Me(e.StartTime),e})).filter((function(e){return!e.Host||e.Host.includes(t)}))),a}}]),a}(r.a.PureComponent);Kd.defaultProps={className:"",showSearch:!0,showControls:!0};var Yd={changeFilter:yt,hideTooltip:wa,showTooltip:Sa},Jd=gi(Object(u.b)((function(e){return{filter:e.settings.problemFilter}}),Yd)(Kd)),Xd=(a(914),b()("compute")),$d=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getNodes,a=e.tenantName,n=e.autorefresh;this.autofetcher=new bi,a&&(t(a),n&&(this.autofetcher.start(),this.autofetcher.fetch((function(){return t(a)}))))}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.autorefresh,n=t.getNodes,r=t.tenantName;a&&!e.autorefresh&&(n(r),this.autofetcher.start(),this.autofetcher.fetch((function(){return n(r)}))),!a&&e.autorefresh&&this.autofetcher.stop()}},{key:"componentWillUnmount",value:function(){this.props.clearNodes(),this.autofetcher.stop()}},{key:"renderLoader",value:function(){return Object(da.jsx)("div",{className:Xd("loader"),children:Object(da.jsx)(Yr.a,{size:"m"})})}},{key:"render",value:function(){var e=this.props,t=e.nodes,a=e.error,n=e.tenantName,r=e.wasLoaded,i=e.loading;return n?i&&!r?this.renderLoader():a?Object(da.jsx)("div",{children:a.statusText}):Object(da.jsx)("div",{className:Xd(),children:Object(da.jsx)(Jd,{backend:Er,nodes:t,path:n,hideTooltip:this.props.hideTooltip,showTooltip:this.props.showTooltip,additionalNodesInfo:this.props.additionalNodesInfo})}):Object(da.jsx)("div",{className:"error",children:"no tenant name in the query string"})}}]),a}(r.a.Component);var eu,tu={getNodes:At,clearNodes:function(){return{type:"CLEAR_NODES"}},hideTooltip:wa,showTooltip:Sa},au=Object(u.b)((function(e,t){var a=e.nodes,n=a.data,r=a.loading,i=a.wasLoaded,o=a.error,s=a.timeoutForRequest,c=e.schema.autorefresh,l=t.location.search,d=g.a.parse(l,{ignoreQueryPrefix:!0}).name;return{nodes:n&&n.Tenants&&n.Tenants[0]&&n.Tenants[0].Nodes||[],tenantName:d,timeoutForRequest:s,loading:r,wasLoaded:i,error:o,autorefresh:c}}),tu)($d),nu=Object(j.j)(au);!function(e){e.overview="Overview",e.topQueries="topQueries",e.topShards="topShards",e.nodes="Nodes",e.tablets="Tablets",e.storage="Storage",e.network="Network",e.describe="Describe",e.hotKeys="hotKeys",e.graph="graph"}(eu||(eu={}));var ru={id:eu.overview,title:"Overview"},iu={id:eu.topQueries,title:"Top queries"},ou={id:eu.topShards,title:"Top shards"},su={id:eu.nodes,title:"Nodes"},cu={id:eu.tablets,title:"Tablets"},lu={id:eu.storage,title:"Storage"},du={id:eu.network,title:"Network"},uu={id:eu.describe,title:"Describe"},hu={id:eu.hotKeys,title:"Hot keys"},pu={id:eu.graph,title:"Graph"},ju=[ru,iu,ou,su,cu,lu,du,uu],vu=[ru,ou,pu,cu,hu,uu],bu=[ru,ou,uu],fu=(a(915),b()("kv-tenant-diagnostics"));var mu=function(e){var t=Object(u.c)(),a=Object(u.d)((function(e){return e.schema})),r=a.currentSchemaPath,i=a.currentSchema,o=void 0===i?{}:i,s=a.autorefresh,c=Object(j.h)(),l=Object(j.g)(),d=g.a.parse(c.search,{ignoreQueryPrefix:!0}),h=d.name,p=d.generalTab,v=void 0===p?eu.overview:p,b=r===h,f=Object(n.useMemo)((function(){var t=e.type,a=bu;return b?a=ju:(t===xu||t===yu)&&(a=vu),a}),[e.type]),O=Object(n.useMemo)((function(){if(f.find((function(e){return e.id===v})))return v;var e,t=f[0].id;return e=t,l.push(qr(Gr.tenant,void 0,Object(m.a)(Object(m.a)({},d),{},Object(D.a)({},Oi.generalTab,e)))),t}),[f,v]),C=function(e){t(e?{type:Da}:Va())},x=function(e){l.push(qr(Gr.tenant,void 0,Object(m.a)(Object(m.a)({},d),{},Object(D.a)({},Oi.general,e))))};return Object(da.jsxs)("div",{className:fu(),children:[Object(da.jsx)("div",{className:fu("header-wrapper"),children:Object(da.jsxs)("div",{className:fu("tabs"),children:[Object(da.jsx)(Mi.a,{items:f,activeTab:O,wrapTo:function(e,t){var a=e.id,n=qr(Gr.tenant,void 0,Object(m.a)(Object(m.a)({},d),{},Object(D.a)({},Oi.generalTab,a)));return Object(da.jsx)(Jr.a,{to:n,className:fu("tab"),children:t},a)},allowNotSelected:!0}),Object(da.jsx)(pl.a,{checked:s,onUpdate:C,content:"Autorefresh"})]})}),Object(da.jsx)("div",{className:fu("page-wrapper"),children:function(){var t=e.type,a=h;switch(v){case eu.overview:return Object(da.jsx)(Xl,{type:t,tenantName:a,additionalTenantInfo:e.additionalTenantInfo});case eu.topQueries:return Object(da.jsx)(ml,{path:a,changeSchemaTab:x,type:t});case eu.topShards:return Object(da.jsx)(od,{path:a,type:t});case eu.nodes:return Object(da.jsx)(nu,{additionalNodesInfo:e.additionalNodesInfo});case eu.tablets:return Object(da.jsx)(fo,{path:o.Path});case eu.storage:return Object(da.jsx)(es,{tenant:a,database:!0});case eu.network:return Object(da.jsx)(vd,{path:a});case eu.describe:return Object(da.jsx)(gd,{tenant:a});case eu.hotKeys:return Object(da.jsx)(Sd,{type:t});case eu.graph:return Object(da.jsx)(Gd,{path:o.Path});default:return Object(da.jsx)("div",{children:"No data..."})}}()})]})},Ou=(a(917),b()("object-general"));var gu=function(e){var t=Object(j.h)(),a=Object(vc.a)(),n=g.a.parse(t.search,{ignoreQueryPrefix:!0}),r=n.name,i=n.general,o=function(){var e=yi.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{title:Object(da.jsxs)("div",{className:Ou("tab-label"),children:[e.icon,e.title]})})}));return Object(da.jsx)("div",{className:Ou("tabs"),children:Object(da.jsx)(Mi.a,{items:e,activeTab:i,wrapTo:function(e,t){var a=e.id,i=qr(Gr.tenant,void 0,Object(m.a)(Object(m.a)({},n),{},Object(D.a)({name:r},Oi.general,a)));return Object(da.jsx)(Jr.a,{to:i,className:Ou("tab"),children:t},a)},allowNotSelected:!0})})},s=function(){var t=e.type,n=e.additionalTenantInfo,o=e.additionalNodesInfo;return i===fi.query?Object(da.jsx)(hl,{path:r,theme:a,type:t}):Object(da.jsx)(mu,{type:t,additionalTenantInfo:n,additionalNodesInfo:o})};return r?Object(da.jsxs)("div",{className:Ou(),children:[o(),s()]}):null},Cu=(a(918),b()("tenant-page")),xu="Table",yu="OlapTable",Nu="OlapStore";function wu(e){return e&&e.replace("EPathType","")}var Su={triggerExpand:!1,triggerCollapse:!1,collapsed:Boolean(localStorage.getItem(ee))};var ku=function(e){var t,a,r=Object(n.useReducer)(lc(ee),Su),i=Object(Oe.a)(r,2),o=i[0],s=i[1],c=Object(u.d)((function(e){return e.schema})),l=c.currentSchemaPath,d=c.currentSchema,h=void 0===d?{}:d,p=Object(u.c)(),v=Object(j.h)(),b=g.a.parse(v.search,{ignoreQueryPrefix:!0}).name;Object(n.useEffect)((function(){var e=l||b;p(Aa({path:b})),p(Aa({path:e})),p(Kn({path:e}))}),[b,l,p]),Object(n.useEffect)((function(){p(Va())}),[l,b]),Object(n.useEffect)((function(){return b&&(p(Bt({path:b})),p(gr([{text:zr.title,link:qr(Gr.cluster,{activeTab:zr.id})},{text:b.startsWith("/")?b.slice(1):b,link:qr(Gr.tenant,void 0,{name:b})}]))),function(){p({type:"CLEAR_TENANT"})}}),[b,p]);var f=null===(t=h.PathDescription)||void 0===t||null===(a=t.Self)||void 0===a?void 0:a.PathType,m=Object(n.useMemo)((function(){return wu(f)}),[f]);return Object(da.jsx)("div",{className:Cu(),children:Object(da.jsxs)(Ns,{defaultSizePaneKey:"default-size-tenant-pane",defaultSizes:[25,75],triggerCollapse:o.triggerCollapse,triggerExpand:o.triggerExpand,minSize:[36,200],onSplitStartDrugAdditional:function(){s(oc.clear)},children:[Object(da.jsx)(jc,{type:m,onCollapseSummary:function(){s(oc.triggerCollapse)},onExpandSummary:function(){s(oc.triggerExpand)},isCollapsed:o.collapsed,additionalTenantInfo:e.additionalTenantInfo}),Object(da.jsx)(gu,{type:m,additionalTenantInfo:e.additionalTenantInfo,additionalNodesInfo:e.additionalNodesInfo})]})})},Tu=(a(919),b()("pdisk")),Lu=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).renderContent=function(){var t=e.props.pdisk,a=t.TotalSize,n=t.AvailableSize,r=t.ChangeTime,i=t.Device,o=t.Guid,s=t.NodeId,c=t.PDiskId,l=t.Path,d=t.Realtime,u=t.State,h=[{label:"Device",value:Object(da.jsx)(ai,{status:i})},{label:"Realtime",value:Object(da.jsx)(ai,{status:d})},{label:"State",value:u},{label:"Size",value:Object(da.jsx)(Fi,{value:a-n||0,capacity:a||0,formatValues:ke,colorizeProgress:!0,className:Tu("size")})},{label:"ChangeTime",value:Me(r)},{label:"Path",value:l},{label:"Guid",value:o},{label:"NodeId",value:Object(da.jsx)(Jr.a,{className:Tu("link"),to:qr(Gr.node,{id:s,activeTab:"storage"}),children:s})}];return Object(da.jsxs)("div",{className:Tu(),children:[Object(da.jsxs)("div",{className:Tu("row"),children:[Object(da.jsx)("span",{className:Tu("title"),children:"PDisk "}),Object(da.jsx)(ai,{status:i,name:c})]}),Object(da.jsx)("div",{className:Tu("column"),children:Object(da.jsx)(Ri,{className:Tu("section"),info:h})})]})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=g.a.parse(this.props.location.search,{ignoreQueryPrefix:!0}).node_id;this.props.getPdiskInfo(t),this.reloadDescriptor=setInterval((function(){return e.props.getPdiskInfo(t)}),1e4)}},{key:"componentWillUnmount",value:function(){this.props.clearStore(),clearInterval(this.reloadDescriptor)}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.wasLoaded,r=e.error;return t&&!n?a.renderLoader():r?Object(da.jsx)("div",{children:r.statusText}):this.renderContent()}}],[{key:"renderLoader",value:function(){return Object(da.jsx)("div",{className:"loader",children:Object(da.jsx)(Yr.a,{size:"l"})})}}]),a}(r.a.Component);Lu.defaultProps={className:""};var Eu={getPdiskInfo:Xt,clearStore:Jt},Iu=Object(u.b)((function(e,t){var a,n=e.pdisk,r=n.data,i=n.wasLoaded,o=n.loading,s=n.error,c=t.match.params.id;return r&&(a=r.PDiskStateInfo.filter((function(e){return e.PDiskId===Number(c)}))[0]),{pdisk:a,wasLoaded:i,loading:o,error:s}}),Eu)(Lu),Mu=a(975),Pu=(a(920),b()("kv-breadcrumbs")),Du=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.items;return Object(da.jsx)(Mu.a,{items:e,firstDisplayedItemsCount:1,className:Pu()})}}]),a}(r.a.Component);Du.defaultProps={items:[]};var Ru=Du,Hu=(a(924),b()("full-group-viewer")),Au=Object(m.a)(Object(m.a)({},ae),{},{stickyHead:R.a.FIXED}),Fu=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).renderContent=function(){var t=e.props.group,a=t.VDisks,n=[{name:"VDiskId",header:"VDisk",render:function(e){var t=e.value,a=e.row;return Object(da.jsx)(ai,{status:a.Overall,name:Ne(t),path:qr(Gr.vdisk,null,{vdiskId:Ne(t)})})}},{name:"pdisk",header:"PDisk",render:function(e){var t=e.row;return t.PDisk?Object(da.jsx)(ai,{path:qr(Gr.pdisk,{id:t.PDisk.PDiskId},{node_id:t.PDisk.NodeId}),status:t.PDisk.Overall,name:"".concat(t.NodeId,"-").concat(t.PDisk.PDiskId)}):Object(da.jsx)("div",{className:"error",children:"\u2014"})}},{name:"space",header:"Space",width:"150px",render:function(e){var t=e.row;return t.PDisk?Object(da.jsx)(Fi,{capacity:t.PDisk.TotalSize,value:t.PDisk.TotalSize-t.PDisk.AvailableSize,formatValues:ke}):Object(da.jsx)("div",{className:"error",children:"\u2014"})}},{name:"category",header:"Category",render:function(e){var t=e.row;return t.PDisk?q[t.PDisk.Category]:Object(da.jsx)("div",{className:"error",children:"\u2014"})},align:R.a.RIGHT},{name:"path",header:"Path",render:function(e){var t=e.row;return t.PDisk?t.PDisk.Path:Object(da.jsx)("div",{className:"error",children:"\u2014"})}},{name:"guid",header:"Guid",render:function(e){var t=e.row;return t.PDisk?t.PDisk.Guid:Object(da.jsx)("div",{className:"error",children:"\u2014"})},align:R.a.RIGHT}],i=[{label:"Generation",value:t.GroupGeneration},{label:"Latency",value:Object(da.jsx)(ai,{status:t.Latency})},{label:"Erasure",value:t.ErasureSpecies}];return Object(da.jsxs)(r.a.Fragment,{children:[Object(da.jsx)(Ru,{items:[{text:"Database"},{text:"Storage Pool"},{text:"BS Group"}]}),Object(da.jsx)(Ri,{className:Hu("section"),info:i,title:"Info"}),Object(da.jsx)(R.a,{cls:Hu("disks"),columns:n,data:a,settings:Au})]})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.group;return Object(da.jsx)("div",{className:"".concat(Hu()," ").concat(t),children:a?this.renderContent():Object(da.jsx)("div",{className:"error",children:"no group data"})})}}]),a}(r.a.Component);Fu.defaultProps={className:""};var Vu=Fu,_u=(a(925),b()("group")),Uu=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).renderContent=function(){var t=e.props,a=t.className,n=t.group;return Object(da.jsx)("div",{className:"".concat(_u()," ").concat(a),children:Object(da.jsx)(Vu,{group:n})})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.props.getGroupInfo(t),this.reloadDescriptor=setInterval((function(){return e.props.getGroupInfo(t)}),1e4)}},{key:"componentWillUnmount",value:function(){this.props.clearStore(),clearInterval(this.reloadDescriptor)}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.wasLoaded,r=e.error,i=e.group;return t&&!n?a.renderLoader():r?Object(da.jsx)("div",{children:r.statusText}):i?this.renderContent():Object(da.jsx)("div",{className:"error",children:"no data"})}}],[{key:"renderLoader",value:function(){return Object(da.jsx)("div",{className:"loader",children:Object(da.jsx)(Yr.a,{size:"l"})})}}]),a}(r.a.Component);Uu.defaultProps={className:""};var zu={getGroupInfo:function(e){return fe({request:window.api.getGroupInfo(e),actions:na})},clearStore:function(){return{type:"CLEAR_STORE"}}},Zu=Object(u.b)((function(e){var t,a=e.group,n=a.data,r=a.wasLoaded,i=a.loading,o=a.error;return n&&(t=n.StoragePools[0].Groups[0]),{group:t,wasLoaded:r,loading:i,error:o}}),zu)(Uu),Bu=(a(926),b()("vdisk-pdisk-node"));function Qu(e){return null!==e&&void 0!==e}function qu(e){var t=e.AllocatedSize,a=e.DiskSpace,n=e.FrontQueues,i=e.Guid,o=e.Replicated,s=e.VDiskState,c=e.VDiskId,l=e.VDiskSlotId,d=e.Kind,u=e.SatisfactionRank,h=e.AvailableSize,p=e.HasUnreadableBlobs,j=e.IncarnationGuid,v=e.InstanceGuid,b=e.StoragePoolName,f=e.ReadThroughput,m=e.WriteThroughput,O=[];return Qu(l)&&O.push({label:"VDisk Slot Id",value:l}),Qu(i)&&O.push({label:"GUID",value:i}),Qu(d)&&O.push({label:"Kind",value:d}),Qu(s)&&O.push({label:"VDisk State",value:s}),Qu(a)&&O.push({label:"Disk Space",value:Object(da.jsx)(ai,{status:a})}),Qu(null===u||void 0===u?void 0:u.FreshRank.Flag)&&O.push({label:"Fresh Rank Satisfaction",value:Object(da.jsx)(ai,{status:u.FreshRank.Flag})}),Qu(null===u||void 0===u?void 0:u.LevelRank.Flag)&&O.push({label:"Level Rank Satisfaction",value:Object(da.jsx)(ai,{status:u.LevelRank.Flag})}),O.push({label:"Replicated",value:o?"\u2713":"\u2613"}),O.push({label:"Allocated Size",value:pt(t)}),O.push({label:"Available Size",value:pt(h)}),Number(t)>=0&&Number(h)>=0&&O.push({label:"Size",value:Object(da.jsx)(Fi,{value:t,capacity:Number(t)+Number(h),formatValues:Te,colorizeProgress:!0,className:Bu("size")})}),O.push({label:"Has Unreadable Blobs",value:p?"Yes":"No"}),Qu(j)&&O.push({label:"Incarnation GUID",value:j}),Qu(v)&&O.push({label:"Instance GUID",value:v}),Qu(n)&&O.push({label:"Front Queues",value:Object(da.jsx)(ai,{status:n})}),Qu(b)&&O.push({label:"Storage Pool Name",value:b}),O.push({label:"Read Throughput",value:ht(f)}),O.push({label:"Write Throughput",value:ht(m)}),Object(da.jsxs)(r.a.Fragment,{children:[Object(da.jsxs)("div",{className:Bu("row"),children:[Object(da.jsx)("span",{className:Bu("title"),children:"VDisk "}),Object(da.jsx)(ai,{status:"OK"===s?"green":"red",name:Ne(c)})]}),Object(da.jsx)("div",{className:Bu("column"),children:Object(da.jsx)(Ri,{className:Bu("section"),info:O})})]})}var Gu=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).renderLoader=function(){return Object(da.jsx)("div",{className:Bu("loader"),children:Object(da.jsx)(Yr.a,{size:"l"})})},e.renderVdisks=function(){return L.a.map(e.props.vdisks,(function(e){return L.a.isEmpty(e)?Object(da.jsx)("div",{children:"No information about VDisk"}):Object(da.jsx)(qu,Object(m.a)({},e))}))},e.renderPDisk=function(){if(L.a.isEmpty(e.props.pdisk))return Object(da.jsx)("div",{children:"No information about PDisk"});var t=e.props.pdisk,a=t.TotalSize,n=t.AvailableSize,i=t.Device,o=t.Guid,s=t.NodeId,c=t.PDiskId,l=t.Path,d=t.Realtime,u=t.State,h=t.Category,p=t.SerialNumber,j=[{label:"PDisk Id",value:Object(da.jsx)(Jr.a,{className:Bu("link"),to:qr(Gr.pdisk,{id:c},{node_id:s}),children:c})}];return Qu(l)&&j.push({label:"Path",value:l}),Qu(o)&&j.push({label:"GUID",value:o}),Qu(h)&&j.push({label:"Category",value:h}),j.push({label:"Allocated Size",value:pt(a-n)}),j.push({label:"Available Size",value:pt(n)}),Number(a)>=0&&Number(n)>=0&&j.push({label:"Size",value:Object(da.jsx)(Fi,{value:a-n,capacity:a,formatValues:Te,colorizeProgress:!0,className:Bu("size")})}),Qu(u)&&j.push({label:"State",value:u}),Qu(i)&&j.push({label:"Device",value:Object(da.jsx)(ai,{status:i})}),Qu(d)&&j.push({label:"Realtime",value:Object(da.jsx)(ai,{status:d})}),Qu(p)&&j.push({label:"SerialNumber",value:p}),Object(da.jsxs)(r.a.Fragment,{children:[Object(da.jsxs)("div",{className:Bu("row"),children:[Object(da.jsx)("span",{className:Bu("title"),children:"PDisk "}),Object(da.jsx)(ai,{status:i,name:"".concat(s,"-").concat(c)})]}),Object(da.jsx)("div",{className:Bu("column"),children:Object(da.jsx)(Ri,{className:Bu("section"),info:j})})]})},e.renderNode=function(){if(L.a.isEmpty(e.props.node))return Object(da.jsx)("div",{children:"No information about Node"});var t=e.props.node,a=t.NodeId,n=t.SystemState,i=t.StartTime,o=t.Host,s=t.DataCenterDescription,c=t.DataCenter,l=t.Rack,d=t.Version,u=t.LoadAverage,h=t.NumberOfCpus,p=t.MemoryUsed,j=t.MemoryLimit,v=t.PoolStats,b=[{label:"Node Id",value:Object(da.jsx)(Jr.a,{className:Bu("link"),to:qr(Gr.node,{id:a,activeTab:"storage"}),children:a})}];return Qu(o)&&b.push({label:"Host",value:o}),Qu(v)&&b.push({label:"Pool stats",value:Object(da.jsx)(ci,{onMouseEnter:e.props.showTooltip,onMouseLeave:e.props.hideTooltip,pools:v})}),!L.a.isEmpty(u)&&Qu(h)&&(b.push({label:"Load Average",value:Object(da.jsx)(Fi,{value:100*u[0]/h<100?100*u[0]/h:100,capacity:100,percents:!0,colorizeProgress:!0,className:Bu("size")})}),b.push({label:"Load Average",value:"".concat(u[0]," / ").concat(h," Cpus")})),Qu(i)&&b.push({label:"Uptime",value:Me(i)}),Qu(n)&&b.push({label:"System State",value:Object(da.jsx)(ai,{status:n})}),Qu(c)&&b.push({label:"DataCenter",value:c.toUpperCase()}),Qu(s)&&b.push({label:"DataCenter Description",value:s}),Qu(l)&&b.push({label:"Rack",value:l}),Qu(d)&&b.push({label:"Version",value:d}),Qu(p)&&b.push({label:"Memory used",value:pt(p)}),Qu(j)&&b.push({label:"Memory limit",value:pt(j)}),Qu(j)&&Qu(p)&&b.push({label:"Memory used",value:Object(da.jsx)(Fi,{value:p||0,capacity:j||0,formatValues:Te,colorizeProgress:!0,className:Bu("size")})}),Object(da.jsxs)(r.a.Fragment,{children:[Object(da.jsxs)("div",{className:Bu("row"),children:[Object(da.jsx)("span",{className:Bu("title"),children:"Node "}),Object(da.jsx)(ai,{status:n,name:"".concat(a,"-").concat(o)})]}),Object(da.jsx)("div",{className:Bu("column"),children:Object(da.jsx)(Ri,{className:Bu("section"),info:b})})]})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new URLSearchParams(this.props.location.search),a=t.get("nodeId"),n=t.get("pdiskId"),r=t.get("vdiskId");this.props.getVdiskInfo({vdiskId:r,pdiskId:n,nodeId:a}),this.vDiskAutofetcher=new bi,this.vDiskAutofetcher.fetch((function(){return e.props.getVdiskInfo({vdiskId:r,pdiskId:n,nodeId:a})})),a&&n&&(this.props.getPdiskInfo(a,n),this.pDiskAutofetcher=new bi,this.pDiskAutofetcher.fetch((function(){return e.props.getPdiskInfo(a,n)}))),a&&(this.props.getNodeInfo(a),this.nodeAutofetcher=new bi,this.nodeAutofetcher.fetch((function(){return e.props.getNodeInfo(a)})))}},{key:"componentWillUnmount",value:function(){this.props.clearStoreVDisk(),this.props.clearStorePDisk(),this.vDiskAutofetcher.stop(),this.pDiskAutofetcher.stop(),this.nodeAutofetcher.stop()}},{key:"render",value:function(){var e=this.props,t=e.loadingVDisk,a=e.wasLoadedVDisk,n=e.errorVDisk,r=e.loadingPDisk,i=e.wasLoadedPDisk,o=e.errorPDisk,s=e.loadingNode,c=e.wasLoadedNode,l=e.errorNode;return Object(da.jsxs)("div",{className:Bu(),children:[Object(da.jsx)("div",{children:t&&!a&&this.renderLoader()||n&&n.statusText||this.renderVdisks()}),Object(da.jsx)("div",{children:r&&!i&&this.renderLoader()||o&&o.statusText||this.renderPDisk()}),Object(da.jsx)("div",{children:s&&!c&&this.renderLoader()||l&&l.statusText||this.renderNode()})]})}}]),a}(r.a.Component);Gu.defaultProps={className:""};var Wu={getVdiskInfo:function(e){var t=e.vdiskId,a=e.pdiskId,n=e.nodeId;return fe({request:window.api.getVdiskInfo({vdiskId:t,pdiskId:a,nodeId:n}),actions:ea})},getPdiskInfo:Xt,getNodeInfo:Gt,clearStoreVDisk:function(){return{type:"CLEAR_STORE"}},clearStorePDisk:Jt,hideTooltip:wa,showTooltip:Sa},Ku=Object(u.b)((function(e){var t=e.vdisk,a=t.data,n=t.wasLoaded,r=t.loading,i=t.error,o=e.pdisk,s=o.data,c=o.wasLoaded,l=o.loading,d=o.error,u=e.node,h=u.data,p=u.wasLoaded,j=u.loading,v=u.error,b={},f={};return s&&s.PDiskStateInfo&&(b=s.PDiskStateInfo[0]),h&&h.SystemStateInfo&&(f=h.SystemStateInfo[0]),{vdisks:null===a||void 0===a?void 0:a.VDiskStateInfo,wasLoadedVDisk:n,loadingVDisk:r,errorVDisk:i,pdisk:b,wasLoadedPDisk:c,loadingPDisk:l,errorPDisk:d,node:f,wasLoadedNode:p,loadingNode:j,errorNode:v}}),Wu)(Gu),Yu=(a(927),b()("group-viewer")),Ju=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.group,a=e.className,n=t.GroupID,r=void 0===n?"no id":n,i=t.Overall,o=void 0===i?"gray":i,s=t.VDisks,c=t.ErasureSpecies,l=t.Latency,d=void 0===l?"gray":l,u=t.AcquiredIOPS,h=t.AcquiredSize,p=t.AcquiredThroughput,j=t.MaximumIOPS,v=t.MaximumSize,b=t.MaximumThroughput;return t&&Object.keys(t).length?Object(da.jsxs)("div",{className:"".concat(Yu()," ").concat(a),children:[Object(da.jsx)("div",{className:Yu("group"),children:Object(da.jsx)(ai,{name:r,status:o,path:qr(Gr.group,{id:r}),className:Yu("name")})}),Object(da.jsx)("div",{className:Yu("latency"),children:Object(da.jsx)(ai,{name:"Latency",status:d})}),Object(da.jsxs)("div",{className:Yu("label"),children:[s&&s.length||0," Vdisks"]}),Object(da.jsx)("div",{className:Yu("label"),children:c||"no ErasureSpecies info"}),Object(da.jsx)("div",{className:Yu("vdisks"),children:null===s||void 0===s?void 0:s.map((function(e){return Object(da.jsx)("div",{className:Yu("disk-overall"),children:Object(da.jsx)(ai,{status:e.Overall})},e.Guid)}))}),Object(da.jsx)("div",{className:Yu("progress"),children:Object(da.jsx)(Fi,{value:h,capacity:v,colorizeProgress:!0,formatValues:ke})}),Object(da.jsx)("div",{className:Yu("progress"),children:Object(da.jsx)(Fi,{value:u,capacity:j,colorizeProgress:!0,formatValues:Se})}),Object(da.jsx)("div",{className:Yu("progress"),children:Object(da.jsx)(Fi,{value:p,capacity:b,colorizeProgress:!0,formatValues:Le})})]}):Object(da.jsx)("div",{className:Yu(),children:"No data"})}}]),a}(r.a.Component);Ju.defaultProps={className:""};var Xu=Ju,$u=(a(928),b()("pdisk-viewer")),eh=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.disk,a=e.className;return t?Object(da.jsxs)("div",{className:"".concat($u()," ").concat(a),children:[t&&Object(da.jsx)("div",{className:$u("item"),children:Object(da.jsx)(ai,{status:t.Realtime,path:qr(Gr.pdisk,{id:t.PDiskId},{node_id:t.NodeId}),label:"PDiskID",name:t.PDiskId})}),t&&Object(da.jsx)("div",{className:$u("item"),children:Object(da.jsx)(ai,{status:"green",label:"NodeID",path:qr(Gr.node,{id:t.NodeId,activeTab:"storage"}),name:t.NodeId})}),t&&Object(da.jsx)(Fi,{value:t.TotalSize-t.AvailableSize||0,capacity:t.TotalSize||0,formatValues:ke,colorizeProgress:!0,className:$u("size")}),Object(da.jsx)("div",{className:$u("item"),children:t&&Object(da.jsx)("div",{className:$u("label"),children:t.Path||"no path"})})]}):Object(da.jsx)("div",{className:"error",children:"no PDisk data"})}}]),a}(r.a.Component);eh.defaultProps={className:""};var th=eh,ah=(a(929),b()("group-tree-viewer")),nh=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e,t=this.props,a=t.group,n=t.collapsed,r=t.onClick,i=Object(da.jsx)("div",{children:Object(da.jsx)(Xu,{group:a},a.GroupID)});return a&&Object.keys(a).length?Object(da.jsx)("div",{className:ah(),children:Object(da.jsx)(Ls,{nodeLabel:i,collapsed:n,onClick:r,children:null===(e=a.VDisks)||void 0===e?void 0:e.map((function(e,t){return Object(da.jsxs)("div",{className:ah("row"),children:[Object(da.jsx)(ai,{className:ah("disk"),status:e.Overall,name:Ne(e.VDiskId),label:"VDiskID",path:qr(Gr.vdisk,null,{vdiskId:Ne(e.VDiskId)})}),Object(da.jsx)(th,{className:ah("disk"),disk:e.PDisk,backend:Er},e.Guid)]},t)}))},a.GroupID)}):Object(da.jsx)("div",{className:ah(),children:"No data"})}}]),a}(r.a.Component);nh.ITEM_HEIGHT_COLLAPSED=38,nh.GROUP_ITEM_HEIGHT=34,nh.makeGetHeight=function(e,t){return function(a){var n=e[a].VDisks,r=null===n||void 0===n?void 0:n.length,i=nh.ITEM_HEIGHT_COLLAPSED,o=nh.GROUP_ITEM_HEIGHT;return t.has(a)?i+r*o:i}};var rh=Object(j.j)(nh),ih=(a(930),b()("pool")),oh=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={extendedGroups:new Set},e.makeHandleGroupClick=function(t){return function(){var a=e.state.extendedGroups,n=new Set(Object(re.a)(a));n.has(t)?n.delete(t):n.add(t),e.setState({extendedGroups:n})}},e.makeRenderGroups=function(t){return function(a,n){var r=t[a],i=e.state.extendedGroups;return Object(da.jsx)(rh,{group:r,collapsed:!i.has(a),onClick:e.makeHandleGroupClick(a)},n)}},e.renderContent=function(){var t=e.props,n=t.pool,r=t.filter,i=t.changeFilter,o=e.state.extendedGroups;if(n&&n.StoragePools){var s=n.StoragePools[0],c=a.filterGroups(s.Groups,r);return Object(da.jsxs)("div",{className:ih(),children:[Object(da.jsx)(Ru,{items:[{text:"Database"},{text:"Storage Pool"}]}),Object(da.jsxs)("div",{className:ih("row"),children:[Object(da.jsx)("span",{className:ih("title"),children:"Pool "}),Object(da.jsx)(ai,{status:s.Overall,name:s.Name})]}),Object(da.jsxs)("div",{className:ih("controls"),children:[Object(da.jsx)("div",{className:ih("title",{groups:!0}),children:"Groups"}),Object(da.jsx)(vi,{value:r,onChange:i})]}),0===c.length?Object(da.jsx)("div",{className:"no-problem"}):Object(da.jsx)(co.a,{itemRenderer:e.makeRenderGroups(c),length:c.length,itemSizeGetter:rh.makeGetHeight(c,o),type:"variable"})]})}},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.poolName;this.props.getPoolInfo(decodeURIComponent(t)),this.reloadDescriptor=setInterval((function(){return e.props.getPoolInfo(decodeURIComponent(t))}),H)}},{key:"componentWillUnmount",value:function(){clearInterval(this.reloadDescriptor)}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.wasLoaded,r=e.error;return t&&!n?a.renderLoader():r?Object(da.jsx)("div",{children:r.statusText}):this.renderContent()}}],[{key:"renderLoader",value:function(){return Object(da.jsx)("div",{className:"loader",children:Object(da.jsx)(Yr.a,{size:"l"})})}},{key:"filterGroups",value:function(e,t){return L.a.filter(e,(function(e){return t===W||e.Overall&&"Green"!==e.Overall}))}}]),a}(r.a.Component);oh.defaultProps={pool:{}};var sh={getPoolInfo:function(e){return fe({request:window.api.getPoolInfo(e),actions:Wa})},changeFilter:yt},ch=Object(u.b)((function(e){var t=e.pool;return{pool:t.data,wasLoaded:t.wasLoaded,loading:t.loading,error:t.error,filter:e.settings.problemFilter}}),sh)(oh),lh=(a(931),b()("empty-state")),dh={s:150,m:250,l:350};function uh(e){var t=e.image,a=e.title,n=e.description,r=e.actions,i=e.size;return Object(da.jsx)("div",{className:lh({size:i}),children:Object(da.jsxs)("div",{className:lh("wrapper",{size:i}),children:[t||Object(da.jsx)(xi,{viewBox:"0 0 383 396",name:"emptyState",width:dh[i],height:dh[i]}),Object(da.jsx)("div",{className:lh("title",{size:i}),children:a}),Object(da.jsx)("div",{className:lh("description"),children:n}),Object(da.jsx)("div",{className:lh("actions"),children:r})]})})}uh.defaultProps={size:"m"};a(932);var hh=b()("km-critical-dialog");function ph(e){var t=e.visible,a=e.onClose,r=e.onConfirm,i=e.text,o=Object(n.useState)(!1),s=Object(Oe.a)(o,2),c=s[0],l=s[1];return Object(da.jsx)(mc.a,{open:t,hasCloseButton:!1,className:hh(),size:"s",onClose:a,children:Object(da.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),l(!0),r().then((function(){l(!1),a()}))},children:[Object(da.jsxs)(mc.a.Body,{className:hh("body"),children:[Object(da.jsx)("span",{className:hh("warning-icon"),children:Object(da.jsx)(xi,{name:"dialog-warning",width:"24",height:"22",viewBox:"0 0 24 22"})}),i]}),Object(da.jsx)(mc.a.Footer,{progress:c,preset:"default",textButtonApply:"Confirm",textButtonCancel:"Cancel",propsButtonApply:{type:"submit"},onClickButtonCancel:a,onClickButtonApply:function(){}})]})})}a(933);var jh=b()("tablet-page"),vh={displayIndices:!1},bh=[{name:"generation",header:"Generation",align:R.a.RIGHT},{name:"nodeId",header:"Node ID",align:R.a.RIGHT,sortable:!1},{name:"changeTime",header:"Change time",align:R.a.RIGHT,sortable:!1,render:function(e){var t=e.value;return Me(t)}},{name:"state",header:"State",sortable:!1},{name:"follower_id",header:"Follower ID",sortable:!1,render:function(e){var t=e.row;return t.leader?"leader":t.followerId}}],fh=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={typeVisibleDialog:null,dialogVisible:!1,isFirstFetchData:!0,tenantPath:"-",disableTabletActions:!1},e.makeShowDialog=function(t){return function(){return e.setState({dialogVisible:!0,typeVisibleDialog:t})}},e.showKillDialog=e.makeShowDialog("kill"),e.showStopDialog=e.makeShowDialog("stop"),e.showResumeDialog=e.makeShowDialog("resume"),e.hideDialog=function(){return e.setState({dialogVisible:!1,typeVisibleDialog:null})},e.fetchTabletInfo=function(){var t=e.props,a=t.version,n=t.id,r=e.state.isFirstFetchData;a&&e.isValidVersion()&&(e.props.getTablet(n).then((function(t){var a=t.tablet;r&&a.TenantId&&e.props.getTabletDescribe(a.TenantId),e.setState({isFirstFetchData:!1})})),e.fetcher&&(clearInterval(e.fetcher),e.fetcher=null),e.fetcher=setInterval((function(){e.props.getTablet(n).then((function(){e.setState({disableTabletActions:!1})}))}),1e4))},e.isValidVersion=function(){var t=e.props.version;return!/\d+.stable-19-6$/.exec(t)&&!/\d+.stable-29/.exec(t)},e.renderExternalLinks=function(e,t){return Object(da.jsx)("li",{className:jh("link",{external:!0}),children:Object(da.jsx)(Xr.a,{href:"".concat(Er).concat(e.path),target:"_blank",children:e.name})},t)},e._onKillClick=function(){var t=e.props.tablet.TabletId;return e.setState({disableTabletActions:!0}),window.api.killTablet(t)},e._onStopClick=function(){var t=e.props.tablet,a=t.TabletId,n=t.HiveId;return e.setState({disableTabletActions:!0}),window.api.stopTablet(a,n)},e._onResumeClick=function(){var t=e.props.tablet,a=t.TabletId,n=t.HiveId;return e.setState({disableTabletActions:!0}),window.api.resumeTablet(a,n)},e.renderDialog=function(){var t=e.state,a=t.dialogVisible,n=t.typeVisibleDialog;if(!a)return null;switch(n){case"kill":return Object(da.jsx)(ph,{visible:a,text:"The tablet will be killed. Do you want to proceed?",onClose:e.hideDialog,onConfirm:e._onKillClick});case"stop":return Object(da.jsx)(ph,{visible:a,text:"The tablet will be stopped. Do you want to proceed?",onClose:e.hideDialog,onConfirm:e._onStopClick});case"resume":return Object(da.jsx)(ph,{visible:a,text:"The tablet will be resumed. Do you want to proceed?",onClose:e.hideDialog,onConfirm:e._onResumeClick});default:return null}},e.hasUptime=function(){return"Active"===e.props.tablet.State},e.hasHiveId=function(){var t=e.props.tablet.HiveId;return t&&"0"!==t},e.getSchemeShard=function(){var t=e.props.tablet;return L.a.get(t,"TenantId.SchemeShard")},e.isDisabledResume=function(){var t=e.props.tablet;return!!e.state.disableTabletActions||"Stopped"!==t.State&&"Dead"!==t.State},e.isDisabledKill=function(){return e.state.disableTabletActions},e.isDisabledStop=function(){var t=e.props.tablet;return!!e.state.disableTabletActions||("Stopped"===t.State||"Deleted"===t.State)},e.renderTablet=function(){var t=e.props,a=t.tablet,n=t.tenantPath,i=a.TabletId,o=e.getSchemeShard(),s=[{label:"Database",value:n},e.hasHiveId()?{label:"HiveId",value:Object(da.jsx)(Xr.a,{href:qr(Gr.tablet,{id:a.HiveId}),target:"_blank",children:a.HiveId})}:null,o?{label:"SchemeShard",value:Object(da.jsx)(Xr.a,{href:qr(Gr.tablet,{id:o}),target:"_blank",children:o})}:null,{label:"Type",value:a.Type},{label:"State",value:a.State},e.hasUptime()?{label:"Uptime",value:Me(a.ChangeTime)}:null,{label:"Generation",value:a.Generation},{label:"Node",value:Object(da.jsx)(Jr.a,{className:jh("link"),to:qr(Gr.node,{id:String(a.NodeId),activeTab:"storage"}),children:a.NodeId})}].filter(Boolean);(a.SlaveId||a.FollowerId)&&s.push({label:"Follower",value:a.SlaveId||a.FollowerId});var c=[{name:"Internal viewer - tablet",path:"/tablets?TabletID=".concat(i)}];return Object(da.jsxs)("div",{className:jh(),children:[Object(da.jsxs)("div",{className:jh("pane-wrapper"),children:[Object(da.jsxs)("div",{className:jh("left-pane"),children:[Object(da.jsx)("ul",{className:jh("links"),children:c.map(e.renderExternalLinks)}),Object(da.jsxs)("div",{className:jh("row",{header:!0}),children:[Object(da.jsx)("span",{className:jh("title"),children:"Tablet"}),Object(da.jsx)(ai,{status:a.Overall,name:a.TabletId}),Object(da.jsx)("a",{rel:"noopener noreferrer",className:jh("link",{external:!0}),href:"".concat(Er,"/tablets?TabletID=").concat(a.TabletId),target:"_blank",children:Object(da.jsx)(xi,{name:"external"})}),(a.Master||a.Leader)&&Object(da.jsx)(Bi,{text:"Leader",type:"blue"})]}),Object(da.jsx)(Ri,{info:s}),Object(da.jsxs)("div",{className:jh("controls"),children:[Object(da.jsx)(Wr.a,{onClick:e.showKillDialog,view:"action",disabled:e.isDisabledKill(),className:jh("control"),children:"Kill"}),e.hasHiveId()?Object(da.jsxs)(r.a.Fragment,{children:[Object(da.jsx)(Wr.a,{onClick:e.showStopDialog,view:"action",disabled:e.isDisabledStop(),className:jh("control"),children:"Stop"}),Object(da.jsx)(Wr.a,{onClick:e.showResumeDialog,view:"action",disabled:e.isDisabledResume(),className:jh("control"),children:"Resume"})]}):null]})]}),Object(da.jsx)("div",{className:jh("rigth-pane"),children:Object(da.jsx)(R.a,{data:e.props.history,columns:bh,settings:vh,initialSortOrder:{columnId:"generation",order:R.a.DESCENDING}})})]}),e.renderDialog()]})},e.renderContent=function(){var t=e.props.tablet;return t&&Object.keys(t).length?e.renderTablet():e.renderPlaceholder()},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.fetchTabletInfo()}},{key:"componentDidUpdate",value:function(e){this.props.version&&!e.version&&this.fetchTabletInfo()}},{key:"componentWillUnmount",value:function(){this.fetcher&&clearInterval(this.fetcher)}},{key:"renderLoader",value:function(){return Object(da.jsx)("div",{className:"loader",children:Object(da.jsx)(Yr.a,{size:"l"})})}},{key:"renderPlaceholder",value:function(){return Object(da.jsx)("div",{className:jh("placeholder"),children:Object(da.jsx)(uh,{title:"The tablet was not found"})})}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.tabletId,n=e.id,r=this.state.isFirstFetchData;return this.isValidVersion()?t&&n!==a&&r?this.renderLoader():this.renderContent():null}}]),a}(r.a.Component),mh={getTablet:function(e){return fe({request:Promise.all([window.api.getTablet({id:e}),window.api.getTabletHistory({id:e})]),actions:$a,dataHandler:function(e){var t=Object(Oe.a)(e,2),a=t[0],n=t[1],r=Object.keys(n).reduce((function(e,t){var a,r=null===(a=n[t])||void 0===a?void 0:a.TabletStateInfo;if(r&&r.length){var i=L.a.find(r,(function(e){return e.Master||e.Leader}))||r[0],o=i.ChangeTime,s=i.Generation,c=i.State,l=i.Master,d=i.SlaveId,u=i.Leader,h=i.FollowerId;e.push({nodeId:t,generation:s,changeTime:o,state:c,leader:l||u,followerId:d||h})}return e}),[]),i=a.TabletStateInfo,o=void 0===i?[]:i,s=Object(Oe.a)(o,1)[0];return{tablet:void 0===s?{}:s,history:r}}})},getTabletDescribe:function(e){return fe({request:window.api.getTabletDescribe(e),actions:en,dataHandler:function(t){var a=e.SchemeShard,n=e.PathId;return{tenantPath:t.Path||"".concat(a,":").concat(n)}}})}},Oh=Object(u.b)((function(e,t){var a=e.tablet,n=a.data,r=void 0===n?{}:n,i=a.loading,o=a.id,s=a.history,c=void 0===s?[]:s,l=a.tenantPath;return{tablet:r,loading:i,id:t.match.params.id,tabletId:o,history:c,version:e.host.data.Version,tenantPath:l}}),mh)(fh),gh=(a(934),b()("tablets-filters")),Ch=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={nodeFilter:[],tenantPath:""},e.reloadDescriptor=-1,e.makeRequest=function(){var t=e.state,a=t.nodeFilter,n=t.tenantPath;e.props.getTabletsInfo({nodes:a,path:[n]})},e.getTablets=function(){var t=e.props.timeoutForRequest;clearInterval(e.reloadDescriptor),e.reloadDescriptor=setTimeout((function(){e.makeRequest(),e.reloadDescriptor=-1}),t)},e.handleNodeFilterChange=function(t){e.setState({nodeFilter:t},(function(){e.props.clearWasLoadingFlag(),e.makeRequest()}))},e.handleStateFilterChange=function(t){(0,e.props.setStateFilter)(t)},e.handleTypeFilterChange=function(t){(0,e.props.setTypeFilter)(t)},e.renderTablet=function(t,a){var n=e.props,r=n.filteredTablets,i=n.hideTooltip,o=n.showTooltip,s=n.size;return Object(da.jsx)(io,{onMouseLeave:i,onMouseEnter:o,tablet:r[t],size:s,className:gh("tablet")},a)},e.renderContent=function(){var t=e.state,a=t.nodeFilter,n=t.tenantPath,r=e.props,i=r.tablets,o=r.filteredTablets,s=r.nodes,c=r.stateFilter,l=r.typeFilter,d=r.error,u=U.map((function(e){return{value:e,content:e}})),h=Array.from(Object(eo.a)(Set,[L.a.map(i,(function(e){return e.Type}))])).map((function(e){return{value:e,content:e}})),p=L.a.map(s,(function(e){return{content:e.Id,value:e.Id,meta:e.Host}}));return Object(da.jsxs)("div",{className:gh(),children:[Object(da.jsxs)("div",{className:gh("tenant"),children:[Object(da.jsx)("span",{className:gh("label"),children:"Database: "})," ",n]}),Object(da.jsx)(yh,{nodesForSelect:p,nodeFilter:a,onChangeNodes:e.handleNodeFilterChange,states:u,stateFilter:c,onChangeStates:e.handleStateFilterChange,types:h,typeFilter:l,onChangeTypes:e.handleTypeFilterChange}),d&&Object(da.jsx)("div",{className:"error",children:d}),o.length>0?Object(da.jsx)("div",{className:gh("items"),children:Object(da.jsx)(co.a,{itemRenderer:e.renderTablet,length:o.length,type:"uniform"})}):!d&&Object(da.jsx)("div",{className:gh("empty-message"),children:"no tablets"})]})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.setStateFilter,r=t.setTypeFilter,i=g.a.parse(this.props.location.search,{ignoreQueryPrefix:!0}),o=i.nodeIds,s=i.type,c=i.path,l=i.state,d=a.parseNodes(o);n(a.getStateFiltersFromColor(l)),r([s]),this.setState({nodeFilter:d,tenantPath:c},(function(){e.makeRequest()}))}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.loading,n=t.error;!n&&e.path&&this.props.path&&e.path!==this.props.path&&(this.props.clearWasLoadingFlag(),this.getTablets()),n||a||-1!==this.reloadDescriptor||this.getTablets()}},{key:"componentWillUnmount",value:function(){clearInterval(this.reloadDescriptor)}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.wasLoaded,r=e.error;return t&&!n?a.renderLoader():r&&"object"===typeof r?Object(da.jsx)("div",{children:r.statusText}):this.renderContent()}}],[{key:"renderLoader",value:function(){return Object(da.jsx)("div",{className:"loader",children:Object(da.jsx)(Yr.a,{size:"l"})})}}]),a}(r.a.Component);Ch.parseNodes=function(e){if(Array.isArray(e))return e.map(Number).filter(Number.isInteger)},Ch.getStateFiltersFromColor=function(e){return _[e]||[e]},Ch.CONTROL_WIDTH=220,Ch.POPUP_WIDTH=300;var xh=function(e){var t=e.nodesForSelect,a=e.nodeFilter,n=e.onChangeNodes,r=e.states,i=e.stateFilter,o=e.onChangeStates,s=e.types,c=e.typeFilter,l=e.onChangeTypes;return Object(da.jsxs)("div",{className:gh("filters"),children:[Object(da.jsx)("div",{className:gh("filter-wrapper"),children:Object(da.jsx)(oo.a,{multiple:!0,label:"Node ID",showApply:!0,showItemMeta:!0,width:Ch.CONTROL_WIDTH,popupWidth:Ch.POPUP_WIDTH,placeholder:"All",options:t,value:a,onUpdate:n,renderOption:function(e){return Object(da.jsxs)("div",{className:gh("node"),children:[Object(da.jsx)("div",{children:e.content}),Object(da.jsx)("div",{className:gh("node-meta"),children:e.meta})]})},getOptionHeight:function(){return 40}})}),Object(da.jsx)("div",{className:gh("filter-wrapper"),children:Object(da.jsx)(oo.a,{multiple:!0,label:"multiple",showApply:!0,width:Ch.CONTROL_WIDTH,placeholder:"All",options:r,value:i,onUpdate:o})}),Object(da.jsx)("div",{className:gh("filter-wrapper"),children:Object(da.jsx)(oo.a,{multiple:!0,label:"Types",showApply:!0,width:Ch.CONTROL_WIDTH,placeholder:"All",options:s,value:c,onUpdate:l})})]})},yh=r.a.memo(xh,(function(e,t){return L.a.isEqual(e.nodeFilter,t.nodeFilter)&&L.a.isEqual(e.stateFilter,t.stateFilter)&&L.a.isEqual(e.typeFilter,t.typeFilter)})),Nh={getTabletsInfo:function(e){return fe({request:Promise.all([window.api.getTabletsInfo(e),window.api.getNodesList()]),actions:Ln})},hideTooltip:wa,showTooltip:Sa,clearWasLoadingFlag:function(){return{type:"CLEAR_WAS_LOADING_TABLETS"}},setStateFilter:function(e){return{type:"SET_STATE_FILTER",data:e}},setTypeFilter:function(e){return{type:"SET_TYPE_FILTER",data:e}}},wh=Object(u.b)((function(e){var t=e.tabletsFilters,a=t.nodes,n=t.wasLoaded,r=t.loading,i=t.timeoutForRequest,o=t.stateFilter,s=t.typeFilter,c=t.error;return{tablets:In(e),filteredTablets:Mn(e),nodes:a,timeoutForRequest:i,wasLoaded:n,loading:r,stateFilter:o,typeFilter:s,error:c}}),Nh)(Ch),Sh=a(976);a(935);var kh=Object(u.b)((function(e){var t=e.tooltip,a=t.toolTipVisible,n=t.currentHoveredRef,r=t.data,i=t.template,o=t.additionalData;return{toolTipVisible:a,currentHoveredRef:n,data:r,template:i,additionalData:o,positions:t.positions,popupClassName:(o||{}).popupClassName}}),{hideTooltip:wa})((function(e){var t,a,i=Object(Sh.a)({rect:{top:null===(t=e.positions)||void 0===t?void 0:t.top,left:null===(a=e.positions)||void 0===a?void 0:a.left}});Object(n.useEffect)((function(){return window.addEventListener("scroll",o,!0),function(){window.removeEventListener("scroll",o)}}),[]);var o=function(){var t=e.hideTooltip;e.toolTipVisible&&setTimeout((function(){return t()}),500)},s=e.className,c=void 0===s?"":s,l=e.toolTipVisible,d=e.currentHoveredRef,u=e.data,h=e.additionalData,p=e.positions;return Object(da.jsx)("div",{className:"redux-tooltip ".concat(c),children:p?function(t,a,n,o){var s=e.template,c=e.popupClassName,l=e.hideTooltip;return Object(da.jsx)(r.a.Fragment,{children:Object(da.jsx)(Oo.a,{open:t,placement:["top","bottom","left","right"],className:c,anchorRef:i,onOutsideClick:l,children:n&&s(n,o)})})}(l,0,u,h):function(t,a,n,r){var i=e.template,o=e.popupClassName,s=e.hideTooltip;return Object(da.jsx)(Oo.a,{open:t,anchorRef:{current:a},hasArrow:!0,placement:["top","bottom","left","right"],className:o,onOutsideClick:s,children:n&&i(n,r)})}(l,d,u,h)})})),Th=(a(936),b()("header"));function Lh(e){var t=e.name;return Object(da.jsxs)("div",{className:Th("cluster-info"),children:[Object(da.jsx)("div",{className:Th("cluster-info-title"),children:"cluster"}),Object(da.jsx)("div",{className:Th("cluster-info-name"),children:t})]})}var Eh,Ih,Mh=function(){var e=Object(u.c)(),t=Object(u.d)((function(e){return e.host})).data,a=Object(u.d)((function(e){return e})),i=a.singleClusterMode,o=a.header,s=Object(u.d)((function(e){var t;return(null===(t=e.cluster.data)||void 0===t?void 0:t.Name)||e.clusterInfo.title})),c=Object(j.h)(),l=Object(j.g)(),d=c.pathname;return Object(n.useEffect)((function(){d.includes("/clusters")||s||i||e(Ut(Mr)),e(fe({request:window.api.getHostInfo(),actions:za}))}),[]),function(){var e=i?t.ClusterName:s,a=Er+"/internal";i&&!Fr&&(a="/internal");var n=o.reduce((function(e,t){return e.push({text:t.text,action:function(){return l.push(t.link)}}),e}),[]);return Object(da.jsxs)("header",{className:Th(),children:[Object(da.jsx)("div",{children:Object(da.jsx)(Mu.a,{items:n,lastDisplayedItemsCount:1,firstDisplayedItemsCount:1})}),Object(da.jsxs)("div",{className:Th("cluster-name-wrapper"),children:[Object(da.jsxs)(Xr.a,{href:a,target:"_blank",children:["Internal viewer"," ",Object(da.jsx)(xi,{name:"external",viewBox:"0 0 16 16",width:16,height:16})]}),e&&Object(da.jsxs)(r.a.Fragment,{children:[Object(da.jsx)("div",{className:Th("divider"),children:Object(da.jsx)(Sc,{})}),Object(da.jsx)(Lh,{name:e})]})]})]})}()},Ph=function(){return Object(da.jsx)("svg",{width:"0",height:"0",children:Object(da.jsxs)("defs",{children:[Object(da.jsx)("path",{id:"icon.tablePreview",d:"M13.2812 2.4375H2.71875C2.0332 2.4375 1.5 2.99609 1.5 3.65625V12.5938C1.5 13.2793 2.0332 13.8125 2.71875 13.8125H13.2812C13.9414 13.8125 14.5 13.2793 14.5 12.5938V3.65625C14.5 2.99609 13.9414 2.4375 13.2812 2.4375ZM7.1875 12.1875H3.125V9.75H7.1875V12.1875ZM7.1875 8.125H3.125V5.6875H7.1875V8.125ZM12.875 12.1875H8.8125V9.75H12.875V12.1875ZM12.875 8.125H8.8125V5.6875H12.875V8.125Z"}),Object(da.jsx)("path",{id:"icon.close",fillRule:"evenodd",clipRule:"evenodd",d:"M12.7559 11.5774C13.0814 11.9028 13.0814 12.4305 12.7559 12.7559C12.4305 13.0814 11.9028 13.0814 11.5774 12.7559L8 9.17851L4.42259 12.7559C4.09715 13.0814 3.56951 13.0814 3.24408 12.7559C2.91864 12.4305 2.91864 11.9028 3.24408 11.5774L6.82149 8L3.24408 4.42259C2.91864 4.09715 2.91864 3.56951 3.24408 3.24408C3.56951 2.91864 4.09715 2.91864 4.42259 3.24408L8 6.82149L11.5774 3.24408C11.9028 2.91864 12.4305 2.91864 12.7559 3.24408C13.0814 3.56951 13.0814 4.09715 12.7559 4.42259L9.17851 8L12.7559 11.5774Z"}),Object(da.jsx)("path",{id:"icon.enableFullscreen",d:"M2.3125 6.19531C2.3125 6.37305 2.43945 6.5 2.61719 6.5H3.63281C3.78516 6.5 3.9375 6.37305 3.9375 6.19531V4.0625H6.07031C6.22266 4.0625 6.375 3.93555 6.375 3.75781V2.74219C6.375 2.58984 6.22266 2.4375 6.07031 2.4375H2.92188C2.56641 2.4375 2.3125 2.7168 2.3125 3.04688V6.19531ZM9.625 2.74219V3.75781C9.625 3.93555 9.75195 4.0625 9.92969 4.0625H12.0625V6.19531C12.0625 6.37305 12.1895 6.5 12.3672 6.5H13.3828C13.5352 6.5 13.6875 6.37305 13.6875 6.19531V3.04688C13.6875 2.7168 13.4082 2.4375 13.0781 2.4375H9.92969C9.75195 2.4375 9.625 2.58984 9.625 2.74219ZM13.3828 9.75H12.3672C12.1895 9.75 12.0625 9.90234 12.0625 10.0547V12.1875H9.92969C9.75195 12.1875 9.625 12.3398 9.625 12.4922V13.5078C9.625 13.6855 9.75195 13.8125 9.92969 13.8125H13.0781C13.4082 13.8125 13.6875 13.5586 13.6875 13.2031V10.0547C13.6875 9.90234 13.5352 9.75 13.3828 9.75ZM6.375 13.5078V12.4922C6.375 12.3398 6.22266 12.1875 6.07031 12.1875H3.9375V10.0547C3.9375 9.90234 3.78516 9.75 3.63281 9.75H2.61719C2.43945 9.75 2.3125 9.90234 2.3125 10.0547V13.2031C2.3125 13.5586 2.56641 13.8125 2.92188 13.8125H6.07031C6.22266 13.8125 6.375 13.6855 6.375 13.5078Z"}),Object(da.jsx)("path",{id:"icon.disableFullscreen",d:"M13.3828 6.5C13.5352 6.5 13.6875 6.37305 13.6875 6.19531V5.17969C13.6875 5.02734 13.5352 4.875 13.3828 4.875H11.25V2.74219C11.25 2.58984 11.0977 2.4375 10.9453 2.4375H9.92969C9.75195 2.4375 9.625 2.58984 9.625 2.74219V5.89062C9.625 6.24609 9.87891 6.5 10.2344 6.5H13.3828ZM6.375 5.89062V2.74219C6.375 2.58984 6.22266 2.4375 6.07031 2.4375H5.05469C4.87695 2.4375 4.75 2.58984 4.75 2.74219V4.875H2.61719C2.43945 4.875 2.3125 5.02734 2.3125 5.17969V6.19531C2.3125 6.37305 2.43945 6.5 2.61719 6.5H5.76562C6.0957 6.5 6.375 6.24609 6.375 5.89062ZM6.375 13.5078V10.3594C6.375 10.0293 6.0957 9.75 5.76562 9.75H2.61719C2.43945 9.75 2.3125 9.90234 2.3125 10.0547V11.0703C2.3125 11.248 2.43945 11.375 2.61719 11.375H4.75V13.5078C4.75 13.6855 4.87695 13.8125 5.05469 13.8125H6.07031C6.22266 13.8125 6.375 13.6855 6.375 13.5078ZM11.25 13.5078V11.375H13.3828C13.5352 11.375 13.6875 11.248 13.6875 11.0703V10.0547C13.6875 9.90234 13.5352 9.75 13.3828 9.75H10.2344C9.87891 9.75 9.625 10.0293 9.625 10.3594V13.5078C9.625 13.6855 9.75195 13.8125 9.92969 13.8125H10.9453C11.0977 13.8125 11.25 13.6855 11.25 13.5078Z"}),Object(da.jsx)("path",{id:"icon.copy",d:"M10.4375 13H6.17188C5.38477 13 4.75 12.3652 4.75 11.5781V4.0625H2.92188C2.56641 4.0625 2.3125 4.3418 2.3125 4.67188V14.0156C2.3125 14.3711 2.56641 14.625 2.92188 14.625H9.82812C10.1582 14.625 10.4375 14.3711 10.4375 14.0156V13ZM10.4375 4.26562V1.625H6.17188C5.81641 1.625 5.5625 1.9043 5.5625 2.23438V11.5781C5.5625 11.9336 5.81641 12.1875 6.17188 12.1875H13.0781C13.4082 12.1875 13.6875 11.9336 13.6875 11.5781V4.875H11.0469C10.6914 4.875 10.4375 4.62109 10.4375 4.26562ZM13.4844 3.47852L11.834 1.82812C11.7324 1.72656 11.5293 1.625 11.4023 1.625H11.25V4.0625H13.6875V3.91016C13.6875 3.7832 13.5859 3.58008 13.4844 3.47852Z"}),Object(da.jsx)("path",{id:"icon.failure",d:"M336.1 175c-9.375-9.375-24.56-9.375-33.94 0L256 222.1L208.1 175c-9.375-9.375-24.56-9.375-33.94 0s-9.375 24.56 0 33.94l47.03 47.03L175 303c-9.375 9.375-9.375 24.56 0 33.94c9.373 9.373 24.56 9.381 33.94 0L256 289.9l47.03 47.03c9.373 9.373 24.56 9.381 33.94 0c9.375-9.375 9.375-24.56 0-33.94l-47.03-47.03l47.03-47.03C346.3 199.6 346.3 184.4 336.1 175zM256 0C114.6 0 0 114.6 0 256s114.6 256 256 256S512 397.4 512 256S397.4 0 256 0zM256 464c-114.7 0-208-93.31-208-208S141.3 48 256 48s208 93.31 208 208S370.7 464 256 464z"}),Object(da.jsx)("path",{id:"icon.success",d:"M8 0.25C3.71875 0.25 0.25 3.75 0.25 8C0.25 12.2812 3.71875 15.75 8 15.75C12.25 15.75 15.75 12.2812 15.75 8C15.75 3.75 12.25 0.25 8 0.25ZM8 1.75C11.4375 1.75 14.25 4.5625 14.25 8C14.25 11.4688 11.4375 14.25 8 14.25C4.53125 14.25 1.75 11.4688 1.75 8C1.75 4.5625 4.53125 1.75 8 1.75ZM12.375 5.84375L11.6562 5.125C11.5312 4.96875 11.2812 4.96875 11.125 5.125L6.71875 9.5L4.84375 7.625C4.6875 7.46875 4.46875 7.46875 4.3125 7.625L3.59375 8.3125C3.46875 8.46875 3.46875 8.71875 3.59375 8.84375L6.4375 11.7188C6.59375 11.875 6.8125 11.875 6.96875 11.7188L12.375 6.375C12.5 6.21875 12.5 5.96875 12.375 5.84375Z"}),Object(da.jsx)("path",{id:"icon.startPlay",d:"M4 2.99383V13.0072C3.99999 13.359 4.1862 13.6846 4.48948 13.863C4.79276 14.0413 5.16779 14.0459 5.47529 13.8749L14.4869 8.8682C14.8019 8.69306 14.9973 8.36093 14.9973 8.0005C14.9973 7.64006 14.8019 7.30794 14.4869 7.13279L5.47529 2.12513C5.16764 1.95405 4.79239 1.95868 4.48905 2.13729C4.18571 2.31591 3.99963 2.64181 4 2.99383Z"}),Object(da.jsx)("path",{id:"icon.collapse",d:"M54.63 246.6L192 109.3l137.4 137.4C335.6 252.9 343.8 256 352 256s16.38-3.125 22.62-9.375c12.5-12.5 12.5-32.75 0-45.25l-160-160c-12.5-12.5-32.75-12.5-45.25 0l-160 160c-12.5 12.5-12.5 32.75 0 45.25S42.13 259.1 54.63 246.6zM214.6 233.4c-12.5-12.5-32.75-12.5-45.25 0l-160 160c-12.5 12.5-12.5 32.75 0 45.25s32.75 12.5 45.25 0L192 301.3l137.4 137.4C335.6 444.9 343.8 448 352 448s16.38-3.125 22.62-9.375c12.5-12.5 12.5-32.75 0-45.25L214.6 233.4z"}),Object(da.jsx)("path",{id:"icon.query",fill:"currentColor",d:"M13.6875 12.5938V3.65625C13.6875 2.99609 13.1289 2.4375 12.4688 2.4375H3.53125C2.8457 2.4375 2.3125 2.99609 2.3125 3.65625V12.5938C2.3125 13.2793 2.8457 13.8125 3.53125 13.8125H12.4688C13.1289 13.8125 13.6875 13.2793 13.6875 12.5938ZM5.15625 6.5C4.92773 6.5 4.75 6.32227 4.75 6.09375V5.28125C4.75 5.07812 4.92773 4.875 5.15625 4.875H8.40625C8.60938 4.875 8.8125 5.07812 8.8125 5.28125V6.09375C8.8125 6.32227 8.60938 6.5 8.40625 6.5H5.15625ZM5.15625 8.9375C4.92773 8.9375 4.75 8.75977 4.75 8.53125V7.71875C4.75 7.51562 4.92773 7.3125 5.15625 7.3125H10.8438C11.0469 7.3125 11.25 7.51562 11.25 7.71875V8.53125C11.25 8.75977 11.0469 8.9375 10.8438 8.9375H5.15625ZM5.15625 11.375C4.92773 11.375 4.75 11.1973 4.75 10.9688V10.1562C4.75 9.95312 4.92773 9.75 5.15625 9.75H6.78125C6.98438 9.75 7.1875 9.95312 7.1875 10.1562V10.9688C7.1875 11.1973 6.98438 11.375 6.78125 11.375H5.15625Z"}),Object(da.jsx)("path",{id:"icon.diagnostics",fill:"currentColor",d:"M15.7188 7.3125H12.0625C11.7324 7.3125 11.4531 7.49023 11.3262 7.76953L10.6406 9.11523L8.76172 2.23438C8.66016 1.87891 8.33008 1.625 7.97461 1.65039C7.59375 1.65039 7.26367 1.9043 7.1875 2.28516L5.43555 10.4609L4.69922 7.92188C4.59766 7.56641 4.29297 7.3125 3.9375 7.3125H0.28125C0.0527344 7.3125 -0.125 7.51562 -0.125 7.71875V8.53125C-0.125 8.75977 0.0527344 8.9375 0.28125 8.9375H3.30273L4.77539 14.041C4.87695 14.3965 5.18164 14.625 5.53711 14.625C5.5625 14.625 5.5625 14.625 5.58789 14.625C5.94336 14.625 6.27344 14.3711 6.34961 13.9902L8.07617 5.89062L9.65039 11.6035C9.72656 11.9082 10.0312 12.1621 10.3359 12.1875C10.6914 12.2383 10.9961 12.0605 11.1484 11.7559L12.5449 8.9375H15.7188C15.9219 8.9375 16.125 8.75977 16.125 8.53125V7.71875C16.125 7.51562 15.9219 7.3125 15.7188 7.3125Z"}),Object(da.jsx)("path",{id:"icon.key",d:"M8 7H11V5H12V2H6.66C6.085 0.79 4.86 0 3.5 0C1.57 0 0 1.57 0 3.5C0 5.43 1.57 7 3.5 7C4.86 7 6.09 6.21 6.66 5H8V7ZM10 6H9V4H5.97L5.855 4.335C5.5 5.33 4.555 6 3.5 6C2.11929 6 1 4.88071 1 3.5C1 2.11929 2.11929 1 3.5 1C4.555 1 5.5 1.67 5.855 2.665L5.97 3H11V4H10V6ZM3.5 5C2.67157 5 2 4.32843 2 3.5C2 2.67157 2.67157 2 3.5 2C4.32843 2 5 2.67157 5 3.5C5 4.32843 4.32843 5 3.5 5ZM3 3.5C3 3.22386 3.22386 3 3.5 3C3.77614 3 4 3.22386 4 3.5C4 3.77614 3.77614 4 3.5 4C3.22386 4 3 3.77614 3 3.5Z"}),Object(da.jsx)("path",{id:"icon.new",d:"M6,2A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6M6,4H13V9H18V20H6V4Z"}),Object(da.jsx)("path",{id:"icon.subdomain",d:"M13.6875 3.50391C13.6875 2.46289 11.123 1.625 8 1.625C4.85156 1.625 2.3125 2.46289 2.3125 3.50391V4.64648C2.3125 5.6875 4.85156 6.5 8 6.5C11.123 6.5 13.6875 5.6875 13.6875 4.64648V3.50391ZM13.6875 6.09375C12.4434 6.95703 10.209 7.33789 8 7.33789C5.76562 7.33789 3.53125 6.95703 2.3125 6.09375V8.70898C2.3125 9.75 4.85156 10.5625 8 10.5625C11.123 10.5625 13.6875 9.75 13.6875 8.70898V6.09375ZM13.6875 10.1562C12.4434 11.0195 10.209 11.4004 8 11.4004C5.76562 11.4004 3.53125 11.0195 2.3125 10.1562V12.7715C2.3125 13.8125 4.85156 14.625 8 14.625C11.123 14.625 13.6875 13.8125 13.6875 12.7715V10.1562Z"}),Object(da.jsx)("path",{id:"icon.openFolder",d:"M15.2109 9.06445C15.4648 8.6582 15.1602 8.125 14.6777 8.125H4.54688C4.01367 8.125 3.37891 8.50586 3.125 8.9375L1.29688 12.0859C1.04297 12.4922 1.34766 13 1.83008 13H11.9609C12.4941 13 13.1289 12.6445 13.3828 12.2129L15.2109 9.06445ZM4.54688 7.3125H12.875V6.09375C12.875 5.43359 12.3164 4.875 11.6562 4.875H7.59375L5.96875 3.25H1.90625C1.2207 3.25 0.6875 3.80859 0.6875 4.46875V11.5527L2.43945 8.53125C2.87109 7.79492 3.6582 7.3125 4.54688 7.3125Z"}),Object(da.jsx)("path",{id:"icon.folder",d:"M13.2812 4.875H8.40625L6.78125 3.25H2.71875C2.0332 3.25 1.5 3.80859 1.5 4.46875V11.7812C1.5 12.4668 2.0332 13 2.71875 13H13.2812C13.9414 13 14.5 12.4668 14.5 11.7812V6.09375C14.5 5.43359 13.9414 4.875 13.2812 4.875Z"}),Object(da.jsx)("path",{id:"icon.table",d:"M13.2812 2.4375H2.71875C2.0332 2.4375 1.5 2.99609 1.5 3.65625V12.5938C1.5 13.2793 2.0332 13.8125 2.71875 13.8125H13.2812C13.9414 13.8125 14.5 13.2793 14.5 12.5938V3.65625C14.5 2.99609 13.9414 2.4375 13.2812 2.4375ZM7.1875 12.1875H3.125V9.75H7.1875V12.1875ZM7.1875 8.125H3.125V5.6875H7.1875V8.125ZM12.875 12.1875H8.8125V9.75H12.875V12.1875ZM12.875 8.125H8.8125V5.6875H12.875V8.125Z"}),Object(da.jsx)("path",{id:"icon.arrow-right",d:"M.786.194C.829.151.872.13.958.13c.064 0 .128.021.193.064l4.49 4.512c.043.043.086.108.086.172 0 .086-.043.129-.086.172l-4.49 4.512a.347.347 0 0 1-.194.064c-.085 0-.128-.021-.171-.064l-.43-.43C.29 9.089.27 9.046.27 8.96c0-.064.021-.129.086-.193l3.889-3.889L.355.99C.292.946.27.882.27.796.27.732.291.667.356.624z"}),Object(da.jsx)("path",{id:"icon.external",d:"M15.3125 2.00586C15.3125 1.80273 15.1348 1.625 14.9316 1.625L10.793 1.65039C10.5898 1.65039 10.4375 1.80273 10.4375 2.00586V2.84375C10.4375 3.04688 10.5898 3.22461 10.793 3.22461L12.6719 3.14844L12.7227 3.19922L5.63867 10.2832C5.51172 10.4102 5.51172 10.5879 5.63867 10.7148L6.22266 11.2988C6.34961 11.4258 6.52734 11.4258 6.6543 11.2988L13.7383 4.21484L13.7891 4.26562L13.7129 6.14453C13.7129 6.34766 13.8906 6.5 14.0938 6.5H14.9316C15.1348 6.5 15.2871 6.34766 15.2871 6.14453L15.3125 2.00586ZM11.5293 7.56641L10.9199 8.17578C10.8691 8.22656 10.8438 8.32812 10.8438 8.4043V13.2539C10.8438 13.3555 10.7676 13.4062 10.6914 13.4062H2.05859C1.95703 13.4062 1.90625 13.3555 1.90625 13.2539V4.62109C1.90625 4.54492 1.95703 4.46875 2.05859 4.46875H9.70117C9.98047 4.46875 10.1328 4.16406 9.92969 3.96094L9.32031 3.35156C9.26953 3.30078 9.16797 3.25 9.0918 3.25H1.90625C1.2207 3.25 0.6875 3.80859 0.6875 4.46875V13.4062C0.6875 14.0918 1.2207 14.625 1.90625 14.625H10.8438C11.5039 14.625 12.0625 14.0918 12.0625 13.4062V7.79492C12.0625 7.51562 11.7324 7.38867 11.5293 7.56641Z"}),Object(da.jsxs)("g",{id:"icon.network-placeholder",children:[Object(da.jsx)("path",{d:"M68.4597 2.52853V27.7564C68.4597 28.9827 69.3356 30.0339 70.562 30.2675C87.2054 33.2458 99.7025 48.0788 99.0601 65.715C98.4177 83.7599 83.7015 98.4177 65.715 99.1185C48.0788 99.7609 33.3042 87.2638 30.2675 70.6788C30.0339 69.4524 28.9827 68.5765 27.7564 68.5765H2.52853C1.01019 68.5765 -0.157769 69.8612 0.0174243 71.3212C3.4629 104.024 31.2603 129.427 64.9558 129.135C100.111 128.843 128.785 100.111 129.077 64.9558C129.369 31.2603 103.907 3.4629 71.2044 0.0174243C69.7444 -0.157769 68.4597 1.01019 68.4597 2.52853Z",fill:"#EBF2FA"}),Object(da.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.7358 18.3543L40.5472 36.1657C41.4231 37.0416 42.8247 37.1584 43.8758 36.3993C48.0221 33.3042 52.9275 31.2019 58.2417 30.2091C59.4681 29.9755 60.344 28.9827 60.344 27.698V2.52853C60.344 1.01019 59.0593 -0.157769 57.5409 0.0174243C44.4598 1.41897 32.4883 6.67478 22.911 14.6753C21.7431 15.6096 21.6847 17.3032 22.7358 18.3543ZM13.3334 24.4868C6.09205 33.8304 1.30343 45.1596 0.0186744 57.54C-0.156519 58.9999 1.06984 60.2846 2.52978 60.2846H27.6992C28.9256 60.2846 29.9768 59.4087 30.2103 58.1823C31.0279 53.5105 32.8382 49.1307 35.3494 45.3348C35.9917 44.342 35.8749 42.9989 35.0574 42.1229L17.1292 24.3116C16.0781 23.202 14.2677 23.3188 13.3334 24.4868ZM80.6078 131.879H113.603C115.471 131.879 116.99 133.397 117.048 135.324V200.555C117.048 202.482 115.471 204 113.603 204H80.6078C78.6807 204 77.1624 202.423 77.1624 200.555V135.324C77.1624 133.397 78.7391 131.879 80.6078 131.879ZM158.452 158.976H125.574C123.647 158.976 122.071 160.553 122.071 162.48V200.439C122.071 202.366 123.647 203.943 125.574 203.943H158.452C160.379 203.943 161.956 202.366 161.956 200.439V162.48C161.956 160.553 160.379 158.976 158.452 158.976ZM170.657 177.256H203.243C205.229 177.256 206.864 178.891 206.864 180.876V200.264C206.864 202.25 205.229 203.885 203.243 203.885H170.657C168.672 203.885 167.037 202.25 167.037 200.264V180.876C167.037 178.891 168.672 177.256 170.657 177.256Z",fill:"#EBF2FA"}),Object(da.jsx)("path",{d:"M134.275 171.532H21.2749C15.4351 171.532 10.6465 166.743 10.6465 160.903V87.6726C10.6465 81.8328 15.4351 77.0442 21.2749 77.0442H134.216C140.056 77.0442 144.845 81.8328 144.845 87.6726V160.903C144.903 166.802 140.114 171.532 134.275 171.532V171.532Z",fillRule:"evenodd",clipRule:"evenodd",stroke:"#2EE5C0",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),Object(da.jsx)("path",{d:"M21.6246 90.7687C23.3017 90.7687 24.6613 89.4091 24.6613 87.732C24.6613 86.0549 23.3017 84.6953 21.6246 84.6953C19.9475 84.6953 18.5879 86.0549 18.5879 87.732C18.5879 89.4091 19.9475 90.7687 21.6246 90.7687Z",fill:"#2EE5C0"}),Object(da.jsx)("path",{d:"M31.4937 90.7687C33.1708 90.7687 34.5304 89.4091 34.5304 87.732C34.5304 86.0549 33.1708 84.6953 31.4937 84.6953C29.8166 84.6953 28.457 86.0549 28.457 87.732C28.457 89.4091 29.8166 90.7687 31.4937 90.7687Z",fill:"#2EE5C0"}),Object(da.jsx)("path",{d:"M41.3629 90.7687C43.04 90.7687 44.3995 89.4091 44.3995 87.732C44.3995 86.0549 43.04 84.6953 41.3629 84.6953C39.6857 84.6953 38.3262 86.0549 38.3262 87.732C38.3262 89.4091 39.6857 90.7687 41.3629 90.7687Z",fill:"#2EE5C0"}),Object(da.jsx)("path",{d:"M10.8223 98.592H144.495",stroke:"#2EE5C0",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),Object(da.jsx)("path",{d:"M184.555 149.164L57.89 156.172C53.6269 156.406 50.123 153.135 50.123 148.872V51.1145C50.123 46.8514 53.6269 43.5812 57.89 43.8148L184.555 50.8225C187.825 50.9977 190.453 54.1512 190.453 57.8302V142.157C190.453 145.836 187.825 148.989 184.555 149.164Z",fill:"#027BF3"}),Object(da.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M65.1304 54.1512C65.1304 56.1368 63.5537 57.6551 61.5681 57.5383C59.5826 57.4799 58.0059 55.7864 58.0059 53.8009C58.0059 51.8153 59.641 50.297 61.5681 50.4138C63.4953 50.4722 65.1304 52.1657 65.1304 54.1512ZM76.6357 54.6174C76.6357 56.5445 75.059 58.0629 73.1319 58.0045C71.2047 57.9461 69.628 56.2525 69.628 54.3254C69.628 52.3983 71.2047 50.8799 73.1319 50.9383C75.059 51.0551 76.6357 52.6903 76.6357 54.6174ZM84.461 58.4718C86.3298 58.5886 87.8481 57.0702 87.8481 55.1431C87.8481 53.216 86.3298 51.5808 84.461 51.5224C82.5339 51.4056 81.0156 52.924 81.0156 54.8511C81.0156 56.7782 82.5923 58.4134 84.461 58.4718Z",fill:"white"}),Object(da.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M75.467 142.974V85.2772C71.496 84.7516 66.8826 84.8684 61.5684 85.9779V143.617L75.467 142.974ZM88.84 90.6509V142.45L77.7444 142.917V85.6871C82.0658 86.6214 85.6865 88.4318 88.84 90.6509ZM102.271 104.55C102.213 104.491 102.169 104.433 102.125 104.374C102.082 104.316 102.038 104.258 101.979 104.199C101.559 103.689 101.138 103.173 100.714 102.653L100.714 102.653C97.8391 99.1308 94.8401 95.4564 91.1759 92.4028V142.333L102.271 141.866V104.55ZM115.703 110.272C111.79 110.214 107.994 109.571 104.607 106.827V141.749L115.703 141.281V110.272ZM129.134 109.863C126.37 109.69 123.605 109.869 120.888 110.044L120.888 110.044L120.888 110.044C119.931 110.106 118.981 110.167 118.039 110.213V141.164L129.134 140.697V109.863ZM153.136 139.704L144.902 140.054V117.863C153.078 127.148 153.136 139.704 153.136 139.704ZM140.113 113.6C140.989 114.184 141.807 114.826 142.566 115.527V140.171L131.47 140.638V110.155C134.39 110.622 137.252 111.615 140.113 113.6Z",fill:"#00236B"}),Object(da.jsx)("path",{d:"M55.7449 76.4361C55.0549 77.2986 55.1947 78.5572 56.0573 79.2472C56.9198 79.9372 58.1784 79.7974 58.8684 78.9349L55.7449 76.4361ZM61.5113 72.4297L63.0863 71.1971C62.7095 70.7157 62.1333 70.433 61.522 70.4297C60.9107 70.4264 60.3314 70.7029 59.9495 71.1803L61.5113 72.4297ZM64.1409 79.0349C64.8217 79.9048 66.0787 80.0581 66.9485 79.3773C67.8184 78.6965 67.9717 77.4395 67.2909 76.5697L64.1409 79.0349ZM172.081 132.537C171.218 131.847 169.96 131.987 169.27 132.849C168.58 133.712 168.719 134.97 169.582 135.66L172.081 132.537ZM176.087 138.303L177.301 139.893C177.79 139.52 178.08 138.942 178.087 138.326C178.094 137.711 177.817 137.126 177.337 136.742L176.087 138.303ZM169.443 140.86C168.565 141.53 168.396 142.785 169.067 143.663C169.737 144.541 170.992 144.71 171.87 144.039L169.443 140.86ZM58.8684 78.9349L63.073 73.6791L59.9495 71.1803L55.7449 76.4361L58.8684 78.9349ZM59.9363 73.6623L64.1409 79.0349L67.2909 76.5697L63.0863 71.1971L59.9363 73.6623ZM169.582 135.66L174.838 139.865L177.337 136.742L172.081 132.537L169.582 135.66ZM174.874 136.714L169.443 140.86L171.87 144.039L177.301 139.893L174.874 136.714Z",fill:"white"}),Object(da.jsx)("path",{d:"M147.137 69.1464C146.033 69.1053 145.105 69.9668 145.064 71.0706C145.023 72.1744 145.884 73.1025 146.988 73.1436L147.137 69.1464ZM176.771 74.2532C177.875 74.2943 178.803 73.4328 178.844 72.329C178.885 71.2252 178.024 70.2971 176.92 70.256L176.771 74.2532ZM147.114 79.6573C146.01 79.6291 145.092 80.5015 145.064 81.6057C145.036 82.7099 145.908 83.6278 147.012 83.656L147.114 79.6573ZM176.795 84.4152C177.899 84.4433 178.817 83.571 178.846 82.4668C178.874 81.3626 178.001 80.4446 176.897 80.4165L176.795 84.4152ZM147.075 90.3435C145.97 90.337 145.07 91.2271 145.063 92.3317C145.057 93.4362 145.947 94.3369 147.052 94.3434L147.075 90.3435ZM176.834 94.5186C177.939 94.5251 178.84 93.635 178.846 92.5304C178.853 91.4258 177.962 90.5252 176.858 90.5187L176.834 94.5186ZM146.988 73.1436L176.771 74.2532L176.92 70.256L147.137 69.1464L146.988 73.1436ZM147.012 83.656L176.795 84.4152L176.897 80.4165L147.114 79.6573L147.012 83.656ZM147.052 94.3434L176.834 94.5186L176.858 90.5187L147.075 90.3435L147.052 94.3434Z",fill:"white"}),Object(da.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M143.442 71.2024C143.442 72.604 142.274 73.7135 140.872 73.6551C139.471 73.5967 138.303 72.3704 138.303 70.9688C138.303 69.5673 139.471 68.3993 140.872 68.5161C142.332 68.5745 143.442 69.8009 143.442 71.2024ZM143.443 81.5981C143.443 82.9996 142.275 84.1092 140.873 84.0508C139.472 83.9924 138.304 82.766 138.304 81.3645C138.304 79.9045 139.472 78.795 140.873 78.9118C142.333 78.9702 143.443 80.1965 143.443 81.5981ZM140.873 94.4457C142.275 94.5041 143.443 93.3945 143.443 91.993C143.443 90.5914 142.333 89.3651 140.873 89.3067C139.472 89.1899 138.304 90.3578 138.304 91.7594C138.304 93.1609 139.472 94.3873 140.873 94.4457Z",fill:"white"}),Object(da.jsx)("path",{opacity:"0.2",d:"M190.452 91.8753V57.771C190.452 54.0919 187.824 50.9385 184.553 50.7633L160.902 49.4785C159.793 52.8656 159.15 56.5447 159.15 60.4573C159.15 78.0934 171.94 92.2841 187.24 92.1089C188.291 92.1673 189.4 92.0505 190.452 91.8753Z",fill:"#00236B"}),Object(da.jsx)("path",{d:"M220.645 58.8832C220.645 42.2982 209.024 28.1076 194.191 27.2316C178.891 26.3556 166.102 39.9039 166.102 57.5401C166.102 75.1762 178.891 89.3669 194.191 89.1917C209.024 89.0749 220.645 75.4682 220.645 58.8832Z",fill:"#FF4645"}),Object(da.jsx)("path",{d:"M215.329 40.3719C210.541 32.897 202.949 27.758 194.189 27.2324V58.2417L215.329 40.3719Z",fill:"#FFCC00"}),Object(da.jsx)("path",{d:"M215.329 40.3721L194.189 58.2418L220.644 58.8842C220.644 51.9932 218.658 45.5695 215.329 40.3721V40.3721Z",fill:"#00236B"}),Object(da.jsx)("path",{d:"M194.248 58.2408V27.2316C178.947 26.3556 166.158 39.9039 166.158 57.5401L194.248 58.2408Z",fill:"#FF4645"}),Object(da.jsx)("path",{d:"M161.151 14.7336C161.151 13.6291 160.256 12.7336 159.151 12.7336C158.047 12.7336 157.151 13.6291 157.151 14.7336H161.151ZM157.151 18.9383C157.151 20.0429 158.047 20.9383 159.151 20.9383C160.256 20.9383 161.151 20.0429 161.151 18.9383H157.151ZM161.151 27.8138C161.151 26.7093 160.256 25.8138 159.151 25.8138C158.047 25.8138 157.151 26.7093 157.151 27.8138H161.151ZM157.151 32.3689C157.151 33.4734 158.047 34.3689 159.151 34.3689C160.256 34.3689 161.151 33.4734 161.151 32.3689H157.151ZM167.97 25.5526C169.074 25.5526 169.97 24.6572 169.97 23.5526C169.97 22.4481 169.074 21.5526 167.97 21.5526V25.5526ZM163.707 21.5526C162.602 21.5526 161.707 22.4481 161.707 23.5526C161.707 24.6572 162.602 25.5526 163.707 25.5526V21.5526ZM154.538 25.5526C155.643 25.5526 156.538 24.6572 156.538 23.5526C156.538 22.4481 155.643 21.5526 154.538 21.5526V25.5526ZM150.275 21.5526C149.171 21.5526 148.275 22.4481 148.275 23.5526C148.275 24.6572 149.171 25.5526 150.275 25.5526V21.5526ZM157.151 14.7336V18.9383H161.151V14.7336H157.151ZM157.151 27.8138V32.3689H161.151V27.8138H157.151ZM167.97 21.5526H163.707V25.5526H167.97V21.5526ZM154.538 21.5526H150.275V25.5526H154.538V21.5526Z",fill:"#2EE5C0"})]}),Object(da.jsxs)("g",{id:"icon.404",children:[Object(da.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M307.333 168.43C316.733 154.23 321.433 135.83 321.433 113.13C321.433 78.7305 309.733 51.2305 286.133 30.9305C262.733 10.4305 223.133 0.230469 179.433 0.230469C166.333 0.230469 155.333 1.13047 144.633 2.93047C133.933 4.73047 124.533 6.83047 116.433 9.23047C111.033 10.8305 100.333 14.9305 93.1334 17.8305C89.0334 19.5305 86.2334 23.8305 86.2334 28.6305V68.1305C86.2334 76.3305 94.0334 81.9305 101.133 78.6305C101.749 78.3525 102.352 78.0786 102.939 77.8124C105.306 76.738 107.391 75.7915 108.833 75.2305C114.533 72.9305 121.233 71.0305 128.933 69.4305C136.633 67.8305 145.233 67.0305 154.633 67.0305C176.833 67.0305 197.733 72.0305 206.933 81.9305C216.133 91.9305 220.733 104.43 220.733 119.43C220.733 132.43 218.033 143.53 212.533 152.63C207.033 161.73 199.433 170.63 189.633 179.13C181.733 186.03 174.433 192.63 167.633 198.93C160.833 205.23 155.033 212.13 150.133 219.63C145.233 227.13 141.433 235.63 138.833 244.93C137.233 250.53 136.133 265.23 135.533 275.93C135.233 282.53 140.033 288.13 146.233 288.13H197.433C202.833 288.13 207.433 283.73 208.033 277.93C208.633 272.23 210.033 265.43 213.533 260.13C217.533 254.23 222.233 248.33 228.233 242.83C234.233 237.33 241.233 231.83 249.133 226.13C257.133 220.53 265.333 214.03 274.033 206.73C286.833 195.33 297.933 182.63 307.333 168.43ZM139.733 381.13C148.733 390.63 159.833 395.33 173.133 395.33C179.433 395.33 185.533 394.03 191.333 391.33C197.133 388.73 202.233 385.33 206.533 381.03C210.833 376.73 214.233 371.63 216.733 365.83C219.233 360.03 220.433 353.73 220.433 346.83C220.433 340.03 219.233 333.63 216.733 327.83C214.233 322.03 210.833 316.93 206.533 312.43C202.233 307.93 197.133 304.53 191.333 302.13C185.533 299.73 179.433 298.53 173.133 298.53C159.833 298.53 148.733 303.13 139.733 312.43C130.733 321.73 126.233 333.23 126.233 346.93C126.233 360.33 130.733 371.73 139.733 381.13Z",fill:"#ECF2F9"}),Object(da.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M213.933 353.03H20.4334C10.4334 353.03 2.2334 344.83 2.2334 334.83V209.43C2.2334 199.43 10.4334 191.23 20.4334 191.23H213.933C223.933 191.23 232.133 199.43 232.133 209.43V334.83C232.133 344.93 223.933 353.03 213.933 353.03Z",stroke:"#00E6C5",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"4 10"}),Object(da.jsx)("path",{d:"M21.0335 214.732C23.9054 214.732 26.2335 212.404 26.2335 209.532C26.2335 206.66 23.9054 204.332 21.0335 204.332C18.1616 204.332 15.8335 206.66 15.8335 209.532C15.8335 212.404 18.1616 214.732 21.0335 214.732Z",fill:"#2EE5C0"}),Object(da.jsx)("path",{d:"M37.9334 214.732C40.8053 214.732 43.1334 212.404 43.1334 209.532C43.1334 206.66 40.8053 204.332 37.9334 204.332C35.0615 204.332 32.7334 206.66 32.7334 209.532C32.7334 212.404 35.0615 214.732 37.9334 214.732Z",fill:"#2EE5C0"}),Object(da.jsx)("path",{d:"M54.8333 214.732C57.7052 214.732 60.0333 212.404 60.0333 209.532C60.0333 206.66 57.7052 204.332 54.8333 204.332C51.9614 204.332 49.6333 206.66 49.6333 209.532C49.6333 212.404 51.9614 214.732 54.8333 214.732Z",fill:"#2EE5C0"}),Object(da.jsx)("path",{d:"M2.5332 228.129H231.433",stroke:"#00E6C5",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"4 10",fill:"#FFFFFF"}),Object(da.jsx)("path",{d:"M301.033 264.83L84.1335 276.83C76.8335 277.23 70.8335 271.63 70.8335 264.33V96.9303C70.8335 89.6303 76.8335 84.0303 84.1335 84.4303L301.033 96.4303C306.633 96.7303 311.133 102.13 311.133 108.43V252.83C311.133 259.13 306.633 264.53 301.033 264.83Z",fill:"#027BF3"}),Object(da.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M90.4335 107.93C93.8335 108.13 96.5335 105.53 96.5335 102.13C96.5335 98.7296 93.8335 95.8296 90.4335 95.7296C87.1335 95.5296 84.3335 98.1296 84.3335 101.53C84.3335 104.93 87.0335 107.83 90.4335 107.93ZM110.233 108.728C113.533 108.828 116.233 106.228 116.233 102.928C116.233 99.6278 113.533 96.8278 110.233 96.6278C106.933 96.5278 104.233 99.1278 104.233 102.428C104.233 105.728 106.933 108.628 110.233 108.728ZM135.433 103.828C135.433 107.128 132.833 109.728 129.633 109.528C126.433 109.428 123.733 106.628 123.733 103.328C123.733 100.028 126.333 97.428 129.633 97.628C132.833 97.728 135.433 100.528 135.433 103.828ZM201.434 165.531L220.534 144.631L237.934 163.731L219.034 184.631L237.934 205.131L220.534 224.631L201.434 204.131L182.034 225.631L163.934 206.531L183.534 185.031L163.934 164.031L182.034 144.531L201.434 165.531Z",fill:"white"}),Object(da.jsx)("path",{d:"M327.433 112.83C327.433 84.4297 305.733 75.7297 293.933 74.9297C293.833 74.9297 260.433 77.2297 260.433 120.23C260.433 145.73 281.633 165.73 306.433 164.83C314.233 164.53 321.333 162.23 327.433 158.43V112.83Z",fill:"#67B0F8"}),Object(da.jsx)("path",{d:"M380.534 195.931C377.634 199.331 372.934 199.631 370.034 196.731L331.434 157.731L342.734 145.531L380.534 184.531C383.434 187.531 383.434 192.531 380.534 195.931Z",fill:"#FF4645"}),Object(da.jsx)("path",{d:"M342.833 145.629L331.533 157.829L335.233 161.529C337.133 163.429 340.133 163.529 342.033 161.729C343.133 160.729 344.233 159.629 345.233 158.529C345.833 157.829 346.533 157.129 347.133 156.429C348.733 154.529 348.633 151.629 346.833 149.829L342.833 145.629Z",fill:"#D93654"}),Object(da.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M267.633 154.13C244.633 132.729 244.633 96.8295 267.633 76.0295C289.533 56.2295 322.733 59.0295 342.033 80.3295C360.433 100.729 360.433 132.03 342.033 151.93C322.733 172.73 289.533 174.53 267.633 154.13ZM277.033 143.328C292.633 158.328 316.833 157.528 331.133 142.428C344.933 127.828 344.933 104.628 331.133 89.6281C316.833 74.128 292.633 72.628 277.033 87.1281C260.833 102.228 260.833 127.828 277.033 143.328Z",fill:"#00236B"}),Object(da.jsx)("path",{d:"M41.0336 42.7305C41.0336 41.6259 40.1382 40.7305 39.0336 40.7305C37.929 40.7305 37.0336 41.6259 37.0336 42.7305H41.0336ZM37.0336 51.0305C37.0336 52.135 37.929 53.0305 39.0336 53.0305C40.1382 53.0305 41.0336 52.135 41.0336 51.0305H37.0336ZM41.0336 68.2305C41.0336 67.1259 40.1382 66.2305 39.0336 66.2305C37.929 66.2305 37.0336 67.1259 37.0336 68.2305H41.0336ZM37.0336 77.1305C37.0336 78.235 37.929 79.1305 39.0336 79.1305C40.1382 79.1305 41.0336 78.235 41.0336 77.1305H37.0336ZM56.2336 61.9305C57.3382 61.9305 58.2336 61.035 58.2336 59.9305C58.2336 58.8259 57.3382 57.9305 56.2336 57.9305V61.9305ZM48.0336 57.9305C46.929 57.9305 46.0336 58.8259 46.0336 59.9305C46.0336 61.035 46.929 61.9305 48.0336 61.9305V57.9305ZM30.1336 61.9305C31.2382 61.9305 32.1336 61.035 32.1336 59.9305C32.1336 58.8259 31.2382 57.9305 30.1336 57.9305V61.9305ZM21.9336 57.9305C20.829 57.9305 19.9336 58.8259 19.9336 59.9305C19.9336 61.035 20.829 61.9305 21.9336 61.9305V57.9305ZM37.0336 42.7305V51.0305H41.0336V42.7305H37.0336ZM37.0336 68.2305V77.1305H41.0336V68.2305H37.0336ZM56.2336 57.9305H48.0336V61.9305H56.2336V57.9305ZM30.1336 57.9305H21.9336V61.9305H30.1336V57.9305Z",fill:"#2EE5C0"})]}),"/* History controls */",Object(da.jsx)("path",{id:"icon.previous",d:"M5.41406 10.6094C5.36719 10.6562 5.29688 10.6797 5.22656 10.6797C5.13281 10.6797 5.0625 10.6562 5.01562 10.6094L0.117188 5.6875C0.046875 5.64062 0.0234375 5.59375 0.0234375 5.5C0.0234375 5.42969 0.046875 5.35938 0.117188 5.3125L5.01562 0.390625C5.0625 0.34375 5.13281 0.320312 5.22656 0.320312C5.29688 0.320312 5.36719 0.34375 5.41406 0.390625L5.88281 0.859375C5.92969 0.90625 5.97656 0.976562 5.97656 1.04688C5.97656 1.14062 5.92969 1.21094 5.88281 1.25781L1.64062 5.5L5.88281 9.74219C5.92969 9.8125 5.97656 9.88281 5.97656 9.95312C5.97656 10.0469 5.92969 10.0938 5.88281 10.1406L5.41406 10.6094Z",fill:"currentColor"}),Object(da.jsx)("path",{id:"icon.next",d:"M0.787109 0.191406C0.830078 0.148438 0.873047 0.126953 0.958984 0.126953C1.02344 0.126953 1.08789 0.148438 1.15234 0.191406L5.64258 4.70312C5.68555 4.74609 5.72852 4.81055 5.72852 4.875C5.72852 4.96094 5.68555 5.00391 5.64258 5.04688L1.15234 9.55859C1.08789 9.60156 1.02344 9.62305 0.958984 9.62305C0.873047 9.62305 0.830078 9.60156 0.787109 9.55859L0.357422 9.12891C0.292969 9.08594 0.271484 9.04297 0.271484 8.95703C0.271484 8.89258 0.292969 8.82812 0.357422 8.76367L4.24609 4.875L0.357422 0.986328C0.292969 0.943359 0.271484 0.878906 0.271484 0.792969C0.271484 0.728516 0.292969 0.664062 0.357422 0.621094L0.787109 0.191406Z",fill:"currentColor"}),Object(da.jsxs)("g",{id:"icon.dialog-warning",width:"24",height:"22",viewBox:"0 0 24 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(da.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.253448 19.0301L10.7294 0.712125C11.2724 -0.237375 12.7304 -0.237375 13.2719 0.712125L23.7479 19.0301C24.2609 19.9256 23.5649 21.0071 22.4774 21.0071H1.52545C0.436448 21.0071 -0.258052 19.9256 0.253448 19.0301Z",fill:"var(--yc-color-base-warning-heavy)"}),Object(da.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5 13.0074C13.5 13.2836 13.2761 13.5074 13 13.5074H11C10.7239 13.5074 10.5 13.2836 10.5 13.0074V7.39844C10.5 7.1223 10.7239 6.89844 11 6.89844H13C13.2761 6.89844 13.5 7.1223 13.5 7.39844V13.0074Z",fill:"var(--yc-color-text-complementary)"}),Object(da.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5 17.548C13.5 17.8241 13.2761 18.048 13 18.048H11C10.7239 18.048 10.5 17.8241 10.5 17.548V15.8555C10.5 15.5793 10.7239 15.3555 11 15.3555H13C13.2761 15.3555 13.5 15.5793 13.5 15.8555V17.548Z",fill:"var(--yc-color-text-complementary)"})]}),Object(da.jsx)("g",{id:"icon.chevron-down",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:Object(da.jsx)("path",{stroke:"currentColor",fill:"none",d:"M3 6l5 5 5-5"})}),"/* theme icons */",Object(da.jsx)("path",{id:"icon.sun",d:"M7.99108 5.98e-05C7.67665 0.00674984 7.42467 0.265426 7.42913 0.579851V2.29246C7.4269 2.49762 7.53394 2.6894 7.71233 2.79421C7.89073 2.89679 8.10927 2.89679 8.28767 2.79421C8.46606 2.6894 8.5731 2.49762 8.57087 2.29246V0.579851C8.5731 0.425983 8.51289 0.276576 8.40362 0.167307C8.29436 0.0580392 8.14495 -0.00217002 7.99108 5.98e-05ZM2.7462 2.17651C2.51429 2.17874 2.30467 2.31922 2.2177 2.5333C2.13073 2.74961 2.18202 2.9949 2.34927 3.15769L3.56014 4.36856C3.70286 4.51797 3.91693 4.57818 4.1154 4.52466C4.3161 4.47337 4.47219 4.31727 4.52348 4.11658C4.577 3.91811 4.51679 3.70403 4.36739 3.56131L3.15652 2.35044C3.04948 2.23895 2.90007 2.17651 2.7462 2.17651ZM13.236 2.17651C13.0865 2.18097 12.9461 2.2434 12.8435 2.35044L11.6326 3.56131C11.4832 3.70403 11.423 3.91811 11.4765 4.11658C11.5278 4.31727 11.6839 4.47337 11.8846 4.52466C12.0831 4.57818 12.2971 4.51797 12.4399 4.36856L13.6507 3.15769C13.8202 2.99267 13.8693 2.74292 13.7778 2.52661C13.6864 2.30807 13.4723 2.16982 13.236 2.17651ZM8 4.00508C5.79233 4.00508 4.0039 5.79351 4.0039 8.00118C4.0039 10.2088 5.79233 11.9973 8 11.9973C10.2077 11.9973 11.9961 10.2088 11.9961 8.00118C11.9961 5.79351 10.2077 4.00508 8 4.00508ZM0.578676 7.43031C0.373519 7.42808 0.181743 7.53511 0.076934 7.71351C-0.0256447 7.89191 -0.0256447 8.11044 0.076934 8.28884C0.181743 8.46724 0.373519 8.57428 0.578676 8.57205H2.29129C2.49645 8.57428 2.68822 8.46724 2.79303 8.28884C2.89561 8.11044 2.89561 7.89191 2.79303 7.71351C2.68822 7.53511 2.49645 7.42808 2.29129 7.43031H0.578676ZM13.7087 7.43031C13.5036 7.42808 13.3118 7.53511 13.207 7.71351C13.1044 7.89191 13.1044 8.11044 13.207 8.28884C13.3118 8.46724 13.5036 8.57428 13.7087 8.57205H15.4213C15.6265 8.57428 15.8183 8.46724 15.9231 8.28884C16.0256 8.11044 16.0256 7.89191 15.9231 7.71351C15.8183 7.53511 15.6265 7.42808 15.4213 7.43031H13.7087ZM3.95261 11.4621C3.80321 11.4643 3.66272 11.5268 3.56014 11.6338L2.34927 12.8447C2.19986 12.9874 2.13965 13.2015 2.19317 13.3999C2.24446 13.6006 2.40056 13.7567 2.60125 13.808C2.79972 13.8615 3.0138 13.8013 3.15652 13.6519L4.36739 12.441C4.53686 12.276 4.58592 12.0263 4.49449 11.81C4.40307 11.5914 4.18899 11.4532 3.95261 11.4621ZM12.0318 11.4621C11.7976 11.4621 11.5902 11.6026 11.501 11.8166C11.4141 12.033 11.4654 12.2782 11.6326 12.441L12.8435 13.6519C12.9862 13.8013 13.2003 13.8615 13.3987 13.808C13.5994 13.7567 13.7555 13.6006 13.8068 13.3999C13.8603 13.2015 13.8001 12.9874 13.6507 12.8447L12.4399 11.6338C12.3328 11.5223 12.1856 11.4621 12.0318 11.4621ZM7.99108 13.1301C7.67665 13.1368 7.42467 13.3955 7.42913 13.7099V15.4225C7.4269 15.6277 7.53394 15.8194 7.71233 15.9242C7.89073 16.0268 8.10927 16.0268 8.28767 15.9242C8.46606 15.8194 8.5731 15.6277 8.57087 15.4225V13.7099C8.5731 13.556 8.51289 13.4066 8.40362 13.2973C8.29436 13.1881 8.14495 13.1279 7.99108 13.1301Z",fill:"currentColor"}),Object(da.jsx)("path",{id:"icon.moon",d:"M10.9102 13.991C12.7951 13.305 14.209 11.8446 14.8419 10.0201C14.9307 9.74456 14.627 9.50386 14.3819 9.6471C11.6317 11.2966 8.08679 10.0199 6.99259 7.01362C6.36734 5.29574 6.70084 3.39103 7.89136 1.98499C8.07785 1.755 7.88469 1.44702 7.60487 1.49482C7.2925 1.52745 6.78277 1.68596 6.46392 1.77499C3.07588 3.00814 1.35459 6.74195 2.57904 10.1061C3.81219 13.4942 7.52215 15.2241 10.9102 13.991Z",fill:"currentColor"}),Object(da.jsx)("path",{id:"icon.pencil",d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"}),Object(da.jsx)("path",{id:"icon.trash",d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"}),Object(da.jsx)("path",{id:"icon.kikimr-logo",d:"M6.47 30.11L6.47 21.37L10.81 7.45L9.35 7.45L5.80 19.50L2.19 7.45L0.51 7.45L4.88 21.37L4.88 30.11ZM13.12 30.11L15.44 30.11C20.45 30.11 23.84 25.61 23.84 17.94C23.84 10.08 20.26 7.45 15.79 7.45L13.12 7.45ZM15.79 8.75C19.34 8.75 22.22 11.06 22.22 18.07C22.22 25.01 19.50 28.82 15.47 28.82L14.71 28.82L14.71 8.75ZM29.67 30.11C33.38 30.11 36.17 28.15 36.17 23.62C36.17 20.80 34.97 18.67 32.37 18.01C34.30 17.15 35.38 15.44 35.38 12.81C35.38 9.48 33.60 7.45 30.05 7.45L26.75 7.45L26.75 30.11ZM29.99 8.72C32.65 8.72 33.82 10.24 33.82 12.93C33.82 16.10 32.24 17.47 29.92 17.47L28.34 17.47L28.34 8.72ZM30.40 18.70C33.22 18.70 34.58 20.70 34.58 23.84C34.58 27.55 32.52 28.85 29.45 28.85L28.34 28.85L28.34 18.70ZM49.58 26.63L50.82 26.63L54.21 14.01C54.46 13.06 54.68 12.14 54.97 10.87L55.09 10.87C55.03 12.01 54.97 13.16 54.97 14.23L54.97 30.11L56.49 30.11L56.49 7.45L54.71 7.45L50.85 21.94C50.69 22.51 50.43 23.71 50.31 24.57L50.21 24.57C50.12 23.71 49.90 22.54 49.74 21.94L45.90 7.45L44.06 7.45L44.06 30.11L45.46 30.11L45.46 14.23C45.46 13.09 45.43 11.95 45.36 10.87L45.46 10.87C45.65 11.92 45.90 12.93 46.22 14.11ZM64.13 30.43C66.89 30.43 69.01 27.33 69.01 22.03C69.01 16.55 66.89 13.82 64.13 13.82C61.37 13.82 59.25 16.90 59.25 22.22C59.25 27.67 61.37 30.43 64.13 30.43ZM64.13 29.23C62.26 29.23 60.74 27.10 60.74 22.13C60.74 17.28 62.26 15.06 64.13 15.06C66.00 15.06 67.52 17.12 67.52 22.13C67.52 26.95 66.00 29.23 64.13 29.23ZM76.81 15.09C78.27 15.09 78.96 15.98 78.96 17.88L78.96 30.11L80.45 30.11L80.45 17.69C80.45 15.15 79.22 13.82 77.09 13.82C74.94 13.82 73.67 15.60 73.23 16.77L73.16 16.77L73.10 14.14L71.74 14.14L71.74 30.11L73.23 30.11L73.23 18.45C74.02 16.42 75.22 15.09 76.81 15.09ZM84.64 11.00C85.18 11.00 85.65 10.56 85.65 9.99C85.65 9.45 85.18 8.94 84.64 8.94C84.07 8.94 83.62 9.45 83.62 9.99C83.62 10.56 84.07 11.00 84.64 11.00ZM83.88 14.14L83.88 30.11L85.37 30.11L85.37 14.14ZM93.64 29.92L93.32 28.82C93.13 28.91 92.82 29.04 92.34 29.04C91.39 29.04 90.88 28.34 90.88 26.75L90.88 15.31L93.61 15.31L93.61 14.14L90.88 14.14L90.88 10.97L89.55 10.97L89.39 14.14L87.78 14.14L87.78 15.31L89.39 15.31L89.39 26.91C89.39 28.88 90.28 30.27 92.18 30.27C92.85 30.27 93.29 30.11 93.64 29.92ZM100.17 30.43C102.93 30.43 105.05 27.33 105.05 22.03C105.05 16.55 102.93 13.82 100.17 13.82C97.41 13.82 95.29 16.90 95.29 22.22C95.29 27.67 97.41 30.43 100.17 30.43ZM100.17 29.23C98.30 29.23 96.78 27.10 96.78 22.13C96.78 17.28 98.30 15.06 100.17 15.06C102.04 15.06 103.56 17.12 103.56 22.13C103.56 26.95 102.04 29.23 100.17 29.23ZM113.07 15.60L113.07 14.04C111.11 14.17 109.81 15.79 109.30 17.34L109.21 17.34L109.14 14.14L107.78 14.14L107.78 30.11L109.27 30.11L109.27 19.02C110.00 16.83 111.33 15.66 113.07 15.60ZM116.28 11.00C116.81 11.00 117.29 10.56 117.29 9.99C117.29 9.45 116.81 8.94 116.28 8.94C115.70 8.94 115.26 9.45 115.26 9.99C115.26 10.56 115.70 11.00 116.28 11.00ZM115.51 14.14L115.51 30.11L117.00 30.11L117.00 14.14ZM125.63 15.09C127.09 15.09 127.78 15.98 127.78 17.88L127.78 30.11L129.27 30.11L129.27 17.69C129.27 15.15 128.04 13.82 125.91 13.82C123.76 13.82 122.49 15.60 122.05 16.77L121.98 16.77L121.92 14.14L120.56 14.14L120.56 30.11L122.05 30.11L122.05 18.45C122.84 16.42 124.04 15.09 125.63 15.09ZM136.60 29.10C134.69 29.10 133.49 26.63 133.49 22.44C133.49 17.72 134.82 14.99 136.85 14.99C138.28 14.99 139.16 15.72 139.80 17.24L139.80 26.09C139.10 27.71 137.96 29.10 136.60 29.10ZM136.37 35.31C139.26 35.31 141.29 33.76 141.29 29.96L141.29 14.14L140.05 14.14L139.89 15.63C139.35 14.55 138.28 13.82 137.04 13.82C133.96 13.82 132.00 17.02 132.00 22.57C132.00 27.20 133.65 30.40 136.31 30.40C137.99 30.40 139.10 29.16 139.80 27.77L139.80 29.80C139.80 32.87 138.50 34.01 136.37 34.01C134.88 34.01 133.55 33.38 132.98 32.81L132.54 34.11C133.17 34.62 134.53 35.31 136.37 35.31Z"}),Object(da.jsx)("path",{id:"icon.question",fillRule:"evenodd",clipRule:"evenodd",d:"M22 12.219c0 5.523-4.477 10-10 10s-10-4.477-10-10 4.477-10 10-10 10 4.477 10 10zm-2 0a8 8 0 11-16 0 8 8 0 0116 0zm-9.25 4.243c0-.723.55-1.243 1.243-1.243.708 0 1.257.52 1.257 1.243 0 .722-.55 1.257-1.257 1.257a1.228 1.228 0 01-1.243-1.258zm1.475-9.743c-2.157 0-3.775 1.243-3.775 3.25v.025a.5.5 0 00.5.5h.803c.24 0 .435-.195.435-.435 0-1.123.868-1.722 2.037-1.722 1.138 0 1.887.599 1.887 1.453 0 .809-.42 1.183-1.468 1.662l-.3.135c-.883.39-1.213.974-1.213 1.992v.14a.5.5 0 00.5.5h.738a.5.5 0 00.5-.5v-.035c0-.45.12-.629.48-.794l.299-.134c1.258-.57 2.202-1.319 2.202-2.951v-.09c0-1.723-1.498-2.996-3.625-2.996z",fill:"currentColor"}),Object(da.jsxs)("g",{id:"icon.emptyState",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 383 396",width:"383",height:"396",fill:"none",children:[Object(da.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M307.333 168.43c9.4-14.2 14.1-32.6 14.1-55.3 0-34.4-11.7-61.9-35.3-82.2-23.4-20.5-63-30.7-106.7-30.7-13.1 0-24.1.9-34.8 2.7-10.7 1.8-20.1 3.9-28.2 6.3-5.4 1.6-16.1 5.7-23.3 8.6-4.1 1.7-6.9 6-6.9 10.8v39.5c0 8.2 7.8 13.8 14.9 10.5a458.74 458.74 0 0 0 1.806-.818c2.367-1.074 4.452-2.02 5.894-2.581 5.7-2.3 12.4-4.2 20.1-5.8 7.7-1.6 16.3-2.4 25.7-2.4 22.2 0 43.1 5 52.3 14.9 9.2 10 13.8 22.499 13.8 37.499 0 13-2.7 24.1-8.2 33.2-5.5 9.1-13.1 18-22.9 26.5-7.9 6.9-15.2 13.5-22 19.8-6.8 6.3-12.6 13.2-17.5 20.7s-8.7 16-11.3 25.3c-1.6 5.6-2.7 20.3-3.3 31-.3 6.6 4.5 12.2 10.7 12.2h51.2c5.4 0 10-4.4 10.6-10.2.6-5.7 2-12.5 5.5-17.8 4-5.9 8.7-11.8 14.7-17.3s13-11 20.9-16.7c8-5.6 16.2-12.1 24.9-19.4 12.8-11.4 23.9-24.1 33.3-38.3zm-167.6 212.7c9 9.5 20.1 14.2 33.4 14.2 6.3 0 12.4-1.3 18.2-4 5.8-2.6 10.9-6 15.2-10.3 4.3-4.3 7.7-9.4 10.2-15.2 2.5-5.8 3.7-12.1 3.7-19 0-6.8-1.2-13.2-3.7-19-2.5-5.8-5.9-10.9-10.2-15.4-4.3-4.5-9.4-7.9-15.2-10.3-5.8-2.4-11.9-3.6-18.2-3.6-13.3 0-24.4 4.6-33.4 13.9s-13.5 20.8-13.5 34.5c0 13.4 4.5 24.8 13.5 34.2z",fill:"#ECF2F9"}),Object(da.jsx)("path",{clipRule:"evenodd",d:"M213.933 353.03h-193.5c-10 0-18.2-8.2-18.2-18.2v-125.4c0-10 8.2-18.2 18.2-18.2h193.5c10 0 18.2 8.2 18.2 18.2v125.4c0 10.1-8.2 18.2-18.2 18.2z",stroke:"#00E6C5",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"4 10"}),Object(da.jsx)("path",{d:"M21.034 214.732a5.2 5.2 0 1 0 0-10.4 5.2 5.2 0 0 0 0 10.4zm16.899 0a5.2 5.2 0 1 0 0-10.4 5.2 5.2 0 0 0 0 10.4zm16.9 0a5.2 5.2 0 1 0 0-10.4 5.2 5.2 0 0 0 0 10.4z",fill:"#2EE5C0"}),Object(da.jsx)("path",{d:"M2.533 228.129h228.9",stroke:"#00E6C5",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"4 10"}),Object(da.jsx)("path",{d:"M301.033 264.83l-216.9 12c-7.3.4-13.3-5.2-13.3-12.5V96.93c0-7.3 6-12.9 13.3-12.5l216.9 12c5.6.3 10.1 5.7 10.1 12v144.4c0 6.3-4.5 11.7-10.1 12z",fill:"#027BF3"}),Object(da.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M90.433 107.93c3.4.2 6.1-2.4 6.1-5.8s-2.7-6.3-6.1-6.4c-3.3-.2-6.1 2.4-6.1 5.8s2.7 6.3 6.1 6.4zm19.8.798c3.3.1 6-2.5 6-5.8s-2.7-6.1-6-6.3c-3.3-.1-6 2.5-6 5.8s2.7 6.2 6 6.3zm25.2-4.9c0 3.3-2.6 5.9-5.8 5.7-3.2-.1-5.9-2.9-5.9-6.2 0-3.3 2.6-5.9 5.9-5.7 3.2.1 5.8 2.9 5.8 6.2zm66.001 61.703l19.1-20.9 17.4 19.1-18.9 20.9 18.9 20.5-17.4 19.5-19.1-20.5-19.4 21.5-18.1-19.1 19.6-21.5-19.6-21 18.1-19.5 19.4 21z",fill:"#fff"}),Object(da.jsx)("path",{d:"M327.433 112.83c0-28.4-21.7-37.1-33.5-37.9-.1 0-33.5 2.3-33.5 45.3 0 25.5 21.2 45.5 46 44.6 7.8-.3 14.9-2.6 21-6.4v-45.6z",fill:"#67B0F8"}),Object(da.jsx)("path",{d:"M380.534 195.931c-2.9 3.4-7.6 3.7-10.5.8l-38.6-39 11.3-12.2 37.8 39c2.9 3 2.9 8 0 11.4z",fill:"#FF4645"}),Object(da.jsx)("path",{d:"M342.833 145.629l-11.3 12.2 3.7 3.7c1.9 1.9 4.9 2 6.8.2 1.1-1 2.2-2.1 3.2-3.2.6-.7 1.3-1.4 1.9-2.1 1.6-1.9 1.5-4.8-.3-6.6l-4-4.2z",fill:"#D93654"}),Object(da.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M267.633 154.13c-23-21.401-23-57.3 0-78.1 21.9-19.8 55.1-17 74.4 4.3 18.4 20.399 18.4 51.7 0 71.6-19.3 20.8-52.5 22.6-74.4 2.2zm9.4-10.802c15.6 15 39.8 14.2 54.1-.9 13.8-14.6 13.8-37.8 0-52.8-14.3-15.5-38.5-17-54.1-2.5-16.2 15.1-16.2 40.7 0 56.2z",fill:"#00236B"}),Object(da.jsx)("path",{d:"M41.034 42.73a2 2 0 1 0-4 0h4zm-4 8.3a2 2 0 0 0 4 0h-4zm4 17.2a2 2 0 1 0-4 0h4zm-4 8.9a2 2 0 0 0 4 0h-4zm19.2-15.2a2 2 0 0 0 0-4v4zm-8.2-4a2 2 0 1 0 0 4v-4zm-17.9 4a2 2 0 0 0 0-4v4zm-8.2-4a2 2 0 1 0 0 4v-4zm15.1-15.2v8.3h4v-8.3h-4zm0 25.5v8.9h4v-8.9h-4zm19.2-10.3h-8.2v4h8.2v-4zm-26.1 0h-8.2v4h8.2v-4z",fill:"#2EE5C0"})]}),Object(da.jsxs)("g",{id:"icon.accessDenied",width:"240",height:"240",viewBox:"0 0 240 240",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(da.jsx)("path",{d:"M8.09538 76.0473H58.6587C61.5462 76.0473 64.2412 77.6463 65.7171 80.2046L102.228 145.123C105.436 150.815 113.521 150.624 116.473 144.803L177.495 25.1359C178.907 22.3856 181.666 20.6588 184.682 20.6588H231.909C238.005 20.6588 241.919 27.3105 239.031 32.811L139.188 224.049C128.215 244.515 99.7896 245.475 87.4696 225.839L1.29371 88.7751C-2.17129 83.2747 1.74288 76.0473 8.09538 76.0473Z",fill:"currentColor"}),Object(da.jsx)("path",{d:"M38.51 148.083C39.6146 148.083 40.51 147.187 40.51 146.083C40.51 144.978 39.6146 144.083 38.51 144.083V148.083ZM25.5483 144.083C24.4438 144.083 23.5483 144.978 23.5483 146.083C23.5483 147.187 24.4438 148.083 25.5483 148.083V144.083ZM33.5708 152.649C34.1243 153.605 35.3479 153.931 36.3038 153.378C37.2597 152.824 37.5859 151.601 37.0324 150.645L33.5708 152.649ZM30.5516 139.452C29.9981 138.496 28.7745 138.17 27.8186 138.723C26.8627 139.277 26.5365 140.5 27.09 141.456L30.5516 139.452ZM27.09 150.645C26.5365 151.601 26.8627 152.824 27.8186 153.378C28.7745 153.931 29.9981 153.605 30.5516 152.649L27.09 150.645ZM37.0324 141.456C37.5859 140.5 37.2597 139.277 36.3038 138.723C35.3479 138.17 34.1243 138.496 33.5708 139.452L37.0324 141.456ZM59.2359 148.083C60.3405 148.083 61.2359 147.187 61.2359 146.083C61.2359 144.978 60.3405 144.083 59.2359 144.083V148.083ZM46.3384 144.083C45.2338 144.083 44.3384 144.978 44.3384 146.083C44.3384 147.187 45.2338 148.083 46.3384 148.083V144.083ZM54.2964 152.649C54.8499 153.605 56.0735 153.931 57.0294 153.378C57.9853 152.824 58.3115 151.601 57.758 150.645L54.2964 152.649ZM51.2772 139.452C50.7237 138.496 49.5001 138.17 48.5442 138.723C47.5883 139.277 47.2621 140.5 47.8156 141.456L51.2772 139.452ZM47.8156 150.645C47.2621 151.601 47.5883 152.824 48.5442 153.378C49.5001 153.931 50.7237 153.605 51.2772 152.649L47.8156 150.645ZM57.758 141.456C58.3115 140.5 57.9853 139.277 57.0294 138.723C56.0735 138.17 54.8499 138.496 54.2964 139.452L57.758 141.456ZM124.878 158.729H26.0616V162.729H124.878V158.729ZM26.0616 158.729C21.3209 158.729 17.4741 154.886 17.4741 150.176H13.4741C13.4741 157.107 19.124 162.729 26.0616 162.729V158.729ZM17.4741 150.176V141.925H13.4741V150.176H17.4741ZM17.4741 141.925C17.4741 137.216 21.3209 133.372 26.0616 133.372V129.372C19.124 129.372 13.4741 134.994 13.4741 141.925H17.4741ZM26.0616 133.372H124.878V129.372H26.0616V133.372ZM124.878 133.372C129.619 133.372 133.466 137.216 133.466 141.925H137.466C137.466 134.994 131.816 129.372 124.878 129.372V133.372ZM133.466 141.925V150.176H137.466V141.925H133.466ZM133.466 150.176C133.466 154.886 129.619 158.729 124.878 158.729V162.729C131.816 162.729 137.466 157.107 137.466 150.176H133.466ZM38.51 144.083H25.5483V148.083H38.51V144.083ZM25.5483 148.083H38.51V144.083H25.5483V148.083ZM37.0324 150.645L30.5516 139.452L27.09 141.456L33.5708 152.649L37.0324 150.645ZM27.09 141.456L33.5708 152.649L37.0324 150.645L30.5516 139.452L27.09 141.456ZM30.5516 152.649L37.0324 141.456L33.5708 139.452L27.09 150.645L30.5516 152.649ZM33.5708 139.452L27.09 150.645L30.5516 152.649L37.0324 141.456L33.5708 139.452ZM59.2359 144.083H46.3384V148.083H59.2359V144.083ZM46.3384 148.083H59.2359V144.083H46.3384V148.083ZM57.758 150.645L51.2772 139.452L47.8156 141.456L54.2964 152.649L57.758 150.645ZM47.8156 141.456L54.2964 152.649L57.758 150.645L51.2772 139.452L47.8156 141.456ZM51.2772 152.649L57.758 141.456L54.2964 139.452L47.8156 150.645L51.2772 152.649ZM54.2964 139.452L47.8156 150.645L51.2772 152.649L57.758 141.456L54.2964 139.452Z",fill:"#2EE5C0"}),Object(da.jsx)("path",{d:"M80.0266 148.083C81.1312 148.083 82.0266 147.187 82.0266 146.083C82.0266 144.978 81.1312 144.083 80.0266 144.083V148.083ZM67.0649 144.083C65.9604 144.083 65.0649 144.978 65.0649 146.083C65.0649 147.187 65.9604 148.083 67.0649 148.083V144.083ZM75.0233 152.649C75.5768 153.605 76.8004 153.931 77.7563 153.378C78.7122 152.824 79.0384 151.601 78.4849 150.645L75.0233 152.649ZM72.0041 139.452C71.4506 138.496 70.227 138.17 69.2711 138.723C68.3152 139.277 67.989 140.5 68.5425 141.456L72.0041 139.452ZM68.5425 150.645C67.989 151.601 68.3152 152.824 69.2711 153.378C70.227 153.931 71.4506 153.605 72.0041 152.649L68.5425 150.645ZM78.4849 141.456C79.0384 140.5 78.7122 139.277 77.7563 138.723C76.8004 138.17 75.5768 138.496 75.0233 139.452L78.4849 141.456ZM80.0266 144.083H67.0649V148.083H80.0266V144.083ZM78.4849 150.645L72.0041 139.452L68.5425 141.456L75.0233 152.649L78.4849 150.645ZM72.0041 152.649L78.4849 141.456L75.0233 139.452L68.5425 150.645L72.0041 152.649Z",fill:"#2EE5C0"}),Object(da.jsx)("path",{d:"M100.752 148.083C101.857 148.083 102.752 147.187 102.752 146.083C102.752 144.978 101.857 144.083 100.752 144.083V148.083ZM87.7905 144.083C86.686 144.083 85.7905 144.978 85.7905 146.083C85.7905 147.187 86.686 148.083 87.7905 148.083V144.083ZM95.8127 152.649C96.3662 153.605 97.5898 153.931 98.5457 153.378C99.5016 152.824 99.8278 151.601 99.2743 150.645L95.8127 152.649ZM92.7935 139.452C92.24 138.496 91.0164 138.17 90.0605 138.723C89.1046 139.277 88.7784 140.5 89.3319 141.456L92.7935 139.452ZM89.3319 150.645C88.7784 151.601 89.1046 152.824 90.0605 153.378C91.0164 153.931 92.24 153.605 92.7935 152.649L89.3319 150.645ZM99.2743 141.456C99.8278 140.5 99.5016 139.277 98.5457 138.723C97.5898 138.17 96.3662 138.496 95.8127 139.452L99.2743 141.456ZM100.752 144.083H87.7905V148.083H100.752V144.083ZM99.2743 150.645L92.7935 139.452L89.3319 141.456L95.8127 152.649L99.2743 150.645ZM92.7935 152.649L99.2743 141.456L95.8127 139.452L89.3319 150.645L92.7935 152.649Z",fill:"#2EE5C0"}),Object(da.jsx)("path",{d:"M122.376 148.083C123.481 148.083 124.376 147.187 124.376 146.083C124.376 144.978 123.481 144.083 122.376 144.083V148.083ZM109.415 144.083C108.31 144.083 107.415 144.978 107.415 146.083C107.415 147.187 108.31 148.083 109.415 148.083V144.083ZM117.373 152.649C117.926 153.605 119.15 153.931 120.106 153.378C121.062 152.824 121.388 151.601 120.835 150.645L117.373 152.649ZM114.354 139.452C113.8 138.496 112.577 138.17 111.621 138.723C110.665 139.277 110.339 140.5 110.892 141.456L114.354 139.452ZM110.892 150.645C110.339 151.601 110.665 152.824 111.621 153.378C112.577 153.931 113.8 153.605 114.354 152.649L110.892 150.645ZM120.835 141.456C121.388 140.5 121.062 139.277 120.106 138.723C119.15 138.17 117.926 138.496 117.373 139.452L120.835 141.456ZM122.376 144.083H109.415V148.083H122.376V144.083ZM120.835 150.645L114.354 139.452L110.892 141.456L117.373 152.649L120.835 150.645ZM114.354 152.649L120.835 141.456L117.373 139.452L110.892 150.645L114.354 152.649Z",fill:"#2EE5C0"}),Object(da.jsx)("path",{d:"M85.6732 44.3876H126.291C131.36 44.3876 135.467 48.481 135.467 53.5338V112.632C135.467 117.685 131.36 121.778 126.291 121.778H24.5865C19.5173 121.778 15.4106 117.685 15.4106 112.632V53.5338C15.4106 48.481 19.5173 44.3876 24.5865 44.3876H65.1398",stroke:"#2EE5C0",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),Object(da.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M85.6729 52.9581H65.2037V34.2181C65.2037 28.5897 69.7596 23.9846 75.4704 23.9846C81.1171 23.9846 85.7371 28.5257 85.7371 34.2181V52.9581H85.6729Z",stroke:"#2EE5C0",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),Object(da.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M75.471 38.0556C77.6682 38.0556 79.4493 36.2802 79.4493 34.0902C79.4493 31.9001 77.6682 30.1247 75.471 30.1247C73.2738 30.1247 71.4927 31.9001 71.4927 34.0902C71.4927 36.2802 73.2738 38.0556 75.471 38.0556Z",stroke:"#2EE5C0",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),Object(da.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.2157 109.114C64.576 109.114 75.4066 98.3185 75.4066 85.0015C75.4066 71.6845 64.576 60.889 51.2157 60.889C37.8555 60.889 27.0249 71.6845 27.0249 85.0015C27.0249 98.3185 37.8555 109.114 51.2157 109.114Z",stroke:"#2EE5C0",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),Object(da.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.2158 89.6066C56.1063 89.6066 60.0708 85.6549 60.0708 80.7802C60.0708 75.9056 56.1063 71.9539 51.2158 71.9539C46.3254 71.9539 42.3608 75.9056 42.3608 80.7802C42.3608 85.6549 46.3254 89.6066 51.2158 89.6066Z",stroke:"#2EE5C0",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),Object(da.jsx)("path",{d:"M67.578 102.782L68.9221 104.263C69.6769 103.578 69.7958 102.435 69.1981 101.61L67.578 102.782ZM34.853 102.782L33.2329 101.61C32.6352 102.435 32.7541 103.578 33.509 104.263L34.853 102.782ZM85.6733 71.1053C84.5688 71.1053 83.6733 72.0007 83.6733 73.1053C83.6733 74.2099 84.5688 75.1053 85.6733 75.1053V71.1053ZM120.773 75.1053C121.877 75.1053 122.773 74.2099 122.773 73.1053C122.773 72.0007 121.877 71.1053 120.773 71.1053V75.1053ZM85.6733 81.8505C84.5688 81.8505 83.6733 82.7459 83.6733 83.8505C83.6733 84.955 84.5688 85.8505 85.6733 85.8505V81.8505ZM120.773 85.8505C121.877 85.8505 122.773 84.955 122.773 83.8505C122.773 82.7459 121.877 81.8505 120.773 81.8505V85.8505ZM85.6733 92.5955C84.5688 92.5955 83.6733 93.4909 83.6733 94.5955C83.6733 95.7001 84.5688 96.5955 85.6733 96.5955V92.5955ZM120.773 96.5955C121.877 96.5955 122.773 95.7001 122.773 94.5955C122.773 93.4909 121.877 92.5955 120.773 92.5955V96.5955ZM51.2155 111.114C58.0246 111.114 64.273 108.482 68.9221 104.263L66.234 101.301C62.2848 104.885 56.9831 107.114 51.2155 107.114V111.114ZM69.1981 101.61C65.1754 96.0522 58.6128 92.4676 51.2155 92.4676V96.4676C57.2932 96.4676 62.6657 99.4068 65.9579 103.955L69.1981 101.61ZM51.2155 92.4676C43.8182 92.4676 37.2557 96.0522 33.2329 101.61L36.4731 103.955C39.7654 99.4068 45.1378 96.4676 51.2155 96.4676V92.4676ZM33.509 104.263C38.1581 108.482 44.4065 111.114 51.2155 111.114V107.114C45.4479 107.114 40.1463 104.885 36.1971 101.301L33.509 104.263ZM85.6733 75.1053H120.773V71.1053H85.6733V75.1053ZM120.773 71.1053H85.6733V75.1053H120.773V71.1053ZM85.6733 85.8505H120.773V81.8505H85.6733V85.8505ZM120.773 81.8505H85.6733V85.8505H120.773V81.8505ZM85.6733 96.5955H120.773V92.5955H85.6733V96.5955ZM120.773 92.5955H85.6733V96.5955H120.773V92.5955Z",fill:"#2EE5C0"}),Object(da.jsx)("path",{d:"M204.905 160.729C204.905 159.625 204.01 158.729 202.905 158.729C201.801 158.729 200.905 159.625 200.905 160.729H204.905ZM200.905 164.759C200.905 165.863 201.801 166.759 202.905 166.759C204.01 166.759 204.905 165.863 204.905 164.759H200.905ZM204.905 173.137C204.905 172.033 204.01 171.137 202.905 171.137C201.801 171.137 200.905 172.033 200.905 173.137H204.905ZM200.905 177.487C200.905 178.591 201.801 179.487 202.905 179.487C204.01 179.487 204.905 178.591 204.905 177.487H200.905ZM211.247 171.108C212.352 171.108 213.247 170.212 213.247 169.108C213.247 168.003 212.352 167.108 211.247 167.108V171.108ZM207.269 167.108C206.164 167.108 205.269 168.003 205.269 169.108C205.269 170.212 206.164 171.108 207.269 171.108V167.108ZM198.542 171.108C199.647 171.108 200.542 170.212 200.542 169.108C200.542 168.003 199.647 167.108 198.542 167.108V171.108ZM194.5 167.108C193.395 167.108 192.5 168.003 192.5 169.108C192.5 170.212 193.395 171.108 194.5 171.108V167.108ZM200.905 160.729V164.759H204.905V160.729H200.905ZM200.905 173.137V177.487H204.905V173.137H200.905ZM211.247 167.108H207.269V171.108H211.247V167.108ZM198.542 167.108H194.5V171.108H198.542V167.108Z",fill:"#2EE5C0"}),Object(da.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M138.482 49.5682L185.965 76.8787C191.547 80.0767 193.472 87.1761 190.2 92.101L163.699 137.832C160.427 143.972 153.368 145.891 147.786 142.693L142.011 139.367L138.931 144.611C138.546 145.187 137.84 145.379 137.327 145.059L133.99 143.14L129.242 151.327C129.049 151.711 128.664 151.967 128.279 152.095L116.922 155.484C116.087 155.74 115.574 156.7 115.767 157.531L118.269 167.509C118.462 168.34 117.948 169.236 117.114 169.491L107.04 172.561C106.206 172.881 105.692 173.777 105.885 174.608L108.452 184.522C108.708 185.353 108.131 186.249 107.297 186.505L97.1582 189.639C96.3241 189.958 95.8107 190.854 96.0032 191.685L98.6982 201.983C98.9549 202.814 98.3774 203.71 97.5432 203.965C97.5432 203.965 90.2924 206.204 84.6457 208.059C78.999 209.914 76.1757 207.099 75.149 203.773C74.1224 200.384 71.2349 189.702 71.2349 189.702C71.1707 189.319 71.2349 188.871 71.4274 188.487L106.783 127.47L103.254 125.424C102.677 125.104 102.484 124.336 102.805 123.761L105.885 118.516L100.367 115.382C94.8482 112.12 92.9232 105.085 96.1316 99.5202L122.568 53.7895C125.841 48.289 132.899 46.3703 138.482 49.5682ZM144 76.2392C141.433 80.6523 142.973 86.2807 147.401 88.8391C151.828 91.3975 157.475 89.8624 160.042 85.4493C162.608 81.0361 161.068 75.4077 156.641 72.8493C152.213 70.291 146.567 71.826 144 76.2392Z",fill:"#00236B"}),Object(da.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M129.755 57.3713L182.115 61.5286C187.954 61.8484 192.702 67.0291 192.638 73.2331V121.522C192.638 127.598 187.89 132.459 181.986 132.459H175.762V138.279C175.762 138.919 175.313 139.431 174.736 139.431H171.142V149.216C171.142 149.664 170.95 150.048 170.693 150.368L163.057 158.746C162.48 159.386 162.48 160.345 163.057 160.985L169.795 168.02C170.372 168.596 170.372 169.619 169.795 170.259L163.057 177.87C162.48 178.51 162.48 179.533 163.057 180.109L169.795 186.952C170.372 187.528 170.372 188.551 169.795 189.191L163.057 196.994C162.48 197.633 162.48 198.657 163.057 199.232L170.116 206.268C170.693 206.844 170.693 207.867 170.116 208.507C170.116 208.507 165.303 214.199 161.517 218.612C157.731 223.025 154.074 222.322 151.636 220.083C149.197 217.845 141.561 210.553 141.561 210.553C141.305 210.233 141.112 209.85 141.112 209.402V140.006H137.134C136.492 140.006 135.979 139.431 135.979 138.791V132.779H129.755C123.338 132.779 118.141 127.534 118.141 121.138V68.3083C118.141 61.9124 123.402 56.9875 129.755 57.3713ZM147.465 78.2858C147.465 83.2746 151.507 87.432 156.384 87.6238C161.261 87.8157 165.175 83.9142 165.175 78.9894C165.175 74.0645 161.261 69.9072 156.384 69.6514C151.443 69.4595 147.465 73.297 147.465 78.2858Z",fill:"#007CE9"}),Object(da.jsx)("path",{d:"M149.839 0C126.995 0 108.451 18.4842 108.451 41.2536C108.451 50.5276 111.467 59.354 117.114 66.5174L119.873 61.8484C115.702 55.8362 113.456 48.7368 113.456 41.2536C113.456 21.2344 129.755 4.98881 149.839 4.98881C169.923 4.98881 186.221 21.2344 186.221 41.2536C186.221 61.2728 169.859 77.4544 149.839 77.4544C149.069 77.4544 148.17 77.3904 147.529 77.3904C147.465 77.9661 147.336 78.6696 147.465 80.0767C147.593 81.3559 148.042 82.3792 148.042 82.3792C148.94 82.4432 148.876 82.4432 149.775 82.4432C172.618 82.4432 191.162 63.959 191.162 41.1896C191.162 18.4202 172.618 0 149.839 0Z",fill:"#00236B"}),Object(da.jsx)("path",{opacity:"0.2",d:"M161.581 218.548C165.367 214.135 170.18 208.443 170.18 208.443C170.757 207.803 170.757 206.78 170.18 206.204L163.121 199.168C162.544 198.593 162.544 197.569 163.121 196.93L169.859 189.127C170.436 188.487 170.436 187.464 169.859 186.888L163.121 180.045C162.544 179.469 162.544 178.446 163.121 177.806L169.859 170.195C170.436 169.555 170.436 168.532 169.859 167.956L163.121 160.921C162.544 160.281 162.544 159.322 163.121 158.682L170.757 150.304C171.014 149.984 171.206 149.6 171.206 149.152V141.413C171.206 140.262 170.308 139.367 169.153 139.367L162.48 140.006C159.079 140.006 156.384 142.757 156.384 146.082V218.74C156.384 220.403 158.309 221.426 159.656 220.403C160.298 219.955 160.94 219.316 161.581 218.548Z",fill:"#00236B"})]})]})})};a(442);function Dh(){return Dh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Dh.apply(this,arguments)}var Rh,Hh=function(e){return n.createElement("svg",Dh({viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Eh||(Eh=n.createElement("path",{d:"M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16z",fill:"#5282FF"})),Ih||(Ih=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 9.5c0 .828-1.343 1.5-3 1.5s-3-.672-3-1.5S19.343 8 21 8s3 .672 3 1.5zM13 19.6v2.7c0 .9 1.3 1.6 3 1.6s3-.7 3-1.6v-2.7c-.8.7-1.9 1-3 1s-2.2-.3-3-1zm5-8.6v-.4c.8.7 1.9 1 3 1s2.2-.3 3-1v2.8c0 .8-1.2 1.5-2.8 1.6l-2.475 2.871c.176.192.275.405.275.629 0 .828-1.343 1.5-3 1.5s-3-.672-3-1.5a.9.9 0 01.232-.58L10.8 15.1C9.3 15 8 14.3 8 13.5v-2.9c.8.7 1.9 1 3 1s2.2-.3 3-1v.4h4zm-.276 6.272A5.27 5.27 0 0016 17c-.265 0-.522.017-.766.05a5.994 5.994 0 00-1.134.25L12 14.9c1.1-.2 2-.8 2-1.5V12h4v1.4c0 .7.7 1.3 1.8 1.5l-2.076 2.372zM14 9.5c0 .828-1.343 1.5-3 1.5s-3-.672-3-1.5S9.343 8 11 8s3 .672 3 1.5z",fill:"#fff"})))};function Ah(){return Ah=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ah.apply(this,arguments)}var Fh,Vh=function(e){return n.createElement("svg",Ah({"aria-hidden":"true","data-prefix":"fas","data-icon":"eye",className:"show_svg__svg-inline--fa show_svg__fa-eye",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},e),Rh||(Rh=n.createElement("path",{fill:"currentColor",d:"M572.5 238.1C518.3 115.5 410.9 32 288 32S57.69 115.6 3.469 238.1C1.563 243.4 0 251 0 256c0 4.977 1.562 12.6 3.469 17.03C57.72 396.5 165.1 480 288 480s230.3-83.58 284.5-206.1c1.9-5.3 3.5-13.8 3.5-17.9 0-5-1.6-12.6-3.5-17.9zM432 256c0 79.45-64.47 144-143.9 144-79.5 0-144.1-64.5-144.1-144s64.5-144 144-144 144 64.5 144 144zm-144-96c-2.3 0-5.6.4-8.5.8 5.3 9.2 8.5 19.8 8.5 31.2 0 35.35-28.65 64-64 64-11.4 0-22.9-3.3-31.3-8.5-.3 3-.7 6.1-.7 8.5 0 52.1 43 96 96 96s96-42.99 96-95.99S340.1 160 288 160z"})))};function _h(){return _h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_h.apply(this,arguments)}var Uh=function(e){return n.createElement("svg",_h({"aria-hidden":"true","data-prefix":"fas","data-icon":"eye-slash",className:"hide_svg__svg-inline--fa hide_svg__fa-eye-slash",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512"},e),Fh||(Fh=n.createElement("path",{fill:"currentColor",d:"M325.1 351.5l-99.3-77.9c8.303 44.56 47.26 78.37 94.22 78.37 1.78.03 3.38-.37 5.08-.47zM320 400c-79.5 0-144-64.52-144-143.1 0-6.789 1.09-13.28 1.1-19.82L81.28 160.4c-17.77 23.75-33.27 50.04-45.81 78.59C33.56 243.4 31.1 251 31.1 256c0 4.977 1.563 12.6 3.469 17.03 54.25 123.4 161.6 206.1 284.5 206.1 45.46 0 88.77-11.49 128.1-32.14l-74.5-58.4C356.1 396.1 338.1 400 320 400zm310.8 69.1l-103.5-81.11c31.37-31.96 57.77-70.75 77.21-114.1 1.906-4.43 3.469-12.07 3.469-17.03 0-4.976-1.562-12.6-3.469-17.03-54.25-123.4-161.6-206.1-284.5-206.1-62.69 0-121.2 21.94-170.8 59.62L38.81 5.116C34.41 1.679 29.19 0 24.03 0 16.91 0 9.839 3.158 5.121 9.189c-8.187 10.44-6.37 25.53 4.068 33.7l591.1 463.1c10.5 8.203 25.57 6.333 33.69-4.073C643.1 492.4 641.2 477.3 630.8 469.1zM463.1 256c0 24.85-6.705 47.98-17.95 68.27l-38.55-30.23c5.24-11.68 8.495-24.42 8.495-38.08 0-52.1-43-96-95.1-96-2.301.03-5.575.444-8.461.766C316.8 170 319.1 180.6 319.1 192c0 10.17-2.561 19.67-6.821 28.16L223.6 149.9c25.46-23.38 59.12-37.93 96.42-37.93C399.5 112 463.1 176.6 463.1 256z"})))},zh=(a(937),b()("authentication"));var Zh={authenticate:function(e,t){return fe({request:window.api.authenticate(e,t),actions:ue})}},Bh=Object(u.b)((function(e){return{error:e.authentication.error}}),Zh)((function(e){var t=e.authenticate,a=e.error,r=Object(n.useState)(""),i=Object(Oe.a)(r,2),o=i[0],s=i[1],c=Object(n.useState)(""),l=Object(Oe.a)(c,2),d=l[0],u=l[1],h=Object(n.useState)(""),p=Object(Oe.a)(h,2),j=p[0],v=p[1],b=Object(n.useState)(""),f=Object(Oe.a)(b,2),m=f[0],O=f[1],g=Object(n.useState)(!1),C=Object(Oe.a)(g,2),x=C[0],y=C[1];Object(n.useEffect)((function(){var e,t,n,r;null!==a&&void 0!==a&&null!==(e=a.data)&&void 0!==e&&null!==(t=e.error)&&void 0!==t&&t.includes("user")&&v(a.data.error),null!==a&&void 0!==a&&null!==(n=a.data)&&void 0!==n&&null!==(r=n.error)&&void 0!==r&&r.includes("password")&&O(a.data.error)}),[a]);var N=function(){t(o,d)};return Object(da.jsx)("section",{className:zh(),children:Object(da.jsxs)("form",{className:zh("form-wrapper"),children:[Object(da.jsxs)("div",{className:zh("header"),children:[Object(da.jsxs)("div",{className:zh("logo"),children:[Object(da.jsx)(Ci.a,{data:Hh,size:24}),"YDB"]}),Object(da.jsx)(Xr.a,{href:"http://ydb.tech/docs",target:"_blank",children:"Documentation"})]}),Object(da.jsx)("h2",{className:zh("title"),children:"Sign in"}),Object(da.jsx)("div",{className:zh("field-wrapper"),children:Object(da.jsx)(Kr.a,{value:o,onUpdate:function(e){s(e),v("")},placeholder:"Username",error:j,size:"l",autoFocus:!0})}),Object(da.jsxs)("div",{className:zh("field-wrapper"),children:[Object(da.jsx)(Kr.a,{value:d,onUpdate:function(e){u(e),O("")},type:x?"text":"password",placeholder:"Password",error:m,onKeyDown:function(e){13===e.keyCode&&N()},size:"l"}),Object(da.jsx)(Wr.a,{onClick:function(){y((function(e){return!e}))},size:"l",className:zh("show-password-button"),children:Object(da.jsx)(Ci.a,{data:x?Uh:Vh,size:16})})]}),Object(da.jsx)(Wr.a,{view:"action",onClick:N,width:"max",size:"l",disabled:Boolean(!o||!d||j||m),className:zh("button-sign-in"),children:"Sign in"})]})})})),Qh=b()("app");function qh(e){var t=e.singleClusterMode,a=location.pathname.includes("/clusters")||!t&&"/"===location.pathname;return Object(da.jsxs)(r.a.Fragment,{children:[!a&&Object(da.jsx)(Mh,{}),Object(da.jsx)("main",{className:Qh("main"),children:e.children||Object(da.jsxs)(j.d,{children:[Object(da.jsx)(j.b,{path:Gr.cluster,component:fs}),Object(da.jsx)(j.b,{path:Gr.tenant,component:ku}),Object(da.jsx)(j.b,{path:Gr.pdisk,component:Iu}),Object(da.jsx)(j.b,{path:Gr.vdisk,component:Ku}),Object(da.jsx)(j.b,{path:Gr.node,component:is}),Object(da.jsx)(j.b,{path:Gr.group,component:Zu}),Object(da.jsx)(j.b,{path:Gr.pool,component:ch}),Object(da.jsx)(j.b,{path:Gr.tablet,component:Oh}),Object(da.jsx)(j.b,{path:Gr.tabletsFilters,component:wh}),Object(da.jsx)(j.a,{to:qr(Gr.cluster,{activeTab:zr.id})})]})}),Object(da.jsx)(kh,{}),Object(da.jsx)(Ph,{})]})}var Gh=Object(u.b)((function(e){return{theme:xt(e,Y),isAuthenticated:e.authentication.isAuthenticated,singleClusterMode:e.singleClusterMode}}))((function(e){var t=e.theme,a=e.singleClusterMode,n=e.isAuthenticated;return Object(da.jsx)(Co.Consumer,{children:function(r){return Object(da.jsx)(j.c,{history:r,children:Object(da.jsx)(f.a,{theme:t,children:Object(da.jsx)("div",{className:a?Qh({embedded:!0}):Qh(),children:n?e.children:Object(da.jsx)(Bh,{})})})})}})})),Wh=a(287),Kh=a.n(Wh),Yh=a(466),Jh=a.n(Yh),Xh=a(983),$h=a(471),ep=(a(940),b()("nv-drawer")),tp=function(e){var t=e.className,a=e.visible,n=e.children;return Object(da.jsx)(Xh.a,{in:a,timeout:300,unmountOnExit:!0,classNames:ep("item-transition"),children:Object(da.jsx)("div",{className:ep("item",t),children:n})})},ap=function(e){var t=e.className,a=e.children,n=e.style,i=e.onVeilClick,o=e.onEscape,s=e.preventSrcollBody,c=void 0===s||s,l=!1;return r.a.Children.forEach(a,(function(e){var t=e;t.type===tp&&(Boolean(t.props.visible)&&(l=!0))})),r.a.useEffect((function(){function e(e){"Escape"===e.key&&(null===o||void 0===o||o())}return l&&window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[o,l]),r.a.useEffect((function(){var e=c,t=function(){document.body.style.paddingRight="",document.body.style.paddingBottom="",document.body.style.overflow=""};return e&&(l?function(){var e=window.innerWidth-document.documentElement.clientWidth,t=window.innerHeight-document.documentElement.clientHeight;document.body.style.paddingRight=e+"px",document.body.style.paddingBottom=t+"px",document.body.style.overflow="hidden"}():t()),function(){e&&t()}}),[l,c]),Object(da.jsx)($h.a,{in:l,timeout:{enter:0,exit:300},mountOnEnter:!0,unmountOnExit:!0,children:function(e){var o=l&&"entered"===e;return Object(da.jsxs)("div",{className:ep(null,t),style:n,children:[Object(da.jsx)(Xh.a,{in:o,timeout:300,unmountOnExit:!0,classNames:ep("veil-transition"),children:Object(da.jsx)("div",{className:ep("veil"),onClick:i})}),r.a.Children.map(a,(function(e){var t=e;if(t.type===tp){var a=Boolean(t.props.visible);return r.a.cloneElement(t,Object(m.a)(Object(m.a)({},t.props),{},{visible:a&&o}))}return e}))]})}})},np=(a(941),b()("nv-aside-header-logo")),rp=function(e){var t,a=e.onLogoIconClick,n=e.logoText,r=e.logoIcon,i=e.logoIconSize,o=void 0===i?24:i,s=e.logoTextSize,c=void 0===s?16:s,l=e.logoHref,d=void 0===l?"/":l,u=e.logoIconClassName,h=e.isCompact,p=e.logoWrapper,j="function"===typeof p,v="function"===typeof a?{}:{target:"_self",href:d},b=Object(da.jsx)(Wr.a,Object(m.a)(Object(m.a)({view:"flat",size:"l",className:np("btn-logo"),component:j?"span":void 0,onClick:a},v),{},{children:Object(da.jsx)(Ci.a,{data:r,size:o,className:u})}));return t="function"===typeof n?n():Object(da.jsx)("div",{className:np("logo"),style:{fontSize:c},children:n}),Object(da.jsxs)("div",{className:np(),children:[Object(da.jsx)("div",{className:np("logo-btn-place"),children:"function"===typeof p?p(b,h):b}),!h&&("function"===typeof p?p(t,h):Object(da.jsx)("a",Object(m.a)(Object(m.a)({},v),{},{className:np("logo-link"),onClick:a,children:t})))]})},ip=a(296),op=a(979),sp=a(467),cp=a(468),lp="ydb-embedded-ui";p.registerKeyset(h.a.LANGS.en,lp,sp),p.registerKeyset(h.a.LANGS.ru,lp,cp);var dp,up=p.keyset(lp),hp=(a(942),b()("nv-aside-header-tooltip")),pp=["right"],jp=function(e){var t=e.anchor,a=e.text,n=r.a.useRef(t);return r.a.useEffect((function(){n.current=t}),[t]),t?Object(da.jsx)(Oo.a,{className:hp(),open:!0,anchorRef:n,placement:pp,disableEscapeKeyDown:!0,disableOutsideClick:!0,disableLayer:!0,children:Object(da.jsx)("div",{className:hp("text"),children:a})}):null};function vp(){return vp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},vp.apply(this,arguments)}var bp=function(e){return n.createElement("svg",vp({"aria-hidden":"true","data-prefix":"fas","data-icon":"ellipsis",className:"dots_svg__svg-inline--fa dots_svg__fa-ellipsis",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},e),dp||(dp=n.createElement("path",{fill:"currentColor",d:"M120 256c0 30.9-25.07 56-56 56S8 286.9 8 256s25.07-56 56-56 56 25.1 56 56zm160 0c0 30.9-25.1 56-56 56s-56-25.1-56-56 25.1-56 56-56 56 25.1 56 56zm48 0c0-30.9 25.1-56 56-56s56 25.1 56 56-25.1 56-56 56-56-25.1-56-56z"})))},fp=(a(943),b()("nv-composite-bar")),mp="nv-collapse-item-id",Op=["right-start","right-end","right"],gp=function(e){var t=e.findIndex((function(e){var t=e.current;return Boolean(t)}));return-1===t?void 0:t},Cp=function(e){var t=e.item,a=e.isCompact,n=e.collapseItems,i=e.onClick,o=r.a.useState(null),s=Object(Oe.a)(o,2),c=s[0],l=s[1],d=r.a.useState(!1),u=Object(Oe.a)(d,2),h=u[0],p=u[1],j=r.a.useRef(null),v=t.tooltipText||t.title,b=t.iconSize||24,f=t.id===mp,m=Object(da.jsxs)("div",{className:fp("menu-item"),ref:j,onClick:function(){"function"===typeof t.onItemClick&&t.onItemClick(t,!1),f&&(p(!h),l(null)),null===i||void 0===i||i()},children:[Object(da.jsx)("div",{className:fp("menu-icon-place"),children:a?Object(da.jsxs)(r.a.Fragment,{children:[Object(da.jsx)("div",{onMouseEnter:function(e){return!h&&l(e.currentTarget)},onMouseLeave:function(){return l(null)},className:fp("btn-icon",{current:Boolean(t.current)}),children:t.icon&&Object(da.jsx)(Ci.a,{data:t.icon,size:b,className:fp("menu-icon")})}),Object(da.jsx)(jp,{anchor:c,text:v})]}):t.icon&&Object(da.jsx)(Ci.a,{data:t.icon,size:b,className:fp("menu-icon")})}),Object(da.jsx)("div",{className:fp("menu-title"),title:t.title,children:t.title}),f&&Array.isArray(n)&&Boolean(j.current)&&Object(da.jsx)(Oo.a,{placement:Op,open:h,anchorRef:j,onClose:function(){return p(!1)},children:Object(da.jsx)("div",{className:fp("collapse-items-popup-content"),children:Object(da.jsx)(op.a,{itemClassName:fp("root-collapse-item"),items:n,selectedItemIndex:gp(n),itemHeight:28,itemsHeight:28*n.length,virtualized:!1,filterable:!1,sortable:!1,renderItem:function(e){var t=Object(da.jsx)("div",{className:fp("collapse-item"),onClick:function(){"function"===typeof e.onItemClick&&e.onItemClick(e,!0)},children:e.title});return"function"===typeof e.itemWrapper?e.itemWrapper(t,e,!0,a):e.link?Object(da.jsx)("a",{href:e.link,className:fp("link"),children:t}):t}})})})]});return"function"===typeof t.itemWrapper?t.itemWrapper(m,t,!1,a):t.link?Object(da.jsx)("a",{href:t.link,className:fp("link"),children:m}):m};Cp.displayName="Item";var xp,yp=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={height:"auto",activeItemIndex:void 0},e.currentItemsCount=0,e.skipCheckResize=!1,e.onResize=function(t){var a=t.height;if(e.skipCheckResize)e.skipCheckResize=!1;else{var n=40*e.currentItemsCount;a<n?e.state.height!==n&&(e.skipCheckResize=!0,e.setState({height:n})):"auto"!==e.state.height&&(e.skipCheckResize=!0,e.setState({height:"auto"}))}},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return Object(da.jsx)(r.a.Fragment,{children:Object(da.jsx)("div",{className:fp(),style:{height:this.state.height},children:0!==this.props.items.length&&Object(da.jsx)(ip.a,{onResize:this.onResize,children:function(t){var a=t.width,n=t.height,r={width:a,height:n};return Object(da.jsx)("div",{style:r,children:e.renderMenu(n)})}})})})}},{key:"renderMenu",value:function(e){var t,a=this.props,n=a.items,r=a.isCompact,i=a.onClickItem,o=Math.max(1,Math.floor(e/40)),s=null;if(1===o)t=n.filter((function(e){return e.pinned})),(s=Object(re.a)(n.filter((function(e){return!e.pinned})))).length>0&&t.push(this.getCollapseItem());else if(o<n.length){var c=n.filter((function(e,t){return e.pinned&&t>=o-1})).length,l=n.reduceRight((function(e,t,a){var n=!t.pinned&&a<o-1&&e.extraCount>0;return e.flags.unshift(t.pinned||n),{flags:e.flags,extraCount:e.extraCount-Number(n)}}),{flags:[],extraCount:c}).flags;t=n.filter((function(e,t){return e.pinned||t<o-1&&!l[t]})),(s=n.filter((function(e,t){return!e.pinned&&(t>=o-1||l[t])}))).length>0&&t.push(this.getCollapseItem())}else t=Object(re.a)(n);return this.currentItemsCount=t.length,Object(da.jsx)(op.a,{items:t,selectedItemIndex:r?void 0:gp(t),itemHeight:40,itemClassName:fp("root-menu-item",{compact:r}),itemsHeight:40*t.length,virtualized:!1,filterable:!1,sortable:!1,renderItem:function(e){return Object(da.jsx)(Cp,{item:e,isCompact:r,collapseItems:s,onClick:function(){return null===i||void 0===i?void 0:i(e)}})}})}},{key:"getCollapseItem",value:function(){return{id:mp,title:up("label_more"),icon:bp,iconSize:16}}}]),a}(r.a.Component),Np=r.a.createContext(void 0),wp=r.a.createContext(void 0);function Sp(e){var t=e.children,a=r.a.useState({}),n=Object(Oe.a)(a,2),i=n[0],o=n[1],s=r.a.useCallback((function(e,t){o((function(a){return a[e]===t?a:Object(m.a)(Object(m.a)({},a),{},Object(D.a)({},e,t))}))}),[o]);return Object(da.jsx)(wp.Provider,{value:s,children:Object(da.jsx)(Np.Provider,{value:i,children:t})})}function kp(e){return function(){var e=r.a.useContext(Np);if(void 0===e)throw new Error("useSlots must be used within a SlotsProvider");return e}()[e]}function Tp(e){var t=e.name,a=e.slotRef,n=e.children,r=kp(t);return"function"===typeof a?a(r||null):a&&(a.current=r),r?o.a.createPortal(n,r):null}!function(e){e.Settings="settings",e.User="user",e.Support="support",e.BugReport="bug-report"}(xp||(xp={}));var Lp,Ep,Ip,Mp,Pp,Dp="nvAsideHeader";function Rp(){return Rp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Rp.apply(this,arguments)}!function(e){e.SETTINGS_OPEN="SETTINGS_OPEN",e.SETTINGS_CLOSE="SETTINGS_CLOSE"}(Lp||(Lp={})),function(e){e.Settings="settings"}(Ep||(Ep={})),function(e){e.Bug="bug",e.Support="support",e.Settings="settings",e.SettingsWithDot="settings-with-dot"}(Ip||(Ip={})),function(e){e.Normal="normal",e.WithDot="with-dot"}(Mp||(Mp={}));var Hp,Ap=function(e){return n.createElement("svg",Rp({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Pp||(Pp=n.createElement("path",{d:"M20.248 12.66a1.021 1.021 0 00-1-1.065H17.44V9.723l1.485-1.518a.996.996 0 000-1.453.996.996 0 00-1.453 0l-1.776 1.744H8.303L6.528 6.752a.996.996 0 00-1.453 0 .996.996 0 000 1.453l1.517 1.518v1.872H4.784c-.581 0-1.065.484-1.033 1.065 0 .582.484 1.001 1.033 1.001h1.808v.517c0 .71.13 1.388.42 2.002l-1.937 1.936a.996.996 0 000 1.453.996.996 0 001.453 0l1.775-1.775a4.646 4.646 0 002.938 1.033v-7.878c0-.193.162-.387.388-.387h.774c.194 0 .388.194.388.387v7.878a4.624 4.624 0 002.905-1.033l1.776 1.775a.996.996 0 001.453 0 .996.996 0 000-1.453l-1.937-1.936c.29-.614.452-1.292.452-2.002v-.517h1.775c.55 0 1.034-.42 1.034-1zm-8.2-9.33c-2.002 0-3.616 1.647-3.616 3.616h7.232c0-1.97-1.646-3.616-3.616-3.616z",fill:"currentColor"})))};function Fp(){return Fp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Fp.apply(this,arguments)}var Vp,_p=function(e){return n.createElement("svg",Fp({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Hp||(Hp=n.createElement("path",{d:"M21 12c0-4.936-4.065-9-9-9-4.972 0-9 4.064-9 9 0 4.972 4.028 9 9 9 4.935 0 9-4.028 9-9zm-8.782-6.024c2.068 0 4.246 1.596 4.246 3.701 0 2.831-3.012 2.867-3.012 3.883v.037a.441.441 0 01-.436.435h-2.032a.42.42 0 01-.436-.435v-.146c0-1.487 1.125-2.068 1.96-2.54.726-.399 1.198-.69 1.198-1.234 0-.725-.944-1.197-1.67-1.197-.98 0-1.415.472-2.068 1.306a.453.453 0 01-.617.073l-1.27-.944c-.182-.145-.218-.399-.073-.617.98-1.488 2.25-2.322 4.21-2.322zm-.218 9c.907 0 1.67.762 1.67 1.67 0 .943-.763 1.668-1.67 1.668-.944 0-1.67-.725-1.67-1.669 0-.907.726-1.67 1.67-1.67z",fill:"currentColor"})))};function Up(){return Up=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Up.apply(this,arguments)}var zp,Zp,Bp=function(e){return n.createElement("svg",Up({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Vp||(Vp=n.createElement("path",{d:"M20.763 14.255l-1.63-.912c.19-.911.19-1.784 0-2.696l1.63-.911a.437.437 0 00.19-.532 9.714 9.714 0 00-2.046-3.607.459.459 0 00-.569-.076l-1.63.911a7.611 7.611 0 00-2.273-1.329v-1.86c0-.19-.151-.38-.379-.418-1.402-.342-2.804-.304-4.13 0-.227.038-.34.227-.34.417v1.861c-.872.304-1.63.76-2.312 1.367l-1.63-.95a.459.459 0 00-.568.077A9.714 9.714 0 003.03 9.204c-.076.19 0 .418.19.532l1.629.911a8.05 8.05 0 000 2.696l-1.63.912a.437.437 0 00-.19.531 9.713 9.713 0 002.047 3.608c.152.152.379.19.568.076l1.63-.912a7.355 7.355 0 002.311 1.33v1.86c0 .19.152.38.341.456 1.402.304 2.804.266 4.13 0 .228-.076.38-.266.38-.456v-1.86a7.612 7.612 0 002.273-1.33l1.63.912a.458.458 0 00.568-.076c.947-1.025 1.629-2.24 2.084-3.608a.511.511 0 00-.228-.531zm-8.753.76c-1.705 0-3.031-1.33-3.031-3.039a3.02 3.02 0 013.031-3.038 3.044 3.044 0 013.031 3.038 3.02 3.02 0 01-3.03 3.038z",fill:"currentColor"})))};function Qp(){return Qp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Qp.apply(this,arguments)}var qp,Gp=function(e){return n.createElement("svg",Qp({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),zp||(zp=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.134 13.343l1.629.912a.51.51 0 01.227.531c-.454 1.367-1.136 2.583-2.084 3.608a.458.458 0 01-.568.076l-1.63-.912a7.613 7.613 0 01-2.273 1.33v1.86c0 .19-.152.38-.379.456-1.326.266-2.728.304-4.13 0-.19-.076-.341-.266-.341-.456v-1.86a7.355 7.355 0 01-2.312-1.33l-1.629.912a.459.459 0 01-.568-.076 9.714 9.714 0 01-2.046-3.608.437.437 0 01.189-.531l1.63-.912a8.05 8.05 0 010-2.696l-1.63-.911a.437.437 0 01-.19-.532 9.714 9.714 0 012.047-3.607.459.459 0 01.568-.076l1.63.949a6.783 6.783 0 012.31-1.367v-1.86c0-.19.114-.38.342-.418 1.326-.304 2.728-.342 4.13 0a.442.442 0 01.379.417v1.861a7.3 7.3 0 01.067.025 3.901 3.901 0 004.677 5.755 6.447 6.447 0 01-.045 2.46zm1.67-3.634a.45.45 0 00.146-.19 3.864 3.864 0 01-.147.19zM8.978 11.976c0 1.71 1.326 3.038 3.03 3.038a3.02 3.02 0 003.032-3.038 3.044 3.044 0 00-3.031-3.038 3.02 3.02 0 00-3.031 3.038z",fill:"currentColor"})),Zp||(Zp=n.createElement("circle",{cx:17.783,cy:7.239,r:2.5,fill:"#FF0400",fillOpacity:.8})))},Wp=(qp={},Object(D.a)(qp,Ip.Bug,Ap),Object(D.a)(qp,Ip.Support,_p),Object(D.a)(qp,Ip.Settings,Bp),Object(D.a)(qp,Ip.SettingsWithDot,Gp),qp);a(944);var Kp=b()("nv-aside-header-footer-item"),Yp=["right-end"],Jp=[-20,8],Xp=function(e){var t=e.onClick,a=e.isCompact,n=e.isCurrent,i=void 0!==n&&n,o=e.enableTooltip,s=void 0===o||o,c=e.tooltipText,l=e.text,d=e.iconSize,u=void 0===d?24:d,h=e.slot,p=e.view,j=e.className,v=e.popupAnchor,b=e.popupVisible,f=void 0!==b&&b,m=e.popupPlacement,O=void 0===m?Yp:m,g=e.popupOffset,C=void 0===g?Jp:g,x=e.onClosePopup,y=e.renderPopupContent,N=e.renderCustomIcon,w=r.a.useState(null),S=Object(Oe.a)(w,2),k=S[0],T=S[1],L=r.a.useRef(null);r.a.useEffect((function(){a||T(null)}),[a]);var E,I=h&&function(e,t){switch(e){case xp.BugReport:return Wp[Ip.Bug];case xp.Support:return Wp[Ip.Support];case xp.Settings:return t===Mp.WithDot?Wp[Ip.SettingsWithDot]:Wp[Ip.Settings];default:return}}(h,p)||Bp;if("function"===typeof N)E=N();else{var M="string"===typeof I?Wp[I]:I;E=a?Object(da.jsxs)(r.a.Fragment,{children:[Object(da.jsx)("div",{onMouseEnter:function(e){return T(e.currentTarget)},onMouseLeave:function(){return T(null)},className:Kp("btn-icon",{current:i}),children:Object(da.jsx)(Ci.a,{data:M,size:u,className:Kp("icon")})}),s&&Object(da.jsx)(jp,{anchor:k,text:c||l})]}):Object(da.jsx)("div",{className:Kp("icon-wrap"),children:Object(da.jsx)(Ci.a,{data:M,size:u,className:Kp("icon")})})}var P=v||L,D=r.a.useCallback((function(e){var t;e instanceof MouseEvent&&e.target&&null!==(t=L.current)&&void 0!==t&&t.contains(e.target)||null===x||void 0===x||x()}),[x]),R=Object(da.jsxs)(r.a.Fragment,{children:[Object(da.jsxs)("div",{className:Kp({compact:a,current:i},j),onClick:t,ref:L,children:[Object(da.jsx)("div",{className:Kp("icon-place"),children:E}),!a&&Object(da.jsx)("div",{className:Kp("text"),children:l})]}),Object(da.jsx)(Oo.a,{className:Kp("popup"),open:f,placement:O,offset:C,anchorRef:P,onClose:D,children:null===y||void 0===y?void 0:y()})]});return h?Object(da.jsx)(Tp,{name:h,children:R}):R},$p=r.a.memo((function(e){var t=e.renderContent,a=e.size;return Object(da.jsx)(r.a.Fragment,{children:t({size:a})})}));$p.displayName="RenderContent";var ej,tj=function(e){var t=e.size,a=e.className,n=e.renderContent;return Object(da.jsx)("div",{className:a,style:Object(m.a)({},{"--nv-aside-header-size":"".concat(t,"px")}),children:"function"===typeof n&&Object(da.jsx)($p,{size:t,renderContent:n})})};function aj(){return function(e){try{var t=window.localStorage.getItem(e);return null===t?null:JSON.parse(t)}catch(a){return null}}(Dp)}function nj(e){var t=aj();!function(e,t){try{window.localStorage.setItem(e,JSON.stringify(t))}catch(a){console.error("data not saved in localeStorage: ".concat(a))}}(Dp,Object(m.a)(Object(m.a)({},t),e))}function rj(){return rj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},rj.apply(this,arguments)}var ij,oj=function(e){return n.createElement("svg",rj({viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ej||(ej=n.createElement("path",{d:"M8.031 8.531c.281-.281.281-.75 0-1.062l-4.25-4.25c-.312-.281-.781-.281-1.062 0L2 3.938c-.281.312-.281.78 0 1.062l3.031 3.031-3.031 3c-.281.281-.281.75 0 1.063l.719.687c.281.313.75.313 1.062 0l4.25-4.25zm6-1.062l-4.25-4.25c-.312-.281-.781-.281-1.062 0L8 3.938A.774.774 0 008 5l3.031 3L8 11.031c-.281.281-.281.75 0 1.063l.719.687c.281.313.75.313 1.062 0l4.25-4.25c.281-.281.281-.75 0-1.062z",fill:"currentColor"})))},sj=(a(945),b()("nv-aside-header")),cj=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n,i,o;Object(s.a)(this,a),(o=t.call(this,e)).asideRef=r.a.createRef(),o.throttledPageMouseMove=void 0,o.triggerEvent=function(e){if(e===Lp.SETTINGS_OPEN)o.onSettingsToggle(!0)},o.renderFirstPane=function(e){var t=o.props,a=t.menuItems,n=t.panelVisible,r=t.renderPanel,i=t.panelClassName,s=t.settings,c=o.state.isCompact;return Object(da.jsxs)(Sp,{children:[Object(da.jsxs)("div",{className:sj("aside"),style:{width:e},children:[o.renderCollapseButton(),Object(da.jsx)("div",{className:sj("aside-popup-anchor"),ref:o.asideRef}),Object(da.jsxs)("div",{className:sj("aside-content"),children:[Object(da.jsx)(rp,{onLogoIconClick:o.props.onLogoIconClick,logoWrapper:o.props.logoWrapper,logoText:o.props.logoText,logoIcon:o.props.logoIcon,logoIconSize:o.props.logoIconSize,logoTextSize:o.props.logoTextSize,logoHref:o.props.logoHref,logoIconClassName:o.props.logoIconClassName,isCompact:c}),Object(da.jsx)(yp,{items:a,isCompact:c,onClickItem:o.onCompositeBarClick}),o.renderFooter(e)]})]}),Object(da.jsxs)(ap,{className:sj("drawer"),onVeilClick:o.onCloseDrawer,onEscape:o.onCloseDrawer,style:{left:e},children:[Object(da.jsx)(tp,{visible:n,className:sj("panel",i),children:null===r||void 0===r?void 0:r()}),Object(da.jsx)(tp,{visible:o.isVisibleItem(Ep.Settings),children:s})]})]})},o.renderSecondPane=function(e){return Object(da.jsx)(tj,{size:e,renderContent:o.props.renderContent,className:sj("content")})},o.renderFooter=function(e){var t=o.props,a=t.settings,n=t.settingsIconWithBadge,r=o.state.isCompact;return Object(da.jsx)(wp.Consumer,{children:function(t){var i,s;return t?Object(da.jsxs)("div",{className:sj("footer"),children:[null===(i=(s=o.props).renderFooter)||void 0===i?void 0:i.call(s,{size:e,isCompact:r,asideRef:o.asideRef}),Object(da.jsx)("div",{ref:function(e){t(xp.Support,e)}}),Object(da.jsx)("div",{ref:function(e){t(xp.BugReport,e)}}),Object(da.jsx)("div",{ref:function(e){t(xp.Settings,e)},children:a?Object(da.jsx)(Xp,{slot:xp.Settings,view:n?Mp.WithDot:Mp.Normal,text:up("switch_settings"),isCompact:r,isCurrent:o.isVisibleItem(Ep.Settings),onClick:function(){return o.onSettingsToggle()}}):null}),Object(da.jsx)("div",{ref:function(e){t(xp.User,e)}})]}):null}})},o.renderCollapseButton=function(){var e=o.state,t=e.isCompact,a=e.isButtonVisible?"visible":"hidden";return Object(da.jsx)(Wr.a,{className:sj("collapse-button",{compact:t}),view:"flat",style:{visibility:a},onClick:o.onCollapseButtonClick,children:Object(da.jsx)(Ci.a,{data:oj,className:sj("collapse-icon"),width:"14",height:"14"})})},o.onCollapseButtonClick=function(){var e=!o.state.isCompact;"undefined"===typeof o.props.isCompact?(nj({isCompact:e}),o.setState({isCompact:e,isButtonVisible:!e})):o.setState({isButtonVisible:!e}),o.props.onChangeCompact&&o.props.onChangeCompact(e)},o.onCloseDrawer=function(){var e,t;o.setState({visibleItem:null}),null===(e=(t=o.props).onClosePanel)||void 0===e||e.call(t)},o.onSettingsToggle=function(e){var t,a,n;(t="undefined"===typeof e?o.getToggledVisibleItem(Ep.Settings):e?Ep.Settings:null,o.setState({visibleItem:t}),o.props.panelVisible)&&(null===(a=(n=o.props).onClosePanel)||void 0===a||a.call(n))},o.isVisibleItem=function(e){return e===o.state.visibleItem},o.getToggledVisibleItem=function(e){return o.isVisibleItem(e)?null:e},o.onPageMouseMove=function(e){var t=e.clientX;!o.state.isButtonVisible&&t<=84&&t>=0?o.setState({isButtonVisible:!0}):o.state.isButtonVisible&&(t>84||t<0)&&o.setState({isButtonVisible:!1})},o.onCompositeBarClick=function(){o.setState({visibleItem:null})},o.throttledPageMouseMove=Jh()(o.onPageMouseMove,300);var c="boolean"===typeof(null===(n=aj())||void 0===n?void 0:n.isCompact)?Boolean(null===(i=aj())||void 0===i?void 0:i.isCompact):Boolean(e.initIsCompact);return o.state={visibleItem:null,isCompact:c,isButtonVisible:!c},o}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a,n;(!e.panelVisible&&this.props.panelVisible&&this.state.visibleItem&&this.setState({visibleItem:null}),t.visibleItem===Ep.Settings!==this.isVisibleItem(Ep.Settings))&&(null===(a=(n=this.props).onEvent)||void 0===a||a.call(n,this.isVisibleItem(Ep.Settings)?Lp.SETTINGS_OPEN:Lp.SETTINGS_CLOSE))}},{key:"render",value:function(){var e=this,t=this.state.isCompact?56:236;return Object(da.jsx)("div",{className:sj(null,this.props.className),children:Object(da.jsxs)("div",{className:sj("pane-container"),onMouseMove:function(t){e.state.isCompact&&(t.persist(),e.throttledPageMouseMove(t))},children:[this.renderFirstPane(t),this.renderSecondPane(t)]})})}}],[{key:"getDerivedStateFromProps",value:function(e,t){if("undefined"!==typeof e.isCompact){var a={isCompact:e.isCompact};return e.isCompact&&t.isCompact||t.isButtonVisible||(a.isButtonVisible=!0),a}return null}}]),a}(r.a.Component);function lj(){return lj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},lj.apply(this,arguments)}cj.defaultProps={menuItems:[],panelVisible:!1,onClosePanel:Kh.a};var dj,uj=function(e){return n.createElement("svg",lj({"aria-hidden":"true","data-prefix":"fas","data-icon":"arrow-right-from-bracket",className:"signOut_svg__svg-inline--fa signOut_svg__fa-arrow-right-from-bracket",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),ij||(ij=n.createElement("path",{fill:"currentColor",d:"M160 416H96c-17.67 0-32-14.33-32-32V128c0-17.67 14.33-32 32-32h64c17.67 0 32-14.33 32-32s-14.3-32-32-32H96C42.98 32 0 74.98 0 128v256c0 53.02 42.98 96 96 96h64c17.67 0 32-14.33 32-32s-14.3-32-32-32zm342.6-182.6l-128-128c-12.51-12.51-32.76-12.49-45.25 0-12.5 12.5-12.5 32.75 0 45.25L402.8 224H192c-17.7 0-32 14.3-32 32s14.31 32 32 32h210.8l-73.38 73.38c-12.5 12.5-12.5 32.75 0 45.25s32.75 12.5 45.25 0l128-128c12.43-12.53 12.43-32.73-.07-45.23z"})))};function hj(){return hj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},hj.apply(this,arguments)}var pj,jj=function(e){return n.createElement("svg",hj({"aria-hidden":"true","data-prefix":"fas","data-icon":"arrow-right-to-bracket",className:"signIn_svg__svg-inline--fa signIn_svg__fa-arrow-right-to-bracket",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),dj||(dj=n.createElement("path",{fill:"currentColor",d:"M416 32h-64c-17.67 0-32 14.33-32 32s14.33 32 32 32h64c17.67 0 32 14.33 32 32v256c0 17.67-14.33 32-32 32h-64c-17.67 0-32 14.33-32 32s14.33 32 32 32h64c53.02 0 96-42.98 96-96V128c0-53.02-43-96-96-96zm-73.4 201.4l-128-128c-12.51-12.51-32.76-12.49-45.25 0-12.5 12.5-12.5 32.75 0 45.25L242.8 224H32c-17.69 0-32 14.3-32 32s14.31 32 32 32h210.8l-73.38 73.38c-12.5 12.5-12.5 32.75 0 45.25s32.75 12.5 45.25 0l128-128c12.43-12.53 12.43-32.73-.07-45.23z"})))};function vj(){return vj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},vj.apply(this,arguments)}var bj,fj=function(e){return n.createElement("svg",vj({"aria-hidden":"true","data-prefix":"fas","data-icon":"server",className:"server_svg__svg-inline--fa server_svg__fa-server",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),pj||(pj=n.createElement("path",{fill:"currentColor",d:"M480 160H32c-17.673 0-32-14.327-32-32V64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24z"})))};function mj(){return mj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},mj.apply(this,arguments)}var Oj,gj=function(e){return n.createElement("svg",mj({"aria-hidden":"true","data-prefix":"fas","data-icon":"database",className:"storage_svg__svg-inline--fa storage_svg__fa-database",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},e),bj||(bj=n.createElement("path",{fill:"currentColor",d:"M448 73.12v45.75C448 159.1 347.6 192 224 192S0 159.1 0 118.9V73.12C0 32.88 100.4 0 224 0s224 32.88 224 73.12zM448 176v102.9c0 40.2-100.4 73.1-224 73.1S0 319.1 0 278.9V176c48.12 33.12 136.2 48.62 224 48.62S399.9 209.1 448 176zm0 160v102.9c0 40.2-100.4 73.1-224 73.1S0 479.12 0 438.87V336c48.12 33.13 136.2 48.63 224 48.63S399.9 369.1 448 336z"})))};function Cj(){return Cj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Cj.apply(this,arguments)}var xj,yj=function(e){return n.createElement("svg",Cj({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),Oj||(Oj=n.createElement("path",{d:"M260.353 254.878L131.538 33.1a2.208 2.208 0 00-3.829.009L.3 254.887a2.234 2.234 0 000 2.235L129.116 478.9a2.208 2.208 0 003.83-.009l127.412-221.778a2.239 2.239 0 00-.005-2.235zm39.078-25.713a2.19 2.19 0 001.9 1.111h66.509a2.226 2.226 0 001.9-3.341L259.115 33.111a2.187 2.187 0 00-1.9-1.111h-66.508a2.226 2.226 0 00-1.9 3.341zM511.7 254.886L384.9 33.112A2.2 2.2 0 00382.99 32h-66.6a2.226 2.226 0 00-1.906 3.34L440.652 256 314.481 476.66a2.226 2.226 0 001.906 3.34h66.6a2.2 2.2 0 001.906-1.112L511.7 257.114a2.243 2.243 0 000-2.228zm-145.684 30.031h-66.508a2.187 2.187 0 00-1.9 1.111l-108.8 190.631a2.226 2.226 0 001.9 3.341h66.509a2.187 2.187 0 001.9-1.111l108.8-190.631a2.226 2.226 0 00-1.901-3.341z"})))};function Nj(){return Nj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Nj.apply(this,arguments)}var wj,Sj=function(e){return n.createElement("svg",Nj({viewBox:"0 0 16 16",fill:"currenColor",xmlns:"http://www.w3.org/2000/svg"},e),xj||(xj=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 1.5c0 .828-1.343 1.5-3 1.5s-3-.672-3-1.5S11.343 0 13 0s3 .672 3 1.5zM5 11.6v2.7c0 .9 1.3 1.6 3 1.6s3-.7 3-1.6v-2.7c-.8.7-1.9 1-3 1s-2.2-.3-3-1zM10 3v-.4c.8.7 1.9 1 3 1s2.2-.3 3-1v2.8c0 .8-1.2 1.5-2.8 1.6l-2.475 2.871c.176.192.275.404.275.629 0 .828-1.343 1.5-3 1.5s-3-.672-3-1.5a.9.9 0 01.232-.58L2.8 7.1C1.3 7 0 6.3 0 5.5V2.6c.8.7 1.9 1 3 1s2.2-.3 3-1V3h4zm-.276 6.272A5.27 5.27 0 008 9a5.88 5.88 0 00-.766.05A5.992 5.992 0 006.1 9.3L4 6.9c1.1-.2 2-.8 2-1.5V4h4v1.4c0 .7.7 1.3 1.8 1.5L9.724 9.272zM6 1.5C6 2.328 4.657 3 3 3s-3-.672-3-1.5S1.343 0 3 0s3 .672 3 1.5z"})))};function kj(){return kj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},kj.apply(this,arguments)}var Tj,Lj=function(e){return n.createElement("svg",kj({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},e),wj||(wj=n.createElement("path",{d:"M560 448h-48V113.5c0-27.25-21.5-49.5-48-49.5l-112 .01V128h96v384h112c8.875 0 16-7.125 16-15.1v-31.1c0-10.7-7.1-17.8-16-17.8zM280.3 1.007l-192 49.75C73.1 54.51 64 67.76 64 82.88V448H16c-8.875 0-16 7.125-16 15.1v31.1C0 504.9 7.125 512 16 512h304V33.13c0-21.5-19.5-37.373-39.7-32.123zM232 288c-13.25 0-24-14.37-24-31.1 0-17.62 10.75-31.1 24-31.1s24 12.6 24 30.2-10.7 32-24 32z"})))};function Ej(){return Ej=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ej.apply(this,arguments)}var Ij=function(e){return n.createElement("svg",Ej({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),Tj||(Tj=n.createElement("path",{d:"M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256 256-114.6 256-256S397.4 0 256 0zm0 128c39.77 0 72 32.24 72 72s-32.2 72-72 72c-39.76 0-72-32.24-72-72s32.2-72 72-72zm0 320c-52.93 0-100.9-21.53-135.7-56.29C136.5 349.9 176.5 320 224 320h64c47.54 0 87.54 29.88 103.7 71.71C356.9 426.5 308.9 448 256 448z"})))},Mj=a(469),Pj=a(470),Dj="nv-settings";p.registerKeyset(h.a.LANGS.en,Dj,Mj),p.registerKeyset(h.a.LANGS.ru,Dj,Pj);var Rj=p.keyset(Dj),Hj=b()("nv-settings-search");function Aj(e){var t=e.className,a=e.onChange,n=e.debounce,i=void 0===n?200:n,o=e.inputRef,s=r.a.useState(),c=Object(Oe.a)(s,2),l=c[0],d=c[1],u=r.a.useRef(a);u.current=a;var h=r.a.useRef(i);return h.current=i,r.a.useEffect((function(){var e;return void 0!==l&&(e=window.setTimeout((function(){u.current(l)}),h.current)),function(){clearTimeout(e)}}),[l]),Object(da.jsx)("div",{className:Hj(null,t),children:Object(da.jsx)(Kr.a,{controlRef:function(e){"function"===typeof o?o(e):o&&(o.current=e)},hasClear:!0,autoFocus:!0,placeholder:Rj("placeholder_search"),value:l,onUpdate:d})})}function Fj(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}a(946);var Vj=b()("nv-settings-menu"),_j=r.a.forwardRef((function(e,t){var a=e.items,i=e.onChange,o=e.activeItem,s=r.a.useState(),c=Object(Oe.a)(s,2),l=c[0],d=c[1],u=r.a.useRef(null),h=function(e){var t=n.useRef();return n.useEffect((function(){return t.current=e,function(){t.current=void 0}}),[e]),n.useCallback((function(){if("function"===typeof t.current)return t.current.apply(t,arguments)}),[])}(i),p=function(e){var t=n.useRef(e);return t.current=e,n.useCallback((function(){return t.current}),[])}(l);return r.a.useImperativeHandle(t,(function(){return{handleKeyDown:function(e){if(!u.current)return!1;var t=p();return t&&"Enter"===e.key?(h(t),!0):"ArrowDown"===e.key?(d(zj(u.current,t,1)),!0):"ArrowUp"===e.key&&(d(zj(u.current,t,-1)),!0)},clearFocus:function(){d(void 0)}}}),[p,h]),Object(da.jsx)("div",{ref:u,className:Vj(),children:a.map((function(e){return"groupTitle"in e?Object(da.jsxs)("div",{className:Vj("group"),children:[Object(da.jsx)("span",{className:Vj("group-heading"),children:e.groupTitle}),e.items.map((function(e){return Uj(e,i,o,l)}))]},e.groupTitle):Uj(e,i,o,l)}))})}));function Uj(e,t,a,n){return Object(da.jsxs)(Xr.a,{extraProps:{"data-id":e.id,tabIndex:-1,disabled:e.disabled},className:Vj("item",{selected:a===e.id,disabled:e.disabled,focused:n===e.id,badge:e.withBadge}),iconLeft:e.icon?Object(da.jsx)(Ci.a,Object(m.a)(Object(m.a)({size:16},e.icon),{},{className:Vj("item-icon")})):void 0,onClick:function(){t(e.id)},children:[e.icon?Object(da.jsx)(Ci.a,Object(m.a)(Object(m.a)({size:16},e.icon),{},{className:Vj("item-icon")})):void 0,Object(da.jsx)("span",{children:e.title})]},e.title)}function zj(e,t,a){var n,r=e.querySelectorAll(".".concat(Vj("item"),":not(.").concat(Vj("item"),"_disabled)"));if(0!==r.length){var i=a>0?-1:0;return t&&(i=Array.prototype.findIndex.call(r,(function(e){return e.getAttribute("data-id")===t}))),null!==(n=r[i=(r.length+i+a)%r.length].getAttribute("data-id"))&&void 0!==n?n:void 0}}function Zj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=[],n={};return r.a.Children.forEach(e,(function(e){if(r.a.isValidElement(e))if(e.type===r.a.Fragment){var i=Zj(e.props.children,t),o=i.menu,s=i.pages;a.push.apply(a,Object(re.a)(o)),Object.assign(n,s)}else if(e.props.groupTitle){var c;0;var l="".concat(t,"/").concat(null!==(c=e.props.id)&&void 0!==c?c:e.props.groupTitle);!0;var d=Zj(e.props.children,l),u=d.menu,h=d.pages;a.push({groupTitle:e.props.groupTitle,items:u}),Object.assign(n,h)}else{var p;!0;var j="".concat(t,"/").concat(null!==(p=e.props.id)&&void 0!==p?p:e.props.title);0,n[j]=Bj(e.props.children),a.push({pageId:j,title:e.props.title,icon:e.props.icon,withBadge:n[j].withBadge})}})),{menu:a,pages:n}}function Bj(e){var t={sections:[]};return r.a.Children.forEach(e,(function(e){if(r.a.isValidElement(e))if(e.type===r.a.Fragment){var a,n=Bj(e.props.children),i=n.sections,o=n.withBadge;(a=t.sections).push.apply(a,Object(re.a)(i)),t.withBadge=o||t.withBadge}else{var s=e.props,c=s.title,l=s.header;t.withBadge=e.props.withBadge||t.withBadge,t.sections.push({title:c,header:l,withBadge:e.props.withBadge,items:Qj(e.props.children)})}})),t}function Qj(e){var t=[];return r.a.Children.forEach(e,(function(e){r.a.isValidElement(e)&&(e.type===r.a.Fragment?t.push.apply(t,Object(re.a)(Qj(e.props.children))):t.push({title:e.props.title,renderTitleComponent:e.props.renderTitleComponent,children:e}))})),t}function qj(e){return e}a(947);var Gj,Wj=b()("nv-settings"),Kj=r.a.createContext(void 0);function Yj(e){var t,a=e.initialPage,n=e.onPageChange,i=e.children,o=e.renderNotFound,s=e.loading,c=e.renderLoading,l=r.a.useState(""),d=Object(Oe.a)(l,2),u=d[0],h=d[1],p=r.a.useState(a),j=Object(Oe.a)(p,2),v=j[0],b=j[1],f=r.a.useRef(a),m=r.a.useRef(null),O=r.a.useRef(null);if(r.a.useEffect((function(){var e;null===(e=O.current)||void 0===e||e.clearFocus()}),[u]),r.a.useEffect((function(){var e=function(){var e;null===(e=O.current)||void 0===e||e.clearFocus()};return window.addEventListener("click",e),function(){window.removeEventListener("click",e)}}),[]),v!==f.current&&(null===n||void 0===n||n(v),f.current=v),s)return Object(da.jsx)("div",{className:Wj({loading:!0}),children:"function"===typeof c?c():Object(da.jsx)(Yr.a,{className:Wj("loader"),size:"m"})});var g=Zj(i),C=g.menu,x=g.pages;!function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qj,n=Fj(t).replace(/\s+/g,".*?"),r=new RegExp(n,"i"),i=0,o=Object.values(e);i<o.length;i++){var s,c=o[i],l=!0,d=Object(Cn.a)(c.sections);try{for(d.s();!(s=d.n()).done;){var u,h=s.value,p=!0,j=Object(Cn.a)(h.items);try{for(j.s();!(u=j.n()).done;){var v=u.value;v.hide=Boolean(t)&&!r.test(v.title),v.renderTitleComponent?v.titleComponent=v.renderTitleComponent(t&&!v.hide?a(v.title,t):null):v.titleComponent=t&&!v.hide?a(v.title,t):v.title,p=p&&v.hide}}catch(b){j.e(b)}finally{j.f()}h.hide=p,l=l&&p}}catch(b){d.e(b)}finally{d.f()}c.hide=l}}(x,u,Jj);var y,N=[],w=Object(Cn.a)(C);try{for(w.s();!(y=w.n()).done;){var S=y.value;"groupTitle"in S?N.push({groupTitle:S.groupTitle,items:S.items.map((function(e){return{id:e.pageId,title:e.title,icon:e.icon,disabled:x[e.pageId].hide,withBadge:e.withBadge}}))}):N.push({id:S.pageId,title:S.title,icon:S.icon,disabled:x[S.pageId].hide,withBadge:S.withBadge})}}catch(D){w.e(D)}finally{w.f()}var k=v;if(!k||null!==(t=x[k])&&void 0!==t&&t.hide){k=void 0;var T,L=Object(Cn.a)(N);try{for(L.s();!(T=L.n()).done;){var E=T.value;if("groupTitle"in E){var I,M=Object(Cn.a)(E.items);try{for(M.s();!(I=M.n()).done;){var P=I.value;if(!P.disabled){k=P.id;break}}}catch(D){M.e(D)}finally{M.f()}if(k)break}else if(!E.disabled){k=E.id;break}}}catch(D){L.e(D)}finally{L.f()}}return k!==v&&b(k),Object(da.jsxs)("div",{className:Wj(),children:[Object(da.jsxs)("div",{className:Wj("menu"),onClick:function(){m.current&&m.current.focus()},onKeyDown:function(e){O.current&&O.current.handleKeyDown(e)&&e.preventDefault()},children:[Object(da.jsx)("h2",{className:Wj("heading"),children:Rj("heading_settings")}),Object(da.jsx)(Aj,{inputRef:m,className:Wj("search"),onChange:h}),Object(da.jsx)(_j,{ref:O,items:N,onChange:b,activeItem:k})]}),Object(da.jsx)("div",{className:Wj("page"),children:k?x[k].sections.map((function(e){return e.hide?null:Object(da.jsxs)("div",{className:Wj("section"),children:[Object(da.jsx)("h3",{className:Wj("section-heading",{badge:e.withBadge}),children:e.title}),e.header?e.header:null,e.items.map((function(e){var t=e.hide,a=e.title,n=e.children,r=e.titleComponent;return t?null:Object(da.jsx)("div",{className:Wj("section-item"),children:Object(da.jsx)(Kj.Provider,{value:r,children:n})},a)}))]},e.title)})):"function"===typeof o?o():Object(da.jsx)("div",{className:Wj("not-found"),children:Rj("not-found")})})]})}function Jj(e,t){var a,n=e.slice(0),r=[],i=Fj(t).split(" ").filter(Boolean),o=0,s=Object(Cn.a)(i);try{for(s.s();!(a=s.n()).done;){var c=a.value,l=new RegExp(c,"ig").exec(n);if(l){var d=l[0],u=l.index;u>0&&r.push(n.slice(0,u)),r.push(Object(da.jsx)("strong",{className:Wj("found"),children:d},o++)),n=n.slice(u+d.length)}}}catch(h){s.e(h)}finally{s.f()}return n&&r.push(n),r}function Xj(){return Xj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Xj.apply(this,arguments)}Yj.Group=function(e){var t=e.children;return Object(da.jsx)(r.a.Fragment,{children:t})},Yj.Page=function(e){var t=e.children;return Object(da.jsx)(r.a.Fragment,{children:t})},Yj.Section=function(e){var t=e.children;return Object(da.jsx)(r.a.Fragment,{children:t})},Yj.Item=function(e){var t=e.title,a=e.children,n=e.align,i=void 0===n?"center":n,o=e.withBadge,s=r.a.useContext(Kj);return Object(da.jsxs)("div",{className:Wj("item",{align:i}),children:[Object(da.jsx)("label",{className:Wj("item-heading",{badge:o}),children:null!==s&&void 0!==s?s:t}),Object(da.jsx)("div",{children:a})]})};var $j,ev=function(e){return n.createElement("svg",Xj({"aria-hidden":"true","data-prefix":"fas","data-icon":"star",className:"star_svg__svg-inline--fa star_svg__fa-star",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},e),Gj||(Gj=n.createElement("path",{fill:"currentColor",d:"M316.7 17.8l65.43 132.4 146.4 21.29c26.27 3.796 36.79 36.09 17.75 54.59l-105.9 102.1 25.05 145.5c4.508 26.31-23.23 45.9-46.49 33.7L288 439.6l-130.9 68.7c-23.3 12.2-51-7.4-46.5-33.7l25.05-145.5-105.93-103c-19.03-18.5-8.516-50.79 17.75-54.59l146.4-21.29 65.43-132.4c11.8-23.903 45.7-23.606 57.4-.02z"})))};!function(e){e.light="light",e.dark="dark",e.system="system"}($j||($j={}));var tv={setSettingValue:Ct},av=Object(u.b)((function(e){return{theme:e.settings.userSettings.theme}}),tv)((function(e){return Object(da.jsx)(Yj,{children:Object(da.jsx)(Yj.Page,{id:"general",title:"General",icon:{data:ev,height:14,width:14},children:Object(da.jsx)(Yj.Section,{title:"General",children:Object(da.jsx)(Yj.Item,{title:"Interface theme",children:Object(da.jsxs)(ji.a,{value:e.theme,onUpdate:function(t){e.setSettingValue(Y,t)},children:[Object(da.jsx)(ji.a.Option,{value:$j.system,children:"System"}),Object(da.jsx)(ji.a.Option,{value:$j.light,children:"Light"}),Object(da.jsx)(ji.a.Option,{value:$j.dark,children:"Dark"})]})})})})})})),nv=(a(948),b()("kv-navigation"));function rv(e){var t=e.ydbUser,a=e.logout,n=e.setIsNotAuthenticated;return Object(da.jsxs)("div",{className:nv("internal-user"),children:[Object(da.jsxs)("div",{className:nv("user-info-wrapper"),children:[Object(da.jsx)("div",{className:nv("ydb-internal-user-title"),children:"YDB user"}),t&&Object(da.jsx)("div",{className:nv("username"),children:t})]}),t?Object(da.jsx)(Wr.a,{view:"flat-secondary",onClick:a,title:"logout",children:Object(da.jsx)(Ci.a,{data:uj,size:16})}):Object(da.jsx)(Wr.a,{view:"flat-secondary",onClick:n,title:"login",children:Object(da.jsx)(Ci.a,{data:jj,size:16})})]})}function iv(e){var t,a=e.isCompact,r=e.popupAnchor,i=e.ydbUser,o=Object(n.useState)(!1),s=Object(Oe.a)(o,2),c=s[0],l=s[1],d=null!==i&&void 0!==i&&i.login?Ij:Lj;return Object(da.jsx)(Xp,{isCurrent:c,slot:xp.User,renderCustomIcon:function(){return Object(da.jsx)(Ci.a,{data:d,size:22,className:nv("user-icon")})},text:null!==(t=null===i||void 0===i?void 0:i.login)&&void 0!==t?t:"Account",isCompact:a,popupAnchor:r,popupVisible:c,onClick:function(){return l(!0)},onClosePopup:function(){return l(!1)},renderPopupContent:function(){return Object(da.jsx)("div",{className:nv("ydb-user-wrapper"),children:Object(da.jsx)(rv,{ydbUser:i.login,logout:i.logout,setIsNotAuthenticated:i.setIsNotAuthenticated})})}})}var ov=[{id:zr.id,title:"Databases",icon:Sj,iconSize:20,location:qr(Gr.cluster,{activeTab:zr.id}),locationKeys:["/tenant"]},{id:Zr.id,title:"Nodes",icon:fj,iconSize:20,location:qr(Gr.cluster,{activeTab:Zr.id}),locationKeys:["/node"]},{id:Br.id,title:"Storage",icon:gj,iconSize:20,location:qr(Gr.cluster,{activeTab:Br.id}),locationKeys:["/storage"]},{id:Qr.id,title:"Cluster",icon:yj,iconSize:20,location:qr(Gr.cluster,{activeTab:Qr.id}),locationKeys:["/cluster/cluster"]}];var sv={logout:function(){return fe({request:window.api.logout(),actions:de})},setIsNotAuthenticated:function(){return function(e){e({type:de.SUCCESS})}}},cv=Object(u.b)((function(e){return{ydbUser:e.authentication.user}}),sv)((function(e){var t=Object(j.h)(),a=Object(j.g)(),n=r.a.useMemo((function(){var e=t.pathname,n="/cluster"===e;return ov.map((function(t){var r,i=null===(r=t.locationKeys)||void 0===r?void 0:r.filter((function(t){return e.startsWith(t)})),o=i&&i.length>0||t.location.startsWith(e);return n&&t.id!==zr.id&&(o=!1),{id:t.id,title:t.title,icon:t.icon,iconSize:t.iconSize,current:o,onItemClick:function(){a.push(t.location)}}}))}),[t,a]);return Object(da.jsx)(r.a.Fragment,{children:Object(da.jsx)(cj,{logoText:"YDB",logoIcon:Hh,onLogoIconClick:function(){return a.push("/")},menuItems:n,settings:Object(da.jsx)(av,{}),className:nv(),renderContent:function(){return e.children},renderFooter:function(t){var a=t.isCompact,n=t.asideRef;return Object(da.jsxs)(r.a.Fragment,{children:[Object(da.jsx)(Xp,{slot:xp.Support,iconSize:24,text:"Documentation",isCompact:a,onClick:function(){window.open("http://ydb.tech/docs","_blank","noreferrer")}}),Object(da.jsx)(iv,{isCompact:a,popupAnchor:n,ydbUser:{login:e.ydbUser,logout:e.logout,setIsNotAuthenticated:e.setIsNotAuthenticated}})]})}})})}));Fc.a.register({id:Vc}),Fc.a.setMonarchTokensProvider(Vc,{defaultToken:"text",ignoreCase:!0,tokenPostfix:".yql",brackets:[{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"{",close:"}",token:"delimiter.curly"}],keywordControl:"bind|block|declare|export|import|lambda|let|quote|return".split("|"),escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[{include:"@whitespace"},{include:"@comment"},[/(#)((?:\w|[\\+-=<>'"&#])+)/,["delimiter","constant"]],[/(?:\b(?:(defun|defmethod|defmacro))\b)(\s+)((?:\w|-|\?)*)/,["type.function","text","entity.name"]],[/(\*)(\S*)(\*)/,["delimiter","variable","delimiter"]],{include:"@strings"},[/'[^#\s)(]+/,"variable.parameter"],[/[(){}[\]]/,"@brackets"],[/(?:(?:<=?|>=?|==|!=|[-+*/%])|[a-zA-Z][a-zA-Z0-9!]*)/,{cases:{"@keywordControl":{token:"keyword.operator"},"@default":"identifier"}}]],whitespace:[[/\s+/,"white"]],comment:[[/#.*/,"comment"]],strings:[[/'?"(?=.)/,{token:"string",next:"@qqstring"}],[/'?[@]{2}/,{token:"string",next:"@multiline"}],[/'?x"(?:[0-9A-Fa-f]{2})*"/,"string"]],qqstring:[[/\\(?:[0-3][0-7][0-7]|x[0-9A-Fa-f]{2}|["tnrbfav\\])/,"string.escape"],[/[^"\\]+/,"string"],[/"|$/,{token:"string",next:"@pop"}]],multiline:[[/[^@]+/,"string"],[/[@]{2}/,{token:"string",next:"@pop"}],[/./,{token:"string"}]]}});var lv=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),n=t.call(this,e),p.setLang(h.a.LANGS.en),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isAuthenticated,a=e.getUser;t&&a()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.isAuthenticated,n=t.getUser,r=t.internalUser;!a||e.isAuthenticated&&r||n()}},{key:"renderContentWithNavigation",value:function(){return Object(da.jsxs)(cv,{children:[Object(da.jsx)(qh,{singleClusterMode:this.props.singleClusterMode}),Object(da.jsx)("div",{id:"fullscreen-root"})]})}},{key:"render",value:function(){return Object(da.jsx)(Gh,{children:this.renderContentWithNavigation()})}}]),a}(r.a.Component);var dv={getUser:function(){return fe({request:window.api.whoami(),actions:he,dataHandler:function(e){var t=e.UserSID;return"Login"===e.AuthType?t:void 0}})}},uv=Object(u.b)((function(e){return{isAuthenticated:e.authentication.isAuthenticated,internalUser:e.authentication.user,singleClusterMode:e.singleClusterMode}}),dv)(lv),hv=function(e){e&&e instanceof Function&&a.e(78).then(a.bind(null,1065)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),i(e),o(e)}))},pv=(a(949),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dr,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=Vr(window.location.href,t);Er=a.backend,Ir=a.basename,Mr=a.clusterName;var n=Object(Rt.a)({basename:Ir}),r=Ur(e,n,t);return Object(k.listenForHistoryChange)(r,n),{history:n,store:r}}()),jv=pv.store,vv=pv.history;window.store=jv,o.a.render(Object(da.jsx)(r.a.StrictMode,{children:Object(da.jsx)(u.a,{store:jv,children:Object(da.jsx)(Co.Provider,{value:vv,children:Object(da.jsx)(uv,{})})})}),document.getElementById("root")),hv()}},[[950,3,4]]]);
//# sourceMappingURL=main.1880b6ce.chunk.js.map